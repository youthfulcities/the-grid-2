"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/xstate";
exports.ids = ["vendor-chunks/xstate"];
exports.modules = {

/***/ "(ssr)/./node_modules/xstate/es/Actor.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/Actor.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDeferredActor: () => (/* binding */ createDeferredActor),\n/* harmony export */   createInvocableActor: () => (/* binding */ createInvocableActor),\n/* harmony export */   createNullActor: () => (/* binding */ createNullActor),\n/* harmony export */   isActor: () => (/* binding */ isActor),\n/* harmony export */   isSpawnedActor: () => (/* binding */ isSpawnedActor),\n/* harmony export */   toActorRef: () => (/* binding */ toActorRef)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _serviceScope_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serviceScope.js */ \"(ssr)/./node_modules/xstate/es/serviceScope.js\");\n\n\n\nfunction createNullActor(id) {\n    var _a;\n    return _a = {\n        id: id,\n        send: function() {\n            return void 0;\n        },\n        subscribe: function() {\n            return {\n                unsubscribe: function() {\n                    return void 0;\n                }\n            };\n        },\n        getSnapshot: function() {\n            return undefined;\n        },\n        toJSON: function() {\n            return {\n                id: id\n            };\n        }\n    }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n        return this;\n    }, _a;\n}\n/**\r\n * Creates a deferred actor that is able to be invoked given the provided\r\n * invocation information in its `.meta` value.\r\n *\r\n * @param invokeDefinition The meta information needed to invoke the actor.\r\n */ function createInvocableActor(invokeDefinition, machine, context, _event) {\n    var _a;\n    var invokeSrc = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toInvokeSource)(invokeDefinition.src);\n    var serviceCreator = (_a = machine === null || machine === void 0 ? void 0 : machine.options.services) === null || _a === void 0 ? void 0 : _a[invokeSrc.type];\n    var resolvedData = invokeDefinition.data ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapContext)(invokeDefinition.data, context, _event) : undefined;\n    var tempActor = serviceCreator ? createDeferredActor(serviceCreator, invokeDefinition.id, resolvedData) : createNullActor(invokeDefinition.id); // @ts-ignore\n    tempActor.meta = invokeDefinition;\n    return tempActor;\n}\nfunction createDeferredActor(entity, id, data) {\n    var tempActor = createNullActor(id); // @ts-ignore\n    tempActor.deferred = true;\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(entity)) {\n        // \"mute\" the existing service scope so potential spawned actors within the `.initialState` stay deferred here\n        var initialState_1 = tempActor.state = (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_1__.provide)(undefined, function() {\n            return (data ? entity.withContext(data) : entity).initialState;\n        });\n        tempActor.getSnapshot = function() {\n            return initialState_1;\n        };\n    }\n    return tempActor;\n}\nfunction isActor(item) {\n    try {\n        return typeof item.send === \"function\";\n    } catch (e) {\n        return false;\n    }\n}\nfunction isSpawnedActor(item) {\n    return isActor(item) && \"id\" in item;\n} // TODO: refactor the return type, this could be written in a better way but it's best to avoid unneccessary breaking changes now\nfunction toActorRef(actorRefLike) {\n    var _a;\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((_a = {\n        subscribe: function() {\n            return {\n                unsubscribe: function() {\n                    return void 0;\n                }\n            };\n        },\n        id: \"anonymous\",\n        getSnapshot: function() {\n            return undefined;\n        }\n    }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n        return this;\n    }, _a), actorRefLike);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL0FjdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNxQztBQUN6QztBQUU1QyxTQUFTTSxnQkFBZ0JDLEVBQUU7SUFDekIsSUFBSUM7SUFFSixPQUFPQSxLQUFLO1FBQ1ZELElBQUlBO1FBQ0pFLE1BQU07WUFDSixPQUFPLEtBQUs7UUFDZDtRQUNBQyxXQUFXO1lBQ1QsT0FBTztnQkFDTEMsYUFBYTtvQkFDWCxPQUFPLEtBQUs7Z0JBQ2Q7WUFDRjtRQUNGO1FBQ0FDLGFBQWE7WUFDWCxPQUFPQztRQUNUO1FBQ0FDLFFBQVE7WUFDTixPQUFPO2dCQUNMUCxJQUFJQTtZQUNOO1FBQ0Y7SUFDRixHQUFHQyxFQUFFLENBQUNQLHVEQUFnQkEsQ0FBQyxHQUFHO1FBQ3hCLE9BQU8sSUFBSTtJQUNiLEdBQUdPO0FBQ0w7QUFDQTs7Ozs7Q0FLQyxHQUVELFNBQVNPLHFCQUFxQkMsZ0JBQWdCLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxNQUFNO0lBQ3RFLElBQUlYO0lBRUosSUFBSVksWUFBWWxCLHlEQUFjQSxDQUFDYyxpQkFBaUJLLEdBQUc7SUFDbkQsSUFBSUMsaUJBQWlCLENBQUNkLEtBQUtTLFlBQVksUUFBUUEsWUFBWSxLQUFLLElBQUksS0FBSyxJQUFJQSxRQUFRTSxPQUFPLENBQUNDLFFBQVEsTUFBTSxRQUFRaEIsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxFQUFFLENBQUNZLFVBQVVLLElBQUksQ0FBQztJQUM5SixJQUFJQyxlQUFlVixpQkFBaUJXLElBQUksR0FBR3hCLHFEQUFVQSxDQUFDYSxpQkFBaUJXLElBQUksRUFBRVQsU0FBU0MsVUFBVU47SUFDaEcsSUFBSWUsWUFBWU4saUJBQWlCTyxvQkFBb0JQLGdCQUFnQk4saUJBQWlCVCxFQUFFLEVBQUVtQixnQkFBZ0JwQixnQkFBZ0JVLGlCQUFpQlQsRUFBRSxHQUFHLGFBQWE7SUFFN0pxQixVQUFVRSxJQUFJLEdBQUdkO0lBQ2pCLE9BQU9ZO0FBQ1Q7QUFDQSxTQUFTQyxvQkFBb0JFLE1BQU0sRUFBRXhCLEVBQUUsRUFBRW9CLElBQUk7SUFDM0MsSUFBSUMsWUFBWXRCLGdCQUFnQkMsS0FBSyxhQUFhO0lBRWxEcUIsVUFBVUksUUFBUSxHQUFHO0lBRXJCLElBQUk1QixvREFBU0EsQ0FBQzJCLFNBQVM7UUFDckIsOEdBQThHO1FBQzlHLElBQUlFLGlCQUFpQkwsVUFBVU0sS0FBSyxHQUFHN0IseURBQU9BLENBQUNRLFdBQVc7WUFDeEQsT0FBTyxDQUFDYyxPQUFPSSxPQUFPSSxXQUFXLENBQUNSLFFBQVFJLE1BQUssRUFBR0ssWUFBWTtRQUNoRTtRQUVBUixVQUFVaEIsV0FBVyxHQUFHO1lBQ3RCLE9BQU9xQjtRQUNUO0lBQ0Y7SUFFQSxPQUFPTDtBQUNUO0FBQ0EsU0FBU1MsUUFBUUMsSUFBSTtJQUNuQixJQUFJO1FBQ0YsT0FBTyxPQUFPQSxLQUFLN0IsSUFBSSxLQUFLO0lBQzlCLEVBQUUsT0FBTzhCLEdBQUc7UUFDVixPQUFPO0lBQ1Q7QUFDRjtBQUNBLFNBQVNDLGVBQWVGLElBQUk7SUFDMUIsT0FBT0QsUUFBUUMsU0FBUyxRQUFRQTtBQUNsQyxFQUFFLGlJQUFpSTtBQUVuSSxTQUFTRyxXQUFXQyxZQUFZO0lBQzlCLElBQUlsQztJQUVKLE9BQU9SLDJEQUFRQSxDQUFFUSxDQUFBQSxLQUFLO1FBQ3BCRSxXQUFXO1lBQ1QsT0FBTztnQkFDTEMsYUFBYTtvQkFDWCxPQUFPLEtBQUs7Z0JBQ2Q7WUFDRjtRQUNGO1FBQ0FKLElBQUk7UUFDSkssYUFBYTtZQUNYLE9BQU9DO1FBQ1Q7SUFDRixHQUFHTCxFQUFFLENBQUNQLHVEQUFnQkEsQ0FBQyxHQUFHO1FBQ3hCLE9BQU8sSUFBSTtJQUNiLEdBQUdPLEVBQUMsR0FBSWtDO0FBQ1Y7QUFFMkciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aGUtZ3JpZC0yLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9BY3Rvci5qcz9iYjNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSAnLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgc3ltYm9sT2JzZXJ2YWJsZSwgdG9JbnZva2VTb3VyY2UsIG1hcENvbnRleHQsIGlzTWFjaGluZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgcHJvdmlkZSB9IGZyb20gJy4vc2VydmljZVNjb3BlLmpzJztcblxuZnVuY3Rpb24gY3JlYXRlTnVsbEFjdG9yKGlkKSB7XG4gIHZhciBfYTtcblxuICByZXR1cm4gX2EgPSB7XG4gICAgaWQ6IGlkLFxuICAgIHNlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSxcbiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldFNuYXBzaG90OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgdG9KU09OOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogaWRcbiAgICAgIH07XG4gICAgfVxuICB9LCBfYVtzeW1ib2xPYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSwgX2E7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIGRlZmVycmVkIGFjdG9yIHRoYXQgaXMgYWJsZSB0byBiZSBpbnZva2VkIGdpdmVuIHRoZSBwcm92aWRlZFxyXG4gKiBpbnZvY2F0aW9uIGluZm9ybWF0aW9uIGluIGl0cyBgLm1ldGFgIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0gaW52b2tlRGVmaW5pdGlvbiBUaGUgbWV0YSBpbmZvcm1hdGlvbiBuZWVkZWQgdG8gaW52b2tlIHRoZSBhY3Rvci5cclxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZUludm9jYWJsZUFjdG9yKGludm9rZURlZmluaXRpb24sIG1hY2hpbmUsIGNvbnRleHQsIF9ldmVudCkge1xuICB2YXIgX2E7XG5cbiAgdmFyIGludm9rZVNyYyA9IHRvSW52b2tlU291cmNlKGludm9rZURlZmluaXRpb24uc3JjKTtcbiAgdmFyIHNlcnZpY2VDcmVhdG9yID0gKF9hID0gbWFjaGluZSA9PT0gbnVsbCB8fCBtYWNoaW5lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYWNoaW5lLm9wdGlvbnMuc2VydmljZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtpbnZva2VTcmMudHlwZV07XG4gIHZhciByZXNvbHZlZERhdGEgPSBpbnZva2VEZWZpbml0aW9uLmRhdGEgPyBtYXBDb250ZXh0KGludm9rZURlZmluaXRpb24uZGF0YSwgY29udGV4dCwgX2V2ZW50KSA6IHVuZGVmaW5lZDtcbiAgdmFyIHRlbXBBY3RvciA9IHNlcnZpY2VDcmVhdG9yID8gY3JlYXRlRGVmZXJyZWRBY3RvcihzZXJ2aWNlQ3JlYXRvciwgaW52b2tlRGVmaW5pdGlvbi5pZCwgcmVzb2x2ZWREYXRhKSA6IGNyZWF0ZU51bGxBY3RvcihpbnZva2VEZWZpbml0aW9uLmlkKTsgLy8gQHRzLWlnbm9yZVxuXG4gIHRlbXBBY3Rvci5tZXRhID0gaW52b2tlRGVmaW5pdGlvbjtcbiAgcmV0dXJuIHRlbXBBY3Rvcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmVycmVkQWN0b3IoZW50aXR5LCBpZCwgZGF0YSkge1xuICB2YXIgdGVtcEFjdG9yID0gY3JlYXRlTnVsbEFjdG9yKGlkKTsgLy8gQHRzLWlnbm9yZVxuXG4gIHRlbXBBY3Rvci5kZWZlcnJlZCA9IHRydWU7XG5cbiAgaWYgKGlzTWFjaGluZShlbnRpdHkpKSB7XG4gICAgLy8gXCJtdXRlXCIgdGhlIGV4aXN0aW5nIHNlcnZpY2Ugc2NvcGUgc28gcG90ZW50aWFsIHNwYXduZWQgYWN0b3JzIHdpdGhpbiB0aGUgYC5pbml0aWFsU3RhdGVgIHN0YXkgZGVmZXJyZWQgaGVyZVxuICAgIHZhciBpbml0aWFsU3RhdGVfMSA9IHRlbXBBY3Rvci5zdGF0ZSA9IHByb3ZpZGUodW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKGRhdGEgPyBlbnRpdHkud2l0aENvbnRleHQoZGF0YSkgOiBlbnRpdHkpLmluaXRpYWxTdGF0ZTtcbiAgICB9KTtcblxuICAgIHRlbXBBY3Rvci5nZXRTbmFwc2hvdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpbml0aWFsU3RhdGVfMTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHRlbXBBY3Rvcjtcbn1cbmZ1bmN0aW9uIGlzQWN0b3IoaXRlbSkge1xuICB0cnkge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbS5zZW5kID09PSAnZnVuY3Rpb24nO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBpc1NwYXduZWRBY3RvcihpdGVtKSB7XG4gIHJldHVybiBpc0FjdG9yKGl0ZW0pICYmICdpZCcgaW4gaXRlbTtcbn0gLy8gVE9ETzogcmVmYWN0b3IgdGhlIHJldHVybiB0eXBlLCB0aGlzIGNvdWxkIGJlIHdyaXR0ZW4gaW4gYSBiZXR0ZXIgd2F5IGJ1dCBpdCdzIGJlc3QgdG8gYXZvaWQgdW5uZWNjZXNzYXJ5IGJyZWFraW5nIGNoYW5nZXMgbm93XG5cbmZ1bmN0aW9uIHRvQWN0b3JSZWYoYWN0b3JSZWZMaWtlKSB7XG4gIHZhciBfYTtcblxuICByZXR1cm4gX19hc3NpZ24oKF9hID0ge1xuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgaWQ6ICdhbm9ueW1vdXMnLFxuICAgIGdldFNuYXBzaG90OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSwgX2Fbc3ltYm9sT2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sIF9hKSwgYWN0b3JSZWZMaWtlKTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlRGVmZXJyZWRBY3RvciwgY3JlYXRlSW52b2NhYmxlQWN0b3IsIGNyZWF0ZU51bGxBY3RvciwgaXNBY3RvciwgaXNTcGF3bmVkQWN0b3IsIHRvQWN0b3JSZWYgfTtcbiJdLCJuYW1lcyI6WyJfX2Fzc2lnbiIsInN5bWJvbE9ic2VydmFibGUiLCJ0b0ludm9rZVNvdXJjZSIsIm1hcENvbnRleHQiLCJpc01hY2hpbmUiLCJwcm92aWRlIiwiY3JlYXRlTnVsbEFjdG9yIiwiaWQiLCJfYSIsInNlbmQiLCJzdWJzY3JpYmUiLCJ1bnN1YnNjcmliZSIsImdldFNuYXBzaG90IiwidW5kZWZpbmVkIiwidG9KU09OIiwiY3JlYXRlSW52b2NhYmxlQWN0b3IiLCJpbnZva2VEZWZpbml0aW9uIiwibWFjaGluZSIsImNvbnRleHQiLCJfZXZlbnQiLCJpbnZva2VTcmMiLCJzcmMiLCJzZXJ2aWNlQ3JlYXRvciIsIm9wdGlvbnMiLCJzZXJ2aWNlcyIsInR5cGUiLCJyZXNvbHZlZERhdGEiLCJkYXRhIiwidGVtcEFjdG9yIiwiY3JlYXRlRGVmZXJyZWRBY3RvciIsIm1ldGEiLCJlbnRpdHkiLCJkZWZlcnJlZCIsImluaXRpYWxTdGF0ZV8xIiwic3RhdGUiLCJ3aXRoQ29udGV4dCIsImluaXRpYWxTdGF0ZSIsImlzQWN0b3IiLCJpdGVtIiwiZSIsImlzU3Bhd25lZEFjdG9yIiwidG9BY3RvclJlZiIsImFjdG9yUmVmTGlrZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/Actor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/Machine.js":
/*!*******************************************!*\
  !*** ./node_modules/xstate/es/Machine.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Machine: () => (/* binding */ Machine),\n/* harmony export */   createMachine: () => (/* binding */ createMachine)\n/* harmony export */ });\n/* harmony import */ var _StateNode_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StateNode.js */ \"(ssr)/./node_modules/xstate/es/StateNode.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\n\nvar warned = false;\nfunction Machine(config, options, initialContext) {\n    if (initialContext === void 0) {\n        initialContext = config.context;\n    }\n    return new _StateNode_js__WEBPACK_IMPORTED_MODULE_0__.StateNode(config, options, initialContext);\n}\nfunction createMachine(config, options) {\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION && !(\"predictableActionArguments\" in config) && !warned) {\n        warned = true;\n        console.warn(\"It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html\");\n    }\n    return new _StateNode_js__WEBPACK_IMPORTED_MODULE_0__.StateNode(config, options);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL01hY2hpbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNNO0FBRWpELElBQUlFLFNBQVM7QUFDYixTQUFTQyxRQUFRQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsY0FBYztJQUM5QyxJQUFJQSxtQkFBbUIsS0FBSyxHQUFHO1FBQzdCQSxpQkFBaUJGLE9BQU9HLE9BQU87SUFDakM7SUFFQSxPQUFPLElBQUlQLG9EQUFTQSxDQUFDSSxRQUFRQyxTQUFTQztBQUN4QztBQUNBLFNBQVNFLGNBQWNKLE1BQU0sRUFBRUMsT0FBTztJQUNwQyxJQUFJLENBQUNKLDBEQUFhQSxJQUFJLENBQUUsaUNBQWdDRyxNQUFLLEtBQU0sQ0FBQ0YsUUFBUTtRQUMxRUEsU0FBUztRQUNUTyxRQUFRQyxJQUFJLENBQUM7SUFDZjtJQUVBLE9BQU8sSUFBSVYsb0RBQVNBLENBQUNJLFFBQVFDO0FBQy9CO0FBRWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLWdyaWQtMi8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvTWFjaGluZS5qcz83YjhhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0YXRlTm9kZSB9IGZyb20gJy4vU3RhdGVOb2RlLmpzJztcbmltcG9ydCB7IElTX1BST0RVQ1RJT04gfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcblxudmFyIHdhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gTWFjaGluZShjb25maWcsIG9wdGlvbnMsIGluaXRpYWxDb250ZXh0KSB7XG4gIGlmIChpbml0aWFsQ29udGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgaW5pdGlhbENvbnRleHQgPSBjb25maWcuY29udGV4dDtcbiAgfVxuXG4gIHJldHVybiBuZXcgU3RhdGVOb2RlKGNvbmZpZywgb3B0aW9ucywgaW5pdGlhbENvbnRleHQpO1xufVxuZnVuY3Rpb24gY3JlYXRlTWFjaGluZShjb25maWcsIG9wdGlvbnMpIHtcbiAgaWYgKCFJU19QUk9EVUNUSU9OICYmICEoJ3ByZWRpY3RhYmxlQWN0aW9uQXJndW1lbnRzJyBpbiBjb25maWcpICYmICF3YXJuZWQpIHtcbiAgICB3YXJuZWQgPSB0cnVlO1xuICAgIGNvbnNvbGUud2FybignSXQgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHRvIHNldCBgcHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHNgIHRvIGB0cnVlYCB3aGVuIHVzaW5nIGBjcmVhdGVNYWNoaW5lYC4gaHR0cHM6Ly94c3RhdGUuanMub3JnL2RvY3MvZ3VpZGVzL2FjdGlvbnMuaHRtbCcpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBTdGF0ZU5vZGUoY29uZmlnLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IHsgTWFjaGluZSwgY3JlYXRlTWFjaGluZSB9O1xuIl0sIm5hbWVzIjpbIlN0YXRlTm9kZSIsIklTX1BST0RVQ1RJT04iLCJ3YXJuZWQiLCJNYWNoaW5lIiwiY29uZmlnIiwib3B0aW9ucyIsImluaXRpYWxDb250ZXh0IiwiY29udGV4dCIsImNyZWF0ZU1hY2hpbmUiLCJjb25zb2xlIiwid2FybiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/Machine.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/State.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/State.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   State: () => (/* binding */ State),\n/* harmony export */   bindActionToState: () => (/* binding */ bindActionToState),\n/* harmony export */   isState: () => (/* binding */ isState),\n/* harmony export */   isStateConfig: () => (/* binding */ isStateConfig),\n/* harmony export */   stateValuesEqual: () => (/* binding */ stateValuesEqual)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/xstate/es/constants.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _stateUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stateUtils.js */ \"(ssr)/./node_modules/xstate/es/stateUtils.js\");\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\n\n\n\n\n\nfunction stateValuesEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (a === undefined || b === undefined) {\n        return false;\n    }\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(a) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(b)) {\n        return a === b;\n    }\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    return aKeys.length === bKeys.length && aKeys.every(function(key) {\n        return stateValuesEqual(a[key], b[key]);\n    });\n}\nfunction isStateConfig(state) {\n    if (typeof state !== \"object\" || state === null) {\n        return false;\n    }\n    return \"value\" in state && \"_event\" in state;\n}\n/**\r\n * @deprecated Use `isStateConfig(object)` or `state instanceof State` instead.\r\n */ var isState = isStateConfig;\nfunction bindActionToState(action, state) {\n    var exec = action.exec;\n    var boundAction = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, action), {\n        exec: exec !== undefined ? function() {\n            return exec(state.context, state.event, {\n                action: action,\n                state: state,\n                _event: state._event\n            });\n        } : undefined\n    });\n    return boundAction;\n}\nvar State = /*#__PURE__*/ /** @class */ function() {\n    /**\r\n   * Creates a new State instance.\r\n   * @param value The state value\r\n   * @param context The extended state\r\n   * @param historyValue The tree representing historical values of the state nodes\r\n   * @param history The previous state\r\n   * @param actions An array of action objects to execute as side-effects\r\n   * @param activities A mapping of activities and whether they are started (`true`) or stopped (`false`).\r\n   * @param meta\r\n   * @param events Internal event queue. Should be empty with run-to-completion semantics.\r\n   * @param configuration\r\n   */ function State(config) {\n        var _this = this;\n        var _a;\n        this.actions = [];\n        this.activities = _constants_js__WEBPACK_IMPORTED_MODULE_2__.EMPTY_ACTIVITY_MAP;\n        this.meta = {};\n        this.events = [];\n        this.value = config.value;\n        this.context = config.context;\n        this._event = config._event;\n        this._sessionid = config._sessionid;\n        this.event = this._event.data;\n        this.historyValue = config.historyValue;\n        this.history = config.history;\n        this.actions = config.actions || [];\n        this.activities = config.activities || _constants_js__WEBPACK_IMPORTED_MODULE_2__.EMPTY_ACTIVITY_MAP;\n        this.meta = (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMeta)(config.configuration);\n        this.events = config.events || [];\n        this.matches = this.matches.bind(this);\n        this.toStrings = this.toStrings.bind(this);\n        this.configuration = config.configuration;\n        this.transitions = config.transitions;\n        this.children = config.children;\n        this.done = !!config.done;\n        this.tags = (_a = Array.isArray(config.tags) ? new Set(config.tags) : config.tags) !== null && _a !== void 0 ? _a : new Set();\n        this.machine = config.machine;\n        Object.defineProperty(this, \"nextEvents\", {\n            get: function() {\n                return (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_3__.nextEvents)(_this.configuration);\n            }\n        });\n    }\n    /**\r\n   * Creates a new State instance for the given `stateValue` and `context`.\r\n   * @param stateValue\r\n   * @param context\r\n   */ State.from = function(stateValue, context) {\n        if (stateValue instanceof State) {\n            if (stateValue.context !== context) {\n                return new State({\n                    value: stateValue.value,\n                    context: context,\n                    _event: stateValue._event,\n                    _sessionid: null,\n                    historyValue: stateValue.historyValue,\n                    history: stateValue.history,\n                    actions: [],\n                    activities: stateValue.activities,\n                    meta: {},\n                    events: [],\n                    configuration: [],\n                    transitions: [],\n                    children: {}\n                });\n            }\n            return stateValue;\n        }\n        var _event = _actions_js__WEBPACK_IMPORTED_MODULE_4__.initEvent;\n        return new State({\n            value: stateValue,\n            context: context,\n            _event: _event,\n            _sessionid: null,\n            historyValue: undefined,\n            history: undefined,\n            actions: [],\n            activities: undefined,\n            meta: undefined,\n            events: [],\n            configuration: [],\n            transitions: [],\n            children: {}\n        });\n    };\n    /**\r\n   * Creates a new State instance for the given `config`.\r\n   * @param config The state config\r\n   */ State.create = function(config) {\n        return new State(config);\n    };\n    /**\r\n   * Creates a new `State` instance for the given `stateValue` and `context` with no actions (side-effects).\r\n   * @param stateValue\r\n   * @param context\r\n   */ State.inert = function(stateValue, context) {\n        if (stateValue instanceof State) {\n            if (!stateValue.actions.length) {\n                return stateValue;\n            }\n            var _event = _actions_js__WEBPACK_IMPORTED_MODULE_4__.initEvent;\n            return new State({\n                value: stateValue.value,\n                context: context,\n                _event: _event,\n                _sessionid: null,\n                historyValue: stateValue.historyValue,\n                history: stateValue.history,\n                activities: stateValue.activities,\n                configuration: stateValue.configuration,\n                transitions: [],\n                children: {}\n            });\n        }\n        return State.from(stateValue, context);\n    };\n    /**\r\n   * Returns an array of all the string leaf state node paths.\r\n   * @param stateValue\r\n   * @param delimiter The character(s) that separate each subpath in the string state node path.\r\n   */ State.prototype.toStrings = function(stateValue, delimiter) {\n        var _this = this;\n        if (stateValue === void 0) {\n            stateValue = this.value;\n        }\n        if (delimiter === void 0) {\n            delimiter = \".\";\n        }\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateValue)) {\n            return [\n                stateValue\n            ];\n        }\n        var valueKeys = Object.keys(stateValue);\n        return valueKeys.concat.apply(valueKeys, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(valueKeys.map(function(key) {\n            return _this.toStrings(stateValue[key], delimiter).map(function(s) {\n                return key + delimiter + s;\n            });\n        })), false));\n    };\n    State.prototype.toJSON = function() {\n        var _a = this;\n        _a.configuration;\n        _a.transitions;\n        var tags = _a.tags;\n        _a.machine;\n        var jsonValues = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__rest)(_a, [\n            \"configuration\",\n            \"transitions\",\n            \"tags\",\n            \"machine\"\n        ]);\n        return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, jsonValues), {\n            tags: Array.from(tags)\n        });\n    };\n    State.prototype.matches = function(parentStateValue) {\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.matchesState)(parentStateValue, this.value);\n    };\n    /**\r\n   * Whether the current state configuration has a state node with the specified `tag`.\r\n   * @param tag\r\n   */ State.prototype.hasTag = function(tag) {\n        return this.tags.has(tag);\n    };\n    /**\r\n   * Determines whether sending the `event` will cause a non-forbidden transition\r\n   * to be selected, even if the transitions have no actions nor\r\n   * change the state value.\r\n   *\r\n   * @param event The event to test\r\n   * @returns Whether the event will cause a transition\r\n   */ State.prototype.can = function(event) {\n        var _a;\n        if (_environment_js__WEBPACK_IMPORTED_MODULE_5__.IS_PRODUCTION) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!!this.machine, \"state.can(...) used outside of a machine-created State object; this will always return false.\");\n        }\n        var transitionData = (_a = this.machine) === null || _a === void 0 ? void 0 : _a.getTransitionData(this, event);\n        return !!(transitionData === null || transitionData === void 0 ? void 0 : transitionData.transitions.length) && // Check that at least one transition is not forbidden\n        transitionData.transitions.some(function(t) {\n            return t.target !== undefined || t.actions.length;\n        });\n    };\n    return State;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL1N0YXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStFO0FBQzNCO0FBQ007QUFDSjtBQUNiO0FBQ1E7QUFFakQsU0FBU1ksaUJBQWlCQyxDQUFDLEVBQUVDLENBQUM7SUFDNUIsSUFBSUQsTUFBTUMsR0FBRztRQUNYLE9BQU87SUFDVDtJQUVBLElBQUlELE1BQU1FLGFBQWFELE1BQU1DLFdBQVc7UUFDdEMsT0FBTztJQUNUO0lBRUEsSUFBSVYsbURBQVFBLENBQUNRLE1BQU1SLG1EQUFRQSxDQUFDUyxJQUFJO1FBQzlCLE9BQU9ELE1BQU1DO0lBQ2Y7SUFFQSxJQUFJRSxRQUFRQyxPQUFPQyxJQUFJLENBQUNMO0lBQ3hCLElBQUlNLFFBQVFGLE9BQU9DLElBQUksQ0FBQ0o7SUFDeEIsT0FBT0UsTUFBTUksTUFBTSxLQUFLRCxNQUFNQyxNQUFNLElBQUlKLE1BQU1LLEtBQUssQ0FBQyxTQUFVQyxHQUFHO1FBQy9ELE9BQU9WLGlCQUFpQkMsQ0FBQyxDQUFDUyxJQUFJLEVBQUVSLENBQUMsQ0FBQ1EsSUFBSTtJQUN4QztBQUNGO0FBQ0EsU0FBU0MsY0FBY0MsS0FBSztJQUMxQixJQUFJLE9BQU9BLFVBQVUsWUFBWUEsVUFBVSxNQUFNO1FBQy9DLE9BQU87SUFDVDtJQUVBLE9BQU8sV0FBV0EsU0FBUyxZQUFZQTtBQUN6QztBQUNBOztDQUVDLEdBRUQsSUFBSUMsVUFBVUY7QUFDZCxTQUFTRyxrQkFBa0JDLE1BQU0sRUFBRUgsS0FBSztJQUN0QyxJQUFJSSxPQUFPRCxPQUFPQyxJQUFJO0lBRXRCLElBQUlDLGNBQWM3QiwyREFBUUEsQ0FBQ0EsMkRBQVFBLENBQUMsQ0FBQyxHQUFHMkIsU0FBUztRQUMvQ0MsTUFBTUEsU0FBU2IsWUFBWTtZQUN6QixPQUFPYSxLQUFLSixNQUFNTSxPQUFPLEVBQUVOLE1BQU1PLEtBQUssRUFBRTtnQkFDdENKLFFBQVFBO2dCQUNSSCxPQUFPQTtnQkFDUFEsUUFB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LEdBQUcsU0FBVUMsR0FBRztRQUNwQyxPQUFPLElBQUksQ0FBQ3RCLElBQUksQ0FBQ3VCLEdBQUcsQ0FBQ0Q7SUFDdkI7SUFDQTs7Ozs7OztHQU9DLEdBR0QxQyxNQUFNK0IsU0FBUyxDQUFDYSxHQUFHLEdBQUcsU0FBVTlDLEtBQUs7UUFDbkMsSUFBSUs7UUFFSixJQUFJekIsMERBQWFBLEVBQUU7WUFDakJKLCtDQUFJQSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUNrRCxPQUFPLEVBQUU7UUFDdkI7UUFFQSxJQUFJcUIsaUJBQWlCLENBQUMxQyxLQUFLLElBQUksQ0FBQ3FCLE9BQU8sTUFBTSxRQUFRckIsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHMkMsaUJBQWlCLENBQUMsSUFBSSxFQUFFaEQ7UUFDekcsT0FBTyxDQUFDLENBQUUrQyxDQUFBQSxtQkFBbUIsUUFBUUEsbUJBQW1CLEtBQUssSUFBSSxLQUFLLElBQUlBLGVBQWU1QixXQUFXLENBQUM5QixNQUFNLEtBQUssc0RBQXNEO1FBQ3RLMEQsZUFBZTVCLFdBQVcsQ0FBQzhCLElBQUksQ0FBQyxTQUFVQyxDQUFDO1lBQ3pDLE9BQU9BLEVBQUVDLE1BQU0sS0FBS25FLGFBQWFrRSxFQUFFNUMsT0FBTyxDQUFDakIsTUFBTTtRQUNuRDtJQUNGO0lBRUEsT0FBT2E7QUFDVDtBQUU4RSIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1ncmlkLTIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL1N0YXRlLmpzPzQ1MTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hc3NpZ24sIF9fc3ByZWFkQXJyYXksIF9fcmVhZCwgX19yZXN0IH0gZnJvbSAnLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgRU1QVFlfQUNUSVZJVFlfTUFQIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIG1hdGNoZXNTdGF0ZSwgd2FybiB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0TWV0YSwgbmV4dEV2ZW50cyB9IGZyb20gJy4vc3RhdGVVdGlscy5qcyc7XG5pbXBvcnQgeyBpbml0RXZlbnQgfSBmcm9tICcuL2FjdGlvbnMuanMnO1xuaW1wb3J0IHsgSVNfUFJPRFVDVElPTiB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuXG5mdW5jdGlvbiBzdGF0ZVZhbHVlc0VxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChhID09PSB1bmRlZmluZWQgfHwgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKGEpIHx8IGlzU3RyaW5nKGIpKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH1cblxuICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgdmFyIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG4gIHJldHVybiBhS2V5cy5sZW5ndGggPT09IGJLZXlzLmxlbmd0aCAmJiBhS2V5cy5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHN0YXRlVmFsdWVzRXF1YWwoYVtrZXldLCBiW2tleV0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGlzU3RhdGVDb25maWcoc3RhdGUpIHtcbiAgaWYgKHR5cGVvZiBzdGF0ZSAhPT0gJ29iamVjdCcgfHwgc3RhdGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gJ3ZhbHVlJyBpbiBzdGF0ZSAmJiAnX2V2ZW50JyBpbiBzdGF0ZTtcbn1cbi8qKlxyXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGlzU3RhdGVDb25maWcob2JqZWN0KWAgb3IgYHN0YXRlIGluc3RhbmNlb2YgU3RhdGVgIGluc3RlYWQuXHJcbiAqL1xuXG52YXIgaXNTdGF0ZSA9IGlzU3RhdGVDb25maWc7XG5mdW5jdGlvbiBiaW5kQWN0aW9uVG9TdGF0ZShhY3Rpb24sIHN0YXRlKSB7XG4gIHZhciBleGVjID0gYWN0aW9uLmV4ZWM7XG5cbiAgdmFyIGJvdW5kQWN0aW9uID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGlvbiksIHtcbiAgICBleGVjOiBleGVjICE9PSB1bmRlZmluZWQgPyBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZXhlYyhzdGF0ZS5jb250ZXh0LCBzdGF0ZS5ldmVudCwge1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICBfZXZlbnQ6IHN0YXRlLl9ldmVudFxuICAgICAgfSk7XG4gICAgfSA6IHVuZGVmaW5lZFxuICB9KTtcblxuICByZXR1cm4gYm91bmRBY3Rpb247XG59XG5cbnZhciBTdGF0ZSA9XG4vKiNfX1BVUkVfXyovXG5cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBTdGF0ZSBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHN0YXRlIHZhbHVlXHJcbiAgICogQHBhcmFtIGNvbnRleHQgVGhlIGV4dGVuZGVkIHN0YXRlXHJcbiAgICogQHBhcmFtIGhpc3RvcnlWYWx1ZSBUaGUgdHJlZSByZXByZXNlbnRpbmcgaGlzdG9yaWNhbCB2YWx1ZXMgb2YgdGhlIHN0YXRlIG5vZGVzXHJcbiAgICogQHBhcmFtIGhpc3RvcnkgVGhlIHByZXZpb3VzIHN0YXRlXHJcbiAgICogQHBhcmFtIGFjdGlvbnMgQW4gYXJyYXkgb2YgYWN0aW9uIG9iamVjdHMgdG8gZXhlY3V0ZSBhcyBzaWRlLWVmZmVjdHNcclxuICAgKiBAcGFyYW0gYWN0aXZpdGllcyBBIG1hcHBpbmcgb2YgYWN0aXZpdGllcyBhbmQgd2hldGhlciB0aGV5IGFyZSBzdGFydGVkIChgdHJ1ZWApIG9yIHN0b3BwZWQgKGBmYWxzZWApLlxyXG4gICAqIEBwYXJhbSBtZXRhXHJcbiAgICogQHBhcmFtIGV2ZW50cyBJbnRlcm5hbCBldmVudCBxdWV1ZS4gU2hvdWxkIGJlIGVtcHR5IHdpdGggcnVuLXRvLWNvbXBsZXRpb24gc2VtYW50aWNzLlxyXG4gICAqIEBwYXJhbSBjb25maWd1cmF0aW9uXHJcbiAgICovXG4gIGZ1bmN0aW9uIFN0YXRlKGNvbmZpZykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgX2E7XG5cbiAgICB0aGlzLmFjdGlvbnMgPSBbXTtcbiAgICB0aGlzLmFjdGl2aXRpZXMgPSBFTVBUWV9BQ1RJVklUWV9NQVA7XG4gICAgdGhpcy5tZXRhID0ge307XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICB0aGlzLnZhbHVlID0gY29uZmlnLnZhbHVlO1xuICAgIHRoaXMuY29udGV4dCA9IGNvbmZpZy5jb250ZXh0O1xuICAgIHRoaXMuX2V2ZW50ID0gY29uZmlnLl9ldmVudDtcbiAgICB0aGlzLl9zZXNzaW9uaWQgPSBjb25maWcuX3Nlc3Npb25pZDtcbiAgICB0aGlzLmV2ZW50ID0gdGhpcy5fZXZlbnQuZGF0YTtcbiAgICB0aGlzLmhpc3RvcnlWYWx1ZSA9IGNvbmZpZy5oaXN0b3J5VmFsdWU7XG4gICAgdGhpcy5oaXN0b3J5ID0gY29uZmlnLmhpc3Rvcnk7XG4gICAgdGhpcy5hY3Rpb25zID0gY29uZmlnLmFjdGlvbnMgfHwgW107XG4gICAgdGhpcy5hY3Rpdml0aWVzID0gY29uZmlnLmFjdGl2aXRpZXMgfHwgRU1QVFlfQUNUSVZJVFlfTUFQO1xuICAgIHRoaXMubWV0YSA9IGdldE1ldGEoY29uZmlnLmNvbmZpZ3VyYXRpb24pO1xuICAgIHRoaXMuZXZlbnRzID0gY29uZmlnLmV2ZW50cyB8fCBbXTtcbiAgICB0aGlzLm1hdGNoZXMgPSB0aGlzLm1hdGNoZXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnRvU3RyaW5ncyA9IHRoaXMudG9TdHJpbmdzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlnLmNvbmZpZ3VyYXRpb247XG4gICAgdGhpcy50cmFuc2l0aW9ucyA9IGNvbmZpZy50cmFuc2l0aW9ucztcbiAgICB0aGlzLmNoaWxkcmVuID0gY29uZmlnLmNoaWxkcmVuO1xuICAgIHRoaXMuZG9uZSA9ICEhY29uZmlnLmRvbmU7XG4gICAgdGhpcy50YWdzID0gKF9hID0gQXJyYXkuaXNBcnJheShjb25maWcudGFncykgPyBuZXcgU2V0KGNvbmZpZy50YWdzKSA6IGNvbmZpZy50YWdzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgU2V0KCk7XG4gICAgdGhpcy5tYWNoaW5lID0gY29uZmlnLm1hY2hpbmU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduZXh0RXZlbnRzJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXh0RXZlbnRzKF90aGlzLmNvbmZpZ3VyYXRpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgU3RhdGUgaW5zdGFuY2UgZm9yIHRoZSBnaXZlbiBgc3RhdGVWYWx1ZWAgYW5kIGBjb250ZXh0YC5cclxuICAgKiBAcGFyYW0gc3RhdGVWYWx1ZVxyXG4gICAqIEBwYXJhbSBjb250ZXh0XHJcbiAgICovXG5cblxuICBTdGF0ZS5mcm9tID0gZnVuY3Rpb24gKHN0YXRlVmFsdWUsIGNvbnRleHQpIHtcbiAgICBpZiAoc3RhdGVWYWx1ZSBpbnN0YW5jZW9mIFN0YXRlKSB7XG4gICAgICBpZiAoc3RhdGVWYWx1ZS5jb250ZXh0ICE9PSBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RhdGUoe1xuICAgICAgICAgIHZhbHVlOiBzdGF0ZVZhbHVlLnZhbHVlLFxuICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgX2V2ZW50OiBzdGF0ZVZhbHVlLl9ldmVudCxcbiAgICAgICAgICBfc2Vzc2lvbmlkOiBudWxsLFxuICAgICAgICAgIGhpc3RvcnlWYWx1ZTogc3RhdGVWYWx1ZS5oaXN0b3J5VmFsdWUsXG4gICAgICAgICAgaGlzdG9yeTogc3RhdGVWYWx1ZS5oaXN0b3J5LFxuICAgICAgICAgIGFjdGlvbnM6IFtdLFxuICAgICAgICAgIGFjdGl2aXRpZXM6IHN0YXRlVmFsdWUuYWN0aXZpdGllcyxcbiAgICAgICAgICBtZXRhOiB7fSxcbiAgICAgICAgICBldmVudHM6IFtdLFxuICAgICAgICAgIGNvbmZpZ3VyYXRpb246IFtdLFxuICAgICAgICAgIHRyYW5zaXRpb25zOiBbXSxcbiAgICAgICAgICBjaGlsZHJlbjoge31cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGF0ZVZhbHVlO1xuICAgIH1cblxuICAgIHZhciBfZXZlbnQgPSBpbml0RXZlbnQ7XG4gICAgcmV0dXJuIG5ldyBTdGF0ZSh7XG4gICAgICB2YWx1ZTogc3RhdGVWYWx1ZSxcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICBfZXZlbnQ6IF9ldmVudCxcbiAgICAgIF9zZXNzaW9uaWQ6IG51bGwsXG4gICAgICBoaXN0b3J5VmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGhpc3Rvcnk6IHVuZGVmaW5lZCxcbiAgICAgIGFjdGlvbnM6IFtdLFxuICAgICAgYWN0aXZpdGllczogdW5kZWZpbmVkLFxuICAgICAgbWV0YTogdW5kZWZpbmVkLFxuICAgICAgZXZlbnRzOiBbXSxcbiAgICAgIGNvbmZpZ3VyYXRpb246IFtdLFxuICAgICAgdHJhbnNpdGlvbnM6IFtdLFxuICAgICAgY2hpbGRyZW46IHt9XG4gICAgfSk7XG4gIH07XG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgU3RhdGUgaW5zdGFuY2UgZm9yIHRoZSBnaXZlbiBgY29uZmlnYC5cclxuICAgKiBAcGFyYW0gY29uZmlnIFRoZSBzdGF0ZSBjb25maWdcclxuICAgKi9cblxuXG4gIFN0YXRlLmNyZWF0ZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICByZXR1cm4gbmV3IFN0YXRlKGNvbmZpZyk7XG4gIH07XG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgYFN0YXRlYCBpbnN0YW5jZSBmb3IgdGhlIGdpdmVuIGBzdGF0ZVZhbHVlYCBhbmQgYGNvbnRleHRgIHdpdGggbm8gYWN0aW9ucyAoc2lkZS1lZmZlY3RzKS5cclxuICAgKiBAcGFyYW0gc3RhdGVWYWx1ZVxyXG4gICAqIEBwYXJhbSBjb250ZXh0XHJcbiAgICovXG5cblxuICBTdGF0ZS5pbmVydCA9IGZ1bmN0aW9uIChzdGF0ZVZhbHVlLCBjb250ZXh0KSB7XG4gICAgaWYgKHN0YXRlVmFsdWUgaW5zdGFuY2VvZiBTdGF0ZSkge1xuICAgICAgaWYgKCFzdGF0ZVZhbHVlLmFjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZVZhbHVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2V2ZW50ID0gaW5pdEV2ZW50O1xuICAgICAgcmV0dXJuIG5ldyBTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiBzdGF0ZVZhbHVlLnZhbHVlLFxuICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICBfZXZlbnQ6IF9ldmVudCxcbiAgICAgICAgX3Nlc3Npb25pZDogbnVsbCxcbiAgICAgICAgaGlzdG9yeVZhbHVlOiBzdGF0ZVZhbHVlLmhpc3RvcnlWYWx1ZSxcbiAgICAgICAgaGlzdG9yeTogc3RhdGVWYWx1ZS5oaXN0b3J5LFxuICAgICAgICBhY3Rpdml0aWVzOiBzdGF0ZVZhbHVlLmFjdGl2aXRpZXMsXG4gICAgICAgIGNvbmZpZ3VyYXRpb246IHN0YXRlVmFsdWUuY29uZmlndXJhdGlvbixcbiAgICAgICAgdHJhbnNpdGlvbnM6IFtdLFxuICAgICAgICBjaGlsZHJlbjoge31cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBTdGF0ZS5mcm9tKHN0YXRlVmFsdWUsIGNvbnRleHQpO1xuICB9O1xuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgc3RyaW5nIGxlYWYgc3RhdGUgbm9kZSBwYXRocy5cclxuICAgKiBAcGFyYW0gc3RhdGVWYWx1ZVxyXG4gICAqIEBwYXJhbSBkZWxpbWl0ZXIgVGhlIGNoYXJhY3RlcihzKSB0aGF0IHNlcGFyYXRlIGVhY2ggc3VicGF0aCBpbiB0aGUgc3RyaW5nIHN0YXRlIG5vZGUgcGF0aC5cclxuICAgKi9cblxuXG4gIFN0YXRlLnByb3RvdHlwZS50b1N0cmluZ3MgPSBmdW5jdGlvbiAoc3RhdGVWYWx1ZSwgZGVsaW1pdGVyKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChzdGF0ZVZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHN0YXRlVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIGlmIChkZWxpbWl0ZXIgPT09IHZvaWQgMCkge1xuICAgICAgZGVsaW1pdGVyID0gJy4nO1xuICAgIH1cblxuICAgIGlmIChpc1N0cmluZyhzdGF0ZVZhbHVlKSkge1xuICAgICAgcmV0dXJuIFtzdGF0ZVZhbHVlXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVLZXlzID0gT2JqZWN0LmtleXMoc3RhdGVWYWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlS2V5cy5jb25jYXQuYXBwbHkodmFsdWVLZXlzLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQodmFsdWVLZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gX3RoaXMudG9TdHJpbmdzKHN0YXRlVmFsdWVba2V5XSwgZGVsaW1pdGVyKS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIGtleSArIGRlbGltaXRlciArIHM7XG4gICAgICB9KTtcbiAgICB9KSksIGZhbHNlKSk7XG4gIH07XG5cbiAgU3RhdGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzO1xuICAgICAgICBfYS5jb25maWd1cmF0aW9uO1xuICAgICAgICBfYS50cmFuc2l0aW9ucztcbiAgICAgICAgdmFyIHRhZ3MgPSBfYS50YWdzO1xuICAgICAgICBfYS5tYWNoaW5lO1xuICAgICAgICB2YXIganNvblZhbHVlcyA9IF9fcmVzdChfYSwgW1wiY29uZmlndXJhdGlvblwiLCBcInRyYW5zaXRpb25zXCIsIFwidGFnc1wiLCBcIm1hY2hpbmVcIl0pO1xuXG4gICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBqc29uVmFsdWVzKSwge1xuICAgICAgdGFnczogQXJyYXkuZnJvbSh0YWdzKVxuICAgIH0pO1xuICB9O1xuXG4gIFN0YXRlLnByb3RvdHlwZS5tYXRjaGVzID0gZnVuY3Rpb24gKHBhcmVudFN0YXRlVmFsdWUpIHtcbiAgICByZXR1cm4gbWF0Y2hlc1N0YXRlKHBhcmVudFN0YXRlVmFsdWUsIHRoaXMudmFsdWUpO1xuICB9O1xuICAvKipcclxuICAgKiBXaGV0aGVyIHRoZSBjdXJyZW50IHN0YXRlIGNvbmZpZ3VyYXRpb24gaGFzIGEgc3RhdGUgbm9kZSB3aXRoIHRoZSBzcGVjaWZpZWQgYHRhZ2AuXHJcbiAgICogQHBhcmFtIHRhZ1xyXG4gICAqL1xuXG5cbiAgU3RhdGUucHJvdG90eXBlLmhhc1RhZyA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdGhpcy50YWdzLmhhcyh0YWcpO1xuICB9O1xuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgc2VuZGluZyB0aGUgYGV2ZW50YCB3aWxsIGNhdXNlIGEgbm9uLWZvcmJpZGRlbiB0cmFuc2l0aW9uXHJcbiAgICogdG8gYmUgc2VsZWN0ZWQsIGV2ZW4gaWYgdGhlIHRyYW5zaXRpb25zIGhhdmUgbm8gYWN0aW9ucyBub3JcclxuICAgKiBjaGFuZ2UgdGhlIHN0YXRlIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byB0ZXN0XHJcbiAgICogQHJldHVybnMgV2hldGhlciB0aGUgZXZlbnQgd2lsbCBjYXVzZSBhIHRyYW5zaXRpb25cclxuICAgKi9cblxuXG4gIFN0YXRlLnByb3RvdHlwZS5jYW4gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgX2E7XG5cbiAgICBpZiAoSVNfUFJPRFVDVElPTikge1xuICAgICAgd2FybighIXRoaXMubWFjaGluZSwgXCJzdGF0ZS5jYW4oLi4uKSB1c2VkIG91dHNpZGUgb2YgYSBtYWNoaW5lLWNyZWF0ZWQgU3RhdGUgb2JqZWN0OyB0aGlzIHdpbGwgYWx3YXlzIHJldHVybiBmYWxzZS5cIik7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zaXRpb25EYXRhID0gKF9hID0gdGhpcy5tYWNoaW5lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0VHJhbnNpdGlvbkRhdGEodGhpcywgZXZlbnQpO1xuICAgIHJldHVybiAhISh0cmFuc2l0aW9uRGF0YSA9PT0gbnVsbCB8fCB0cmFuc2l0aW9uRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHJhbnNpdGlvbkRhdGEudHJhbnNpdGlvbnMubGVuZ3RoKSAmJiAvLyBDaGVjayB0aGF0IGF0IGxlYXN0IG9uZSB0cmFuc2l0aW9uIGlzIG5vdCBmb3JiaWRkZW5cbiAgICB0cmFuc2l0aW9uRGF0YS50cmFuc2l0aW9ucy5zb21lKGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gdC50YXJnZXQgIT09IHVuZGVmaW5lZCB8fCB0LmFjdGlvbnMubGVuZ3RoO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBTdGF0ZTtcbn0oKTtcblxuZXhwb3J0IHsgU3RhdGUsIGJpbmRBY3Rpb25Ub1N0YXRlLCBpc1N0YXRlLCBpc1N0YXRlQ29uZmlnLCBzdGF0ZVZhbHVlc0VxdWFsIH07XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJfX3NwcmVhZEFycmF5IiwiX19yZWFkIiwiX19yZXN0IiwiRU1QVFlfQUNUSVZJVFlfTUFQIiwiaXNTdHJpbmciLCJtYXRjaGVzU3RhdGUiLCJ3YXJuIiwiZ2V0TWV0YSIsIm5leHRFdmVudHMiLCJpbml0RXZlbnQiLCJJU19QUk9EVUNUSU9OIiwic3RhdGVWYWx1ZXNFcXVhbCIsImEiLCJiIiwidW5kZWZpbmVkIiwiYUtleXMiLCJPYmplY3QiLCJrZXlzIiwiYktleXMiLCJsZW5ndGgiLCJldmVyeSIsImtleSIsImlzU3RhdGVDb25maWciLCJzdGF0ZSIsImlzU3RhdGUiLCJiaW5kQWN0aW9uVG9TdGF0ZSIsImFjdGlvbiIsImV4ZWMiLCJib3VuZEFjdGlvbiIsImNvbnRleHQiLCJldmVudCIsIl9ldmVudCIsIlN0YXRlIiwiY29uZmlnIiwiX3RoaXMiLCJfYSIsImFjdGlvbnMiLCJhY3Rpdml0aWVzIiwibWV0YSIsImV2ZW50cyIsInZhbHVlIiwiX3Nlc3Npb25pZCIsImRhdGEiLCJoaXN0b3J5VmFsdWUiLCJoaXN0b3J5IiwiY29uZmlndXJhdGlvbiIsIm1hdGNoZXMiLCJiaW5kIiwidG9TdHJpbmdzIiwidHJhbnNpdGlvbnMiLCJjaGlsZHJlbiIsImRvbmUiLCJ0YWdzIiwiQXJyYXkiLCJpc0FycmF5IiwiU2V0IiwibWFjaGluZSIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZnJvbSIsInN0YXRlVmFsdWUiLCJjcmVhdGUiLCJpbmVydCIsInByb3RvdHlwZSIsImRlbGltaXRlciIsInZhbHVlS2V5cyIsImNvbmNhdCIsImFwcGx5IiwibWFwIiwicyIsInRvSlNPTiIsImpzb25WYWx1ZXMiLCJwYXJlbnRTdGF0ZVZhbHVlIiwiaGFzVGFnIiwidGFnIiwiaGFzIiwiY2FuIiwidHJhbnNpdGlvbkRhdGEiLCJnZXRUcmFuc2l0aW9uRGF0YSIsInNvbWUiLCJ0IiwidGFyZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/State.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/StateNode.js":
/*!*********************************************!*\
  !*** ./node_modules/xstate/es/StateNode.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StateNode: () => (/* binding */ StateNode)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _State_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./State.js */ \"(ssr)/./node_modules/xstate/es/State.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/xstate/es/constants.js\");\n/* harmony import */ var _stateUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stateUtils.js */ \"(ssr)/./node_modules/xstate/es/stateUtils.js\");\n/* harmony import */ var _Actor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Actor.js */ \"(ssr)/./node_modules/xstate/es/Actor.js\");\n/* harmony import */ var _invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./invokeUtils.js */ \"(ssr)/./node_modules/xstate/es/invokeUtils.js\");\n\n\n\n\n\n\n\n\n\n\nvar NULL_EVENT = \"\";\nvar STATE_IDENTIFIER = \"#\";\nvar WILDCARD = \"*\";\nvar EMPTY_OBJECT = {};\nvar isStateId = function(str) {\n    return str[0] === STATE_IDENTIFIER;\n};\nvar createDefaultOptions = function() {\n    return {\n        actions: {},\n        guards: {},\n        services: {},\n        activities: {},\n        delays: {}\n    };\n};\nvar validateArrayifiedTransitions = function(stateNode, event, transitions) {\n    var hasNonLastUnguardedTarget = transitions.slice(0, -1).some(function(transition) {\n        return !(\"cond\" in transition) && !(\"in\" in transition) && ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(transition.target) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(transition.target));\n    });\n    var eventText = event === NULL_EVENT ? \"the transient event\" : \"event '\".concat(event, \"'\");\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!hasNonLastUnguardedTarget, \"One or more transitions for \".concat(eventText, \" on state '\").concat(stateNode.id, \"' are unreachable. \") + \"Make sure that the default transition is the last one defined.\");\n};\nvar StateNode = /*#__PURE__*/ /** @class */ function() {\n    function StateNode(/**\r\n   * The raw config used to create the machine.\r\n   */ config, options, /**\r\n   * The initial extended state\r\n   */ _context, _stateInfo) {\n        if (_context === void 0) {\n            _context = \"context\" in config ? config.context : undefined;\n        }\n        var _this = this;\n        var _a;\n        this.config = config;\n        this._context = _context;\n        /**\r\n     * The order this state node appears. Corresponds to the implicit SCXML document order.\r\n     */ this.order = -1;\n        this.__xstatenode = true;\n        this.__cache = {\n            events: undefined,\n            relativeValue: new Map(),\n            initialStateValue: undefined,\n            initialState: undefined,\n            on: undefined,\n            transitions: undefined,\n            candidates: {},\n            delayedTransitions: undefined\n        };\n        this.idMap = {};\n        this.tags = [];\n        this.options = Object.assign(createDefaultOptions(), options);\n        this.parent = _stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.parent;\n        this.key = this.config.key || (_stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.key) || this.config.id || \"(machine)\";\n        this.machine = this.parent ? this.parent.machine : this;\n        this.path = this.parent ? this.parent.path.concat(this.key) : [];\n        this.delimiter = this.config.delimiter || (this.parent ? this.parent.delimiter : _constants_js__WEBPACK_IMPORTED_MODULE_1__.STATE_DELIMITER);\n        this.id = this.config.id || (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([\n            this.machine.key\n        ], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(this.path), false).join(this.delimiter);\n        this.version = this.parent ? this.parent.version : this.config.version;\n        this.type = this.config.type || (this.config.parallel ? \"parallel\" : this.config.states && Object.keys(this.config.states).length ? \"compound\" : this.config.history ? \"history\" : \"atomic\");\n        this.schema = this.parent ? this.machine.schema : (_a = this.config.schema) !== null && _a !== void 0 ? _a : {};\n        this.description = this.config.description;\n        if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!(\"parallel\" in this.config), 'The \"parallel\" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel ? \"Replace with `type: 'parallel'`\" : \"Use `type: '\".concat(this.type, \"'`\"), \" in the config for state node '\").concat(this.id, \"' instead.\"));\n        }\n        this.initial = this.config.initial;\n        this.states = this.config.states ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapValues)(this.config.states, function(stateConfig, key) {\n            var _a;\n            var stateNode = new StateNode(stateConfig, {}, undefined, {\n                parent: _this,\n                key: key\n            });\n            Object.assign(_this.idMap, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((_a = {}, _a[stateNode.id] = stateNode, _a), stateNode.idMap));\n            return stateNode;\n        }) : EMPTY_OBJECT; // Document order\n        var order = 0;\n        function dfs(stateNode) {\n            var e_1, _a;\n            stateNode.order = order++;\n            try {\n                for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)((0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getAllChildren)(stateNode)), _c = _b.next(); !_c.done; _c = _b.next()){\n                    var child = _c.value;\n                    dfs(child);\n                }\n            } catch (e_1_1) {\n                e_1 = {\n                    error: e_1_1\n                };\n            } finally{\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                } finally{\n                    if (e_1) throw e_1.error;\n                }\n            }\n        }\n        dfs(this); // History config\n        this.history = this.config.history === true ? \"shallow\" : this.config.history || false;\n        this._transient = !!this.config.always || (!this.config.on ? false : Array.isArray(this.config.on) ? this.config.on.some(function(_a) {\n            var event = _a.event;\n            return event === NULL_EVENT;\n        }) : NULL_EVENT in this.config.on);\n        this.strict = !!this.config.strict; // TODO: deprecate (entry)\n        this.onEntry = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.entry || this.config.onEntry).map(function(action) {\n            return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObject)(action);\n        }); // TODO: deprecate (exit)\n        this.onExit = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.exit || this.config.onExit).map(function(action) {\n            return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObject)(action);\n        });\n        this.meta = this.config.meta;\n        this.doneData = this.type === \"final\" ? this.config.data : undefined;\n        this.invoke = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.invoke).map(function(invokeConfig, i) {\n            var _a, _b;\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(invokeConfig)) {\n                var invokeId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createInvokeId)(_this.id, i);\n                _this.machine.options.services = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((_a = {}, _a[invokeId] = invokeConfig, _a), _this.machine.options.services);\n                return (0,_invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__.toInvokeDefinition)({\n                    src: invokeId,\n                    id: invokeId\n                });\n            } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(invokeConfig.src)) {\n                var invokeId = invokeConfig.id || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createInvokeId)(_this.id, i);\n                return (0,_invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__.toInvokeDefinition)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, invokeConfig), {\n                    id: invokeId,\n                    src: invokeConfig.src\n                }));\n            } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(invokeConfig.src) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(invokeConfig.src)) {\n                var invokeId = invokeConfig.id || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createInvokeId)(_this.id, i);\n                _this.machine.options.services = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((_b = {}, _b[invokeId] = invokeConfig.src, _b), _this.machine.options.services);\n                return (0,_invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__.toInvokeDefinition)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({\n                    id: invokeId\n                }, invokeConfig), {\n                    src: invokeId\n                }));\n            } else {\n                var invokeSource = invokeConfig.src;\n                return (0,_invokeUtils_js__WEBPACK_IMPORTED_MODULE_6__.toInvokeDefinition)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({\n                    id: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createInvokeId)(_this.id, i)\n                }, invokeConfig), {\n                    src: invokeSource\n                }));\n            }\n        });\n        this.activities = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.activities).concat(this.invoke).map(function(activity) {\n            return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActivityDefinition)(activity);\n        });\n        this.transition = this.transition.bind(this);\n        this.tags = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(this.config.tags); // TODO: this is the real fix for initialization once\n    // state node getters are deprecated\n    // if (!this.parent) {\n    //   this._init();\n    // }\n    }\n    StateNode.prototype._init = function() {\n        if (this.__cache.transitions) {\n            return;\n        }\n        (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getAllStateNodes)(this).forEach(function(stateNode) {\n            return stateNode.on;\n        });\n    };\n    /**\r\n   * Clones this state machine with custom options and context.\r\n   *\r\n   * @param options Options (actions, guards, activities, services) to recursively merge with the existing options.\r\n   * @param context Custom context (will override predefined context)\r\n   */ StateNode.prototype.withConfig = function(options, context) {\n        var _a = this.options, actions = _a.actions, activities = _a.activities, guards = _a.guards, services = _a.services, delays = _a.delays;\n        return new StateNode(this.config, {\n            actions: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, actions), options.actions),\n            activities: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, activities), options.activities),\n            guards: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, guards), options.guards),\n            services: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, services), options.services),\n            delays: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, delays), options.delays)\n        }, context !== null && context !== void 0 ? context : this.context);\n    };\n    /**\r\n   * Clones this state machine with custom context.\r\n   *\r\n   * @param context Custom context (will override predefined context, not recursive)\r\n   */ StateNode.prototype.withContext = function(context) {\n        return new StateNode(this.config, this.options, context);\n    };\n    Object.defineProperty(StateNode.prototype, \"context\", {\n        get: function() {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(this._context) ? this._context() : this._context;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"definition\", {\n        /**\r\n     * The well-structured state node definition.\r\n     */ get: function() {\n            return {\n                id: this.id,\n                key: this.key,\n                version: this.version,\n                context: this.context,\n                type: this.type,\n                initial: this.initial,\n                history: this.history,\n                states: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapValues)(this.states, function(state) {\n                    return state.definition;\n                }),\n                on: this.on,\n                transitions: this.transitions,\n                entry: this.onEntry,\n                exit: this.onExit,\n                activities: this.activities || [],\n                meta: this.meta,\n                order: this.order || -1,\n                data: this.doneData,\n                invoke: this.invoke,\n                description: this.description,\n                tags: this.tags\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StateNode.prototype.toJSON = function() {\n        return this.definition;\n    };\n    Object.defineProperty(StateNode.prototype, \"on\", {\n        /**\r\n     * The mapping of events to transitions.\r\n     */ get: function() {\n            if (this.__cache.on) {\n                return this.__cache.on;\n            }\n            var transitions = this.transitions;\n            return this.__cache.on = transitions.reduce(function(map, transition) {\n                map[transition.eventType] = map[transition.eventType] || [];\n                map[transition.eventType].push(transition);\n                return map;\n            }, {});\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"after\", {\n        get: function() {\n            return this.__cache.delayedTransitions || (this.__cache.delayedTransitions = this.getDelayedTransitions(), this.__cache.delayedTransitions);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"transitions\", {\n        /**\r\n     * All the transitions that can be taken from this state node.\r\n     */ get: function() {\n            return this.__cache.transitions || (this.__cache.transitions = this.formatTransitions(), this.__cache.transitions);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StateNode.prototype.getCandidates = function(eventName) {\n        if (this.__cache.candidates[eventName]) {\n            return this.__cache.candidates[eventName];\n        }\n        var transient = eventName === NULL_EVENT;\n        var candidates = this.transitions.filter(function(transition) {\n            var sameEventType = transition.eventType === eventName; // null events should only match against eventless transitions\n            return transient ? sameEventType : sameEventType || transition.eventType === WILDCARD;\n        });\n        this.__cache.candidates[eventName] = candidates;\n        return candidates;\n    };\n    /**\r\n   * All delayed transitions from the config.\r\n   */ StateNode.prototype.getDelayedTransitions = function() {\n        var _this = this;\n        var afterConfig = this.config.after;\n        if (!afterConfig) {\n            return [];\n        }\n        var mutateEntryExit = function(delay, i) {\n            var delayRef = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(delay) ? \"\".concat(_this.id, \":delay[\").concat(i, \"]\") : delay;\n            var eventType = (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.after)(delayRef, _this.id);\n            _this.onEntry.push((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.send)(eventType, {\n                delay: delay\n            }));\n            _this.onExit.push((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.cancel)(eventType));\n            return eventType;\n        };\n        var delayedTransitions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(afterConfig) ? afterConfig.map(function(transition, i) {\n            var eventType = mutateEntryExit(transition.delay, i);\n            return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, transition), {\n                event: eventType\n            });\n        }) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(afterConfig).map(function(delay, i) {\n            var configTransition = afterConfig[delay];\n            var resolvedTransition = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(configTransition) ? {\n                target: configTransition\n            } : configTransition;\n            var resolvedDelay = !isNaN(+delay) ? +delay : delay;\n            var eventType = mutateEntryExit(resolvedDelay, i);\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(resolvedTransition).map(function(transition) {\n                return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, transition), {\n                    event: eventType,\n                    delay: resolvedDelay\n                });\n            });\n        }));\n        return delayedTransitions.map(function(delayedTransition) {\n            var delay = delayedTransition.delay;\n            return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, _this.formatTransition(delayedTransition)), {\n                delay: delay\n            });\n        });\n    };\n    /**\r\n   * Returns the state nodes represented by the current state value.\r\n   *\r\n   * @param state The state value or State instance\r\n   */ StateNode.prototype.getStateNodes = function(state) {\n        var _a;\n        var _this = this;\n        if (!state) {\n            return [];\n        }\n        var stateValue = state instanceof _State_js__WEBPACK_IMPORTED_MODULE_7__.State ? state.value : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStateValue)(state, this.delimiter);\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateValue)) {\n            var initialStateValue = this.getStateNode(stateValue).initial;\n            return initialStateValue !== undefined ? this.getStateNodes((_a = {}, _a[stateValue] = initialStateValue, _a)) : [\n                this,\n                this.states[stateValue]\n            ];\n        }\n        var subStateKeys = Object.keys(stateValue);\n        var subStateNodes = [\n            this\n        ];\n        subStateNodes.push.apply(subStateNodes, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(subStateKeys.map(function(subStateKey) {\n            return _this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey]);\n        }))), false));\n        return subStateNodes;\n    };\n    /**\r\n   * Returns `true` if this state node explicitly handles the given event.\r\n   *\r\n   * @param event The event in question\r\n   */ StateNode.prototype.handles = function(event) {\n        var eventType = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getEventType)(event);\n        return this.events.includes(eventType);\n    };\n    /**\r\n   * Resolves the given `state` to a new `State` instance relative to this machine.\r\n   *\r\n   * This ensures that `.events` and `.nextEvents` represent the correct values.\r\n   *\r\n   * @param state The state to resolve\r\n   */ StateNode.prototype.resolveState = function(state) {\n        var stateFromConfig = state instanceof _State_js__WEBPACK_IMPORTED_MODULE_7__.State ? state : _State_js__WEBPACK_IMPORTED_MODULE_7__.State.create(state);\n        var configuration = Array.from((0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getConfiguration)([], this.getStateNodes(stateFromConfig.value)));\n        return new _State_js__WEBPACK_IMPORTED_MODULE_7__.State((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, stateFromConfig), {\n            value: this.resolve(stateFromConfig.value),\n            configuration: configuration,\n            done: (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isInFinalState)(configuration, this),\n            tags: (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTagsFromConfiguration)(configuration),\n            machine: this.machine\n        }));\n    };\n    StateNode.prototype.transitionLeafNode = function(stateValue, state, _event) {\n        var stateNode = this.getStateNode(stateValue);\n        var next = stateNode.next(state, _event);\n        if (!next || !next.transitions.length) {\n            return this.next(state, _event);\n        }\n        return next;\n    };\n    StateNode.prototype.transitionCompoundNode = function(stateValue, state, _event) {\n        var subStateKeys = Object.keys(stateValue);\n        var stateNode = this.getStateNode(subStateKeys[0]);\n        var next = stateNode._transition(stateValue[subStateKeys[0]], state, _event);\n        if (!next || !next.transitions.length) {\n            return this.next(state, _event);\n        }\n        return next;\n    };\n    StateNode.prototype.transitionParallelNode = function(stateValue, state, _event) {\n        var e_2, _a;\n        var transitionMap = {};\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(Object.keys(stateValue)), _c = _b.next(); !_c.done; _c = _b.next()){\n                var subStateKey = _c.value;\n                var subStateValue = stateValue[subStateKey];\n                if (!subStateValue) {\n                    continue;\n                }\n                var subStateNode = this.getStateNode(subStateKey);\n                var next = subStateNode._transition(subStateValue, state, _event);\n                if (next) {\n                    transitionMap[subStateKey] = next;\n                }\n            }\n        } catch (e_2_1) {\n            e_2 = {\n                error: e_2_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_2) throw e_2.error;\n            }\n        }\n        var stateTransitions = Object.keys(transitionMap).map(function(key) {\n            return transitionMap[key];\n        });\n        var enabledTransitions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(stateTransitions.map(function(st) {\n            return st.transitions;\n        }));\n        var willTransition = stateTransitions.some(function(st) {\n            return st.transitions.length > 0;\n        });\n        if (!willTransition) {\n            return this.next(state, _event);\n        }\n        var configuration = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(transitionMap).map(function(key) {\n            return transitionMap[key].configuration;\n        }));\n        return {\n            transitions: enabledTransitions,\n            exitSet: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(stateTransitions.map(function(t) {\n                return t.exitSet;\n            })),\n            configuration: configuration,\n            source: state,\n            actions: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(transitionMap).map(function(key) {\n                return transitionMap[key].actions;\n            }))\n        };\n    };\n    StateNode.prototype._transition = function(stateValue, state, _event) {\n        // leaf node\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateValue)) {\n            return this.transitionLeafNode(stateValue, state, _event);\n        } // hierarchical node\n        if (Object.keys(stateValue).length === 1) {\n            return this.transitionCompoundNode(stateValue, state, _event);\n        } // orthogonal node\n        return this.transitionParallelNode(stateValue, state, _event);\n    };\n    StateNode.prototype.getTransitionData = function(state, event) {\n        return this._transition(state.value, state, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(event));\n    };\n    StateNode.prototype.next = function(state, _event) {\n        var e_3, _a;\n        var _this = this;\n        var eventName = _event.name;\n        var actions = [];\n        var nextStateNodes = [];\n        var selectedTransition;\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(this.getCandidates(eventName)), _c = _b.next(); !_c.done; _c = _b.next()){\n                var candidate = _c.value;\n                var cond = candidate.cond, stateIn = candidate.in;\n                var resolvedContext = state.context;\n                var isInState = stateIn ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateIn) && isStateId(stateIn) ? state.matches((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStateValue)(this.getStateNodeById(stateIn).path, this.delimiter)) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.matchesState)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStateValue)(stateIn, this.delimiter), (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.path)(this.path.slice(0, -2))(state.value)) : true;\n                var guardPassed = false;\n                try {\n                    guardPassed = !cond || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.evaluateGuard)(this.machine, cond, resolvedContext, _event, state);\n                } catch (err) {\n                    throw new Error(\"Unable to evaluate guard '\".concat(cond.name || cond.type, \"' in transition for event '\").concat(eventName, \"' in state node '\").concat(this.id, \"':\\n\").concat(err.message));\n                }\n                if (guardPassed && isInState) {\n                    if (candidate.target !== undefined) {\n                        nextStateNodes = candidate.target;\n                    }\n                    actions.push.apply(actions, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(candidate.actions), false));\n                    selectedTransition = candidate;\n                    break;\n                }\n            }\n        } catch (e_3_1) {\n            e_3 = {\n                error: e_3_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_3) throw e_3.error;\n            }\n        }\n        if (!selectedTransition) {\n            return undefined;\n        }\n        if (!nextStateNodes.length) {\n            return {\n                transitions: [\n                    selectedTransition\n                ],\n                exitSet: [],\n                configuration: state.value ? [\n                    this\n                ] : [],\n                source: state,\n                actions: actions\n            };\n        }\n        var allNextStateNodes = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(nextStateNodes.map(function(stateNode) {\n            return _this.getRelativeStateNodes(stateNode, state.historyValue);\n        }));\n        var isInternal = !!selectedTransition.internal;\n        return {\n            transitions: [\n                selectedTransition\n            ],\n            exitSet: isInternal ? [] : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(nextStateNodes.map(function(targetNode) {\n                return _this.getPotentiallyReenteringNodes(targetNode);\n            })),\n            configuration: allNextStateNodes,\n            source: state,\n            actions: actions\n        };\n    }; // even though the name of this function mentions reentry nodes\n    // we are pushing its result into `exitSet`\n    // that's because what we exit might be reentered (it's an invariant of reentrancy)\n    StateNode.prototype.getPotentiallyReenteringNodes = function(targetNode) {\n        if (this.order < targetNode.order) {\n            return [\n                this\n            ];\n        }\n        var nodes = [];\n        var marker = this;\n        var possibleAncestor = targetNode;\n        while(marker && marker !== possibleAncestor){\n            nodes.push(marker);\n            marker = marker.parent;\n        }\n        if (marker !== possibleAncestor) {\n            // we never got to `possibleAncestor`, therefore the initial `marker` \"escapes\" it\n            // it's in a different part of the tree so no states will be reentered for such an external transition\n            return [];\n        }\n        nodes.push(possibleAncestor);\n        return nodes;\n    };\n    StateNode.prototype.getActions = function(resolvedConfig, isDone, transition, currentContext, _event, prevState, predictableExec) {\n        var e_4, _a, e_5, _b;\n        var _this = this;\n        var prevConfig = prevState ? (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getConfiguration)([], this.getStateNodes(prevState.value)) : [];\n        var entrySet = new Set();\n        try {\n            for(var _c = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(Array.from(resolvedConfig).sort(function(a, b) {\n                return a.order - b.order;\n            })), _d = _c.next(); !_d.done; _d = _c.next()){\n                var sn = _d.value;\n                if (!(0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.has)(prevConfig, sn) || (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.has)(transition.exitSet, sn) || sn.parent && entrySet.has(sn.parent)) {\n                    entrySet.add(sn);\n                }\n            }\n        } catch (e_4_1) {\n            e_4 = {\n                error: e_4_1\n            };\n        } finally{\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            } finally{\n                if (e_4) throw e_4.error;\n            }\n        }\n        try {\n            for(var prevConfig_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(prevConfig), prevConfig_1_1 = prevConfig_1.next(); !prevConfig_1_1.done; prevConfig_1_1 = prevConfig_1.next()){\n                var sn = prevConfig_1_1.value;\n                if (!(0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.has)(resolvedConfig, sn) || (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.has)(transition.exitSet, sn.parent)) {\n                    transition.exitSet.push(sn);\n                }\n            }\n        } catch (e_5_1) {\n            e_5 = {\n                error: e_5_1\n            };\n        } finally{\n            try {\n                if (prevConfig_1_1 && !prevConfig_1_1.done && (_b = prevConfig_1.return)) _b.call(prevConfig_1);\n            } finally{\n                if (e_5) throw e_5.error;\n            }\n        }\n        transition.exitSet.sort(function(a, b) {\n            return b.order - a.order;\n        });\n        var entryStates = Array.from(entrySet).sort(function(a, b) {\n            return a.order - b.order;\n        });\n        var exitStates = new Set(transition.exitSet);\n        var doneEvents = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(entryStates.map(function(sn) {\n            var events = [];\n            if (sn.type !== \"final\") {\n                return events;\n            }\n            var parent = sn.parent;\n            if (!parent.parent) {\n                return events;\n            }\n            events.push((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.done)(sn.id, sn.doneData), (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.done)(parent.id, sn.doneData ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapContext)(sn.doneData, currentContext, _event) : undefined));\n            var grandparent = parent.parent;\n            if (grandparent.type === \"parallel\") {\n                if ((0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getChildren)(grandparent).every(function(parentNode) {\n                    return (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isInFinalState)(transition.configuration, parentNode);\n                })) {\n                    events.push((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.done)(grandparent.id));\n                }\n            }\n            return events;\n        }));\n        var entryActions = entryStates.map(function(stateNode) {\n            var entryActions = stateNode.onEntry;\n            var invokeActions = stateNode.activities.map(function(activity) {\n                return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.start)(activity);\n            });\n            return {\n                type: \"entry\",\n                actions: (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)(predictableExec ? (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(entryActions), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(invokeActions), false) : (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(invokeActions), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(entryActions), false), _this.machine.options.actions)\n            };\n        }).concat({\n            type: \"state_done\",\n            actions: doneEvents.map(function(event) {\n                return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.raise)(event);\n            })\n        });\n        var exitActions = Array.from(exitStates).map(function(stateNode) {\n            return {\n                type: \"exit\",\n                actions: (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(stateNode.onExit), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(stateNode.activities.map(function(activity) {\n                    return (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.stop)(activity);\n                })), false), _this.machine.options.actions)\n            };\n        });\n        var actions = exitActions.concat({\n            type: \"transition\",\n            actions: (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)(transition.actions, this.machine.options.actions)\n        }).concat(entryActions);\n        if (isDone) {\n            var stopActions = (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(resolvedConfig), false).sort(function(a, b) {\n                return b.order - a.order;\n            }).map(function(stateNode) {\n                return stateNode.onExit;\n            })), this.machine.options.actions).filter(function(action) {\n                return !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isRaisableAction)(action);\n            });\n            return actions.concat({\n                type: \"stop\",\n                actions: stopActions\n            });\n        }\n        return actions;\n    };\n    /**\r\n   * Determines the next state given the current `state` and sent `event`.\r\n   *\r\n   * @param state The current State instance or state value\r\n   * @param event The event that was sent at the current state\r\n   * @param context The current context (extended state) of the current state\r\n   */ StateNode.prototype.transition = function(state, event, context, exec) {\n        if (state === void 0) {\n            state = this.initialState;\n        }\n        var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(event);\n        var currentState;\n        if (state instanceof _State_js__WEBPACK_IMPORTED_MODULE_7__.State) {\n            currentState = context === undefined ? state : this.resolveState(_State_js__WEBPACK_IMPORTED_MODULE_7__.State.from(state, context));\n        } else {\n            var resolvedStateValue = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(state) ? this.resolve((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.pathToStateValue)(this.getResolvedPath(state))) : this.resolve(state);\n            var resolvedContext = context !== null && context !== void 0 ? context : this.machine.context;\n            currentState = this.resolveState(_State_js__WEBPACK_IMPORTED_MODULE_7__.State.from(resolvedStateValue, resolvedContext));\n        }\n        if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION && _event.name === WILDCARD) {\n            throw new Error(\"An event cannot have the wildcard type ('\".concat(WILDCARD, \"')\"));\n        }\n        if (this.strict) {\n            if (!this.events.includes(_event.name) && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBuiltInEvent)(_event.name)) {\n                throw new Error(\"Machine '\".concat(this.id, \"' does not accept event '\").concat(_event.name, \"'\"));\n            }\n        }\n        var stateTransition = this._transition(currentState.value, currentState, _event) || {\n            transitions: [],\n            configuration: [],\n            exitSet: [],\n            source: currentState,\n            actions: []\n        };\n        var prevConfig = (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getConfiguration)([], this.getStateNodes(currentState.value));\n        var resolvedConfig = stateTransition.configuration.length ? (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getConfiguration)(prevConfig, stateTransition.configuration) : prevConfig;\n        stateTransition.configuration = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(resolvedConfig), false);\n        return this.resolveTransition(stateTransition, currentState, currentState.context, exec, _event);\n    };\n    StateNode.prototype.resolveRaisedTransition = function(state, _event, originalEvent, predictableExec) {\n        var _a;\n        var currentActions = state.actions;\n        state = this.transition(state, _event, undefined, predictableExec); // Save original event to state\n        // TODO: this should be the raised event! Delete in V5 (breaking)\n        state._event = originalEvent;\n        state.event = originalEvent.data;\n        (_a = state.actions).unshift.apply(_a, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(currentActions), false));\n        return state;\n    };\n    StateNode.prototype.resolveTransition = function(stateTransition, currentState, context, predictableExec, _event) {\n        var e_6, _a, e_7, _b;\n        var _this = this;\n        if (_event === void 0) {\n            _event = _actions_js__WEBPACK_IMPORTED_MODULE_5__.initEvent;\n        }\n        var configuration = stateTransition.configuration; // Transition will \"apply\" if:\n        // - this is the initial state (there is no current state)\n        // - OR there are transitions\n        var willTransition = !currentState || stateTransition.transitions.length > 0;\n        var resolvedConfiguration = willTransition ? stateTransition.configuration : currentState ? currentState.configuration : [];\n        var isDone = (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isInFinalState)(resolvedConfiguration, this);\n        var resolvedStateValue = willTransition ? (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getValue)(this.machine, configuration) : undefined;\n        var historyValue = currentState ? currentState.historyValue ? currentState.historyValue : stateTransition.source ? this.machine.historyValue(currentState.value) : undefined : undefined;\n        var actionBlocks = this.getActions(new Set(resolvedConfiguration), isDone, stateTransition, context, _event, currentState, predictableExec);\n        var activities = currentState ? (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, currentState.activities) : {};\n        try {\n            for(var actionBlocks_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()){\n                var block = actionBlocks_1_1.value;\n                try {\n                    for(var _c = (e_7 = void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(block.actions)), _d = _c.next(); !_d.done; _d = _c.next()){\n                        var action = _d.value;\n                        if (action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.start) {\n                            activities[action.activity.id || action.activity.type] = action;\n                        } else if (action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.stop) {\n                            activities[action.activity.id || action.activity.type] = false;\n                        }\n                    }\n                } catch (e_7_1) {\n                    e_7 = {\n                        error: e_7_1\n                    };\n                } finally{\n                    try {\n                        if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                    } finally{\n                        if (e_7) throw e_7.error;\n                    }\n                }\n            }\n        } catch (e_6_1) {\n            e_6 = {\n                error: e_6_1\n            };\n        } finally{\n            try {\n                if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a = actionBlocks_1.return)) _a.call(actionBlocks_1);\n            } finally{\n                if (e_6) throw e_6.error;\n            }\n        }\n        var _e = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.resolveActions)(this, currentState, context, _event, actionBlocks, predictableExec, this.machine.config.predictableActionArguments || this.machine.config.preserveActionOrder), 2), resolvedActions = _e[0], updatedContext = _e[1];\n        var _f = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.partition)(resolvedActions, _utils_js__WEBPACK_IMPORTED_MODULE_0__.isRaisableAction), 2), raisedEvents = _f[0], nonRaisedActions = _f[1];\n        var invokeActions = resolvedActions.filter(function(action) {\n            var _a;\n            return action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.start && ((_a = action.activity) === null || _a === void 0 ? void 0 : _a.type) === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.invoke;\n        });\n        var children = invokeActions.reduce(function(acc, action) {\n            acc[action.activity.id] = (0,_Actor_js__WEBPACK_IMPORTED_MODULE_9__.createInvocableActor)(action.activity, _this.machine, updatedContext, _event);\n            return acc;\n        }, currentState ? (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, currentState.children) : {});\n        var nextState = new _State_js__WEBPACK_IMPORTED_MODULE_7__.State({\n            value: resolvedStateValue || currentState.value,\n            context: updatedContext,\n            _event: _event,\n            // Persist _sessionid between states\n            _sessionid: currentState ? currentState._sessionid : null,\n            historyValue: resolvedStateValue ? historyValue ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.updateHistoryValue)(historyValue, resolvedStateValue) : undefined : currentState ? currentState.historyValue : undefined,\n            history: !resolvedStateValue || stateTransition.source ? currentState : undefined,\n            actions: resolvedStateValue ? nonRaisedActions : [],\n            activities: resolvedStateValue ? activities : currentState ? currentState.activities : {},\n            events: [],\n            configuration: resolvedConfiguration,\n            transitions: stateTransition.transitions,\n            children: children,\n            done: isDone,\n            tags: (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTagsFromConfiguration)(resolvedConfiguration),\n            machine: this\n        });\n        var didUpdateContext = context !== updatedContext;\n        nextState.changed = _event.name === _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.update || didUpdateContext; // Dispose of penultimate histories to prevent memory leaks\n        var history = nextState.history;\n        if (history) {\n            delete history.history;\n        } // There are transient transitions if the machine is not in a final state\n        // and if some of the state nodes have transient (\"always\") transitions.\n        var hasAlwaysTransitions = !isDone && (this._transient || configuration.some(function(stateNode) {\n            return stateNode._transient;\n        })); // If there are no enabled transitions, check if there are transient transitions.\n        // If there are transient transitions, continue checking for more transitions\n        // because an transient transition should be triggered even if there are no\n        // enabled transitions.\n        //\n        // If we're already working on an transient transition then stop to prevent an infinite loop.\n        //\n        // Otherwise, if there are no enabled nor transient transitions, we are done.\n        if (!willTransition && (!hasAlwaysTransitions || _event.name === NULL_EVENT)) {\n            return nextState;\n        }\n        var maybeNextState = nextState;\n        if (!isDone) {\n            if (hasAlwaysTransitions) {\n                maybeNextState = this.resolveRaisedTransition(maybeNextState, {\n                    type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_8__.nullEvent\n                }, _event, predictableExec);\n            }\n            while(raisedEvents.length){\n                var raisedEvent = raisedEvents.shift();\n                maybeNextState = this.resolveRaisedTransition(maybeNextState, raisedEvent._event, _event, predictableExec);\n            }\n        } // Detect if state changed\n        var changed = maybeNextState.changed || (history ? !!maybeNextState.actions.length || didUpdateContext || typeof history.value !== typeof maybeNextState.value || !(0,_State_js__WEBPACK_IMPORTED_MODULE_7__.stateValuesEqual)(maybeNextState.value, history.value) : undefined);\n        maybeNextState.changed = changed; // Preserve original history after raised events\n        maybeNextState.history = history;\n        return maybeNextState;\n    };\n    /**\r\n   * Returns the child state node from its relative `stateKey`, or throws.\r\n   */ StateNode.prototype.getStateNode = function(stateKey) {\n        if (isStateId(stateKey)) {\n            return this.machine.getStateNodeById(stateKey);\n        }\n        if (!this.states) {\n            throw new Error(\"Unable to retrieve child state '\".concat(stateKey, \"' from '\").concat(this.id, \"'; no child states exist.\"));\n        }\n        var result = this.states[stateKey];\n        if (!result) {\n            throw new Error(\"Child state '\".concat(stateKey, \"' does not exist on '\").concat(this.id, \"'\"));\n        }\n        return result;\n    };\n    /**\r\n   * Returns the state node with the given `stateId`, or throws.\r\n   *\r\n   * @param stateId The state ID. The prefix \"#\" is removed.\r\n   */ StateNode.prototype.getStateNodeById = function(stateId) {\n        var resolvedStateId = isStateId(stateId) ? stateId.slice(STATE_IDENTIFIER.length) : stateId;\n        if (resolvedStateId === this.id) {\n            return this;\n        }\n        var stateNode = this.machine.idMap[resolvedStateId];\n        if (!stateNode) {\n            throw new Error(\"Child state node '#\".concat(resolvedStateId, \"' does not exist on machine '\").concat(this.id, \"'\"));\n        }\n        return stateNode;\n    };\n    /**\r\n   * Returns the relative state node from the given `statePath`, or throws.\r\n   *\r\n   * @param statePath The string or string array relative path to the state node.\r\n   */ StateNode.prototype.getStateNodeByPath = function(statePath) {\n        if (typeof statePath === \"string\" && isStateId(statePath)) {\n            try {\n                return this.getStateNodeById(statePath.slice(1));\n            } catch (e) {\n            // throw e;\n            }\n        }\n        var arrayStatePath = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePath)(statePath, this.delimiter).slice();\n        var currentStateNode = this;\n        while(arrayStatePath.length){\n            var key = arrayStatePath.shift();\n            if (!key.length) {\n                break;\n            }\n            currentStateNode = currentStateNode.getStateNode(key);\n        }\n        return currentStateNode;\n    };\n    /**\r\n   * Resolves a partial state value with its full representation in this machine.\r\n   *\r\n   * @param stateValue The partial state value to resolve.\r\n   */ StateNode.prototype.resolve = function(stateValue) {\n        var _a;\n        var _this = this;\n        if (!stateValue) {\n            return this.initialStateValue || EMPTY_OBJECT; // TODO: type-specific properties\n        }\n        switch(this.type){\n            case \"parallel\":\n                return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapValues)(this.initialStateValue, function(subStateValue, subStateKey) {\n                    return subStateValue ? _this.getStateNode(subStateKey).resolve(stateValue[subStateKey] || subStateValue) : EMPTY_OBJECT;\n                });\n            case \"compound\":\n                if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(stateValue)) {\n                    var subStateNode = this.getStateNode(stateValue);\n                    if (subStateNode.type === \"parallel\" || subStateNode.type === \"compound\") {\n                        return _a = {}, _a[stateValue] = subStateNode.initialStateValue, _a;\n                    }\n                    return stateValue;\n                }\n                if (!Object.keys(stateValue).length) {\n                    return this.initialStateValue || {};\n                }\n                return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapValues)(stateValue, function(subStateValue, subStateKey) {\n                    return subStateValue ? _this.getStateNode(subStateKey).resolve(subStateValue) : EMPTY_OBJECT;\n                });\n            default:\n                return stateValue || EMPTY_OBJECT;\n        }\n    };\n    StateNode.prototype.getResolvedPath = function(stateIdentifier) {\n        if (isStateId(stateIdentifier)) {\n            var stateNode = this.machine.idMap[stateIdentifier.slice(STATE_IDENTIFIER.length)];\n            if (!stateNode) {\n                throw new Error(\"Unable to find state node '\".concat(stateIdentifier, \"'\"));\n            }\n            return stateNode.path;\n        }\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePath)(stateIdentifier, this.delimiter);\n    };\n    Object.defineProperty(StateNode.prototype, \"initialStateValue\", {\n        get: function() {\n            var _a;\n            if (this.__cache.initialStateValue) {\n                return this.__cache.initialStateValue;\n            }\n            var initialStateValue;\n            if (this.type === \"parallel\") {\n                initialStateValue = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapFilterValues)(this.states, function(state) {\n                    return state.initialStateValue || EMPTY_OBJECT;\n                }, function(stateNode) {\n                    return !(stateNode.type === \"history\");\n                });\n            } else if (this.initial !== undefined) {\n                if (!this.states[this.initial]) {\n                    throw new Error(\"Initial state '\".concat(this.initial, \"' not found on '\").concat(this.key, \"'\"));\n                }\n                initialStateValue = (0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isLeafNode)(this.states[this.initial]) ? this.initial : (_a = {}, _a[this.initial] = this.states[this.initial].initialStateValue, _a);\n            } else {\n                // The finite state value of a machine without child states is just an empty object\n                initialStateValue = {};\n            }\n            this.__cache.initialStateValue = initialStateValue;\n            return this.__cache.initialStateValue;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StateNode.prototype.getInitialState = function(stateValue, context) {\n        this._init(); // TODO: this should be in the constructor (see note in constructor)\n        var configuration = this.getStateNodes(stateValue);\n        return this.resolveTransition({\n            configuration: configuration,\n            exitSet: [],\n            transitions: [],\n            source: undefined,\n            actions: []\n        }, undefined, context !== null && context !== void 0 ? context : this.machine.context, undefined);\n    };\n    Object.defineProperty(StateNode.prototype, \"initialState\", {\n        /**\r\n     * The initial State instance, which includes all actions to be executed from\r\n     * entering the initial state.\r\n     */ get: function() {\n            var initialStateValue = this.initialStateValue;\n            if (!initialStateValue) {\n                throw new Error(\"Cannot retrieve initial state from simple state '\".concat(this.id, \"'.\"));\n            }\n            return this.getInitialState(initialStateValue);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"target\", {\n        /**\r\n     * The target state value of the history state node, if it exists. This represents the\r\n     * default state value to transition to if no history value exists yet.\r\n     */ get: function() {\n            var target;\n            if (this.type === \"history\") {\n                var historyConfig = this.config;\n                if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(historyConfig.target)) {\n                    target = isStateId(historyConfig.target) ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.pathToStateValue)(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length - 1)) : historyConfig.target;\n                } else {\n                    target = historyConfig.target;\n                }\n            }\n            return target;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\r\n   * Returns the leaf nodes from a state path relative to this state node.\r\n   *\r\n   * @param relativeStateId The relative state path to retrieve the state nodes\r\n   * @param history The previous state to retrieve history\r\n   * @param resolve Whether state nodes should resolve to initial child state nodes\r\n   */ StateNode.prototype.getRelativeStateNodes = function(relativeStateId, historyValue, resolve) {\n        if (resolve === void 0) {\n            resolve = true;\n        }\n        return resolve ? relativeStateId.type === \"history\" ? relativeStateId.resolveHistory(historyValue) : relativeStateId.initialStateNodes : [\n            relativeStateId\n        ];\n    };\n    Object.defineProperty(StateNode.prototype, \"initialStateNodes\", {\n        get: function() {\n            var _this = this;\n            if ((0,_stateUtils_js__WEBPACK_IMPORTED_MODULE_4__.isLeafNode)(this)) {\n                return [\n                    this\n                ];\n            } // Case when state node is compound but no initial state is defined\n            if (this.type === \"compound\" && !this.initial) {\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"Compound state node '\".concat(this.id, \"' has no initial state.\"));\n                }\n                return [\n                    this\n                ];\n            }\n            var initialStateNodePaths = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePaths)(this.initialStateValue);\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(initialStateNodePaths.map(function(initialPath) {\n                return _this.getFromRelativePath(initialPath);\n            }));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\r\n   * Retrieves state nodes from a relative path to this state node.\r\n   *\r\n   * @param relativePath The relative path from this state node\r\n   * @param historyValue\r\n   */ StateNode.prototype.getFromRelativePath = function(relativePath) {\n        if (!relativePath.length) {\n            return [\n                this\n            ];\n        }\n        var _a = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(relativePath), stateKey = _a[0], childStatePath = _a.slice(1);\n        if (!this.states) {\n            throw new Error(\"Cannot retrieve subPath '\".concat(stateKey, \"' from node with no states\"));\n        }\n        var childStateNode = this.getStateNode(stateKey);\n        if (childStateNode.type === \"history\") {\n            return childStateNode.resolveHistory();\n        }\n        if (!this.states[stateKey]) {\n            throw new Error(\"Child state '\".concat(stateKey, \"' does not exist on '\").concat(this.id, \"'\"));\n        }\n        return this.states[stateKey].getFromRelativePath(childStatePath);\n    };\n    StateNode.prototype.historyValue = function(relativeStateValue) {\n        if (!Object.keys(this.states).length) {\n            return undefined;\n        }\n        return {\n            current: relativeStateValue || this.initialStateValue,\n            states: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapFilterValues)(this.states, function(stateNode, key) {\n                if (!relativeStateValue) {\n                    return stateNode.historyValue();\n                }\n                var subStateValue = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(relativeStateValue) ? undefined : relativeStateValue[key];\n                return stateNode.historyValue(subStateValue || stateNode.initialStateValue);\n            }, function(stateNode) {\n                return !stateNode.history;\n            })\n        };\n    };\n    /**\r\n   * Resolves to the historical value(s) of the parent state node,\r\n   * represented by state nodes.\r\n   *\r\n   * @param historyValue\r\n   */ StateNode.prototype.resolveHistory = function(historyValue) {\n        var _this = this;\n        if (this.type !== \"history\") {\n            return [\n                this\n            ];\n        }\n        var parent = this.parent;\n        if (!historyValue) {\n            var historyTarget = this.target;\n            return historyTarget ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePaths)(historyTarget).map(function(relativeChildPath) {\n                return parent.getFromRelativePath(relativeChildPath);\n            })) : parent.initialStateNodes;\n        }\n        var subHistoryValue = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.nestedPath)(parent.path, \"states\")(historyValue).current;\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(subHistoryValue)) {\n            return [\n                parent.getStateNode(subHistoryValue)\n            ];\n        }\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toStatePaths)(subHistoryValue).map(function(subStatePath) {\n            return _this.history === \"deep\" ? parent.getFromRelativePath(subStatePath) : [\n                parent.states[subStatePath[0]]\n            ];\n        }));\n    };\n    Object.defineProperty(StateNode.prototype, \"stateIds\", {\n        /**\r\n     * All the state node IDs of this state node and its descendant state nodes.\r\n     */ get: function() {\n            var _this = this;\n            var childStateIds = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(this.states).map(function(stateKey) {\n                return _this.states[stateKey].stateIds;\n            }));\n            return [\n                this.id\n            ].concat(childStateIds);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"events\", {\n        /**\r\n     * All the event types accepted by this state node and its descendants.\r\n     */ get: function() {\n            var e_8, _a, e_9, _b;\n            if (this.__cache.events) {\n                return this.__cache.events;\n            }\n            var states = this.states;\n            var events = new Set(this.ownEvents);\n            if (states) {\n                try {\n                    for(var _c = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(Object.keys(states)), _d = _c.next(); !_d.done; _d = _c.next()){\n                        var stateId = _d.value;\n                        var state = states[stateId];\n                        if (state.states) {\n                            try {\n                                for(var _e = (e_9 = void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(state.events)), _f = _e.next(); !_f.done; _f = _e.next()){\n                                    var event_1 = _f.value;\n                                    events.add(\"\".concat(event_1));\n                                }\n                            } catch (e_9_1) {\n                                e_9 = {\n                                    error: e_9_1\n                                };\n                            } finally{\n                                try {\n                                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                                } finally{\n                                    if (e_9) throw e_9.error;\n                                }\n                            }\n                        }\n                    }\n                } catch (e_8_1) {\n                    e_8 = {\n                        error: e_8_1\n                    };\n                } finally{\n                    try {\n                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                    } finally{\n                        if (e_8) throw e_8.error;\n                    }\n                }\n            }\n            return this.__cache.events = Array.from(events);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateNode.prototype, \"ownEvents\", {\n        /**\r\n     * All the events that have transitions directly from this state node.\r\n     *\r\n     * Excludes any inert events.\r\n     */ get: function() {\n            var events = new Set(this.transitions.filter(function(transition) {\n                return !(!transition.target && !transition.actions.length && transition.internal);\n            }).map(function(transition) {\n                return transition.eventType;\n            }));\n            return Array.from(events);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StateNode.prototype.resolveTarget = function(_target) {\n        var _this = this;\n        if (_target === undefined) {\n            // an undefined target signals that the state node should not transition from that state when receiving that event\n            return undefined;\n        }\n        return _target.map(function(target) {\n            if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(target)) {\n                return target;\n            }\n            var isInternalTarget = target[0] === _this.delimiter; // If internal target is defined on machine,\n            // do not include machine key on target\n            if (isInternalTarget && !_this.parent) {\n                return _this.getStateNodeByPath(target.slice(1));\n            }\n            var resolvedTarget = isInternalTarget ? _this.key + target : target;\n            if (_this.parent) {\n                try {\n                    var targetStateNode = _this.parent.getStateNodeByPath(resolvedTarget);\n                    return targetStateNode;\n                } catch (err) {\n                    throw new Error(\"Invalid transition definition for state node '\".concat(_this.id, \"':\\n\").concat(err.message));\n                }\n            } else {\n                return _this.getStateNodeByPath(resolvedTarget);\n            }\n        });\n    };\n    StateNode.prototype.formatTransition = function(transitionConfig) {\n        var _this = this;\n        var normalizedTarget = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.normalizeTarget)(transitionConfig.target);\n        var internal = \"internal\" in transitionConfig ? transitionConfig.internal : normalizedTarget ? normalizedTarget.some(function(_target) {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(_target) && _target[0] === _this.delimiter;\n        }) : true;\n        var guards = this.machine.options.guards;\n        var target = this.resolveTarget(normalizedTarget);\n        var transition = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, transitionConfig), {\n            actions: (0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.toActionObjects)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(transitionConfig.actions)),\n            cond: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toGuard)(transitionConfig.cond, guards),\n            target: target,\n            source: this,\n            internal: internal,\n            eventType: transitionConfig.event,\n            toJSON: function() {\n                return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, transition), {\n                    target: transition.target ? transition.target.map(function(t) {\n                        return \"#\".concat(t.id);\n                    }) : undefined,\n                    source: \"#\".concat(_this.id)\n                });\n            }\n        });\n        return transition;\n    };\n    StateNode.prototype.formatTransitions = function() {\n        var e_10, _a;\n        var _this = this;\n        var onConfig;\n        if (!this.config.on) {\n            onConfig = [];\n        } else if (Array.isArray(this.config.on)) {\n            onConfig = this.config.on;\n        } else {\n            var _b = this.config.on, _c = WILDCARD, _d = _b[_c], wildcardConfigs = _d === void 0 ? [] : _d, strictTransitionConfigs_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__rest)(_b, [\n                typeof _c === \"symbol\" ? _c : _c + \"\"\n            ]);\n            onConfig = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(Object.keys(strictTransitionConfigs_1).map(function(key) {\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION && key === NULL_EVENT) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. \" + 'Please check the `on` configuration for \"#'.concat(_this.id, '\".'));\n                }\n                var transitionConfigArray = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(key, strictTransitionConfigs_1[key]);\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION) {\n                    validateArrayifiedTransitions(_this, key, transitionConfigArray);\n                }\n                return transitionConfigArray;\n            }).concat((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(WILDCARD, wildcardConfigs)));\n        }\n        var eventlessConfig = this.config.always ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(\"\", this.config.always) : [];\n        var doneConfig = this.config.onDone ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(String((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.done)(this.id)), this.config.onDone) : [];\n        if (!_environment_js__WEBPACK_IMPORTED_MODULE_3__.IS_PRODUCTION) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!(this.config.onDone && !this.parent), 'Root nodes cannot have an \".onDone\" transition. Please check the config of \"'.concat(this.id, '\".'));\n        }\n        var invokeConfig = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(this.invoke.map(function(invokeDef) {\n            var settleTransitions = [];\n            if (invokeDef.onDone) {\n                settleTransitions.push.apply(settleTransitions, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(String((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.doneInvoke)(invokeDef.id)), invokeDef.onDone)), false));\n            }\n            if (invokeDef.onError) {\n                settleTransitions.push.apply(settleTransitions, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toTransitionConfigArray)(String((0,_actions_js__WEBPACK_IMPORTED_MODULE_5__.error)(invokeDef.id)), invokeDef.onError)), false));\n            }\n            return settleTransitions;\n        }));\n        var delayedTransitions = this.after;\n        var formattedTransitions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(doneConfig), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(invokeConfig), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(onConfig), false), (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(eventlessConfig), false).map(function(transitionConfig) {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toArray)(transitionConfig).map(function(transition) {\n                return _this.formatTransition(transition);\n            });\n        }));\n        try {\n            for(var delayedTransitions_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(delayedTransitions), delayedTransitions_1_1 = delayedTransitions_1.next(); !delayedTransitions_1_1.done; delayedTransitions_1_1 = delayedTransitions_1.next()){\n                var delayedTransition = delayedTransitions_1_1.value;\n                formattedTransitions.push(delayedTransition);\n            }\n        } catch (e_10_1) {\n            e_10 = {\n                error: e_10_1\n            };\n        } finally{\n            try {\n                if (delayedTransitions_1_1 && !delayedTransitions_1_1.done && (_a = delayedTransitions_1.return)) _a.call(delayedTransitions_1);\n            } finally{\n                if (e_10) throw e_10.error;\n            }\n        }\n        return formattedTransitions;\n    };\n    return StateNode;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL1N0YXRlTm9kZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF5RjtBQUN1VDtBQUMzVjtBQUMwQztBQUNtRjtBQUNqSTtBQUNBO0FBQ3NIO0FBQ3JIO0FBQ0k7QUFFdEQsSUFBSW1FLGFBQWE7QUFDakIsSUFBSUMsbUJBQW1CO0FBQ3ZCLElBQUlDLFdBQVc7QUFDZixJQUFJQyxlQUFlLENBQUM7QUFFcEIsSUFBSUMsWUFBWSxTQUFVQyxHQUFHO0lBQzNCLE9BQU9BLEdBQUcsQ0FBQyxFQUFFLEtBQUtKO0FBQ3BCO0FBRUEsSUFBSUssdUJBQXVCO0lBQ3pCLE9BQU87UUFDTEMsU0FBUyxDQUFDO1FBQ1ZDLFFBQVEsQ0FBQztRQUNUQyxVQUFVLENBQUM7UUFDWEMsWUFBWSxDQUFDO1FBQ2JDLFFBQVEsQ0FBQztJQUNYO0FBQ0Y7QUFFQSxJQUFJQyxnQ0FBZ0MsU0FBVUMsU0FBUyxFQUFFQyxLQUFLLEVBQUVDLFdBQVc7SUFDekUsSUFBSUMsNEJBQTRCRCxZQUFZRSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUdDLElBQUksQ0FBQyxTQUFVQyxVQUFVO1FBQ2hGLE9BQU8sQ0FBRSxXQUFVQSxVQUFTLEtBQU0sQ0FBRSxTQUFRQSxVQUFTLEtBQU8zRSxDQUFBQSxtREFBUUEsQ0FBQzJFLFdBQVdDLE1BQU0sS0FBS3hELG9EQUFTQSxDQUFDdUQsV0FBV0MsTUFBTTtJQUN4SDtJQUNBLElBQUlDLFlBQVlQLFVBQVVkLGFBQWEsd0JBQXdCLFVBQVVzQixNQUFNLENBQUNSLE9BQU87SUFDdkZ4RCwrQ0FBSUEsQ0FBQyxDQUFDMEQsMkJBQTJCLCtCQUErQk0sTUFBTSxDQUFDRCxXQUFXLGVBQWVDLE1BQU0sQ0FBQ1QsVUFBVVUsRUFBRSxFQUFFLHlCQUF5QjtBQUNqSjtBQUVBLElBQUlDLFlBQ0osV0FBVyxHQUVYLFdBQVcsR0FDWDtJQUNFLFNBQVNBLFVBQ1Q7O0dBRUMsR0FDREMsTUFBTSxFQUFFQyxPQUFP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QnROLEdBQUcsQ0FBQyxTQUFVN0QsVUFBVTtnQkFDdkQsT0FBT1ksTUFBTThGLGdCQUFnQixDQUFDMUc7WUFDaEM7UUFDRjtRQUVBLElBQUk7WUFDRixJQUFLLElBQUlrUyx1QkFBdUJyWCwyREFBUUEsQ0FBQzJHLHFCQUFxQjJRLHlCQUF5QkQscUJBQXFCalAsSUFBSSxJQUFJLENBQUNrUCx1QkFBdUIvVSxJQUFJLEVBQUUrVSx5QkFBeUJELHFCQUFxQmpQLElBQUksR0FBSTtnQkFDdE0sSUFBSXdELG9CQUFvQjBMLHVCQUF1QmhQLEtBQUs7Z0JBQ3BEOE8scUJBQXFCeE0sSUFBSSxDQUFDZ0I7WUFDNUI7UUFDRixFQUFFLE9BQU8yTCxRQUFRO1lBQ2ZmLE9BQU87Z0JBQ0w1VCxPQUFPMlU7WUFDVDtRQUNGLFNBQVU7WUFDUixJQUFJO2dCQUNGLElBQUlELDBCQUEwQixDQUFDQSx1QkFBdUIvVSxJQUFJLElBQUt5RCxDQUFBQSxLQUFLcVIscUJBQXFCN08sTUFBTSxHQUFHeEMsR0FBR3lDLElBQUksQ0FBQzRPO1lBQzVHLFNBQVU7Z0JBQ1IsSUFBSWIsTUFBTSxNQUFNQSxLQUFLNVQsS0FBSztZQUM1QjtRQUNGO1FBRUEsT0FBT3dVO0lBQ1Q7SUFFQSxPQUFPNVI7QUFDVDtBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1ncmlkLTIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL1N0YXRlTm9kZS5qcz80MmJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXNzaWduLCBfX3NwcmVhZEFycmF5LCBfX3JlYWQsIF9fdmFsdWVzLCBfX3Jlc3QgfSBmcm9tICcuL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uLCBtYXBWYWx1ZXMsIGlzQXJyYXksIGZsYXR0ZW4sIHRvQXJyYXksIHRvU3RhdGVWYWx1ZSwgaXNTdHJpbmcsIGdldEV2ZW50VHlwZSwgdG9TQ1hNTEV2ZW50LCBtYXRjaGVzU3RhdGUsIHBhdGgsIGV2YWx1YXRlR3VhcmQsIG1hcENvbnRleHQsIGlzUmFpc2FibGVBY3Rpb24sIHBhdGhUb1N0YXRlVmFsdWUsIGlzQnVpbHRJbkV2ZW50LCBwYXJ0aXRpb24sIHVwZGF0ZUhpc3RvcnlWYWx1ZSwgdG9TdGF0ZVBhdGgsIG1hcEZpbHRlclZhbHVlcywgd2FybiwgdG9TdGF0ZVBhdGhzLCBuZXN0ZWRQYXRoLCBub3JtYWxpemVUYXJnZXQsIHRvR3VhcmQsIHRvVHJhbnNpdGlvbkNvbmZpZ0FycmF5LCBpc01hY2hpbmUsIGNyZWF0ZUludm9rZUlkIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBTdGF0ZSwgc3RhdGVWYWx1ZXNFcXVhbCB9IGZyb20gJy4vU3RhdGUuanMnO1xuaW1wb3J0IHsgc3RhcnQgYXMgc3RhcnQkMSwgc3RvcCBhcyBzdG9wJDEsIGludm9rZSwgdXBkYXRlLCBudWxsRXZlbnQgfSBmcm9tICcuL2FjdGlvblR5cGVzLmpzJztcbmltcG9ydCB7IGRvbmUsIHN0YXJ0LCB0b0FjdGlvbk9iamVjdHMsIHJhaXNlLCBzdG9wLCByZXNvbHZlQWN0aW9ucywgZG9uZUludm9rZSwgZXJyb3IsIHRvQWN0aW9uT2JqZWN0LCB0b0FjdGl2aXR5RGVmaW5pdGlvbiwgYWZ0ZXIsIHNlbmQsIGNhbmNlbCwgaW5pdEV2ZW50IH0gZnJvbSAnLi9hY3Rpb25zLmpzJztcbmltcG9ydCB7IElTX1BST0RVQ1RJT04gfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcbmltcG9ydCB7IFNUQVRFX0RFTElNSVRFUiB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGdldEFsbFN0YXRlTm9kZXMsIGdldENvbmZpZ3VyYXRpb24sIGlzSW5GaW5hbFN0YXRlLCBnZXRUYWdzRnJvbUNvbmZpZ3VyYXRpb24sIGhhcywgZ2V0Q2hpbGRyZW4sIGdldFZhbHVlLCBpc0xlYWZOb2RlLCBnZXRBbGxDaGlsZHJlbiB9IGZyb20gJy4vc3RhdGVVdGlscy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJbnZvY2FibGVBY3RvciB9IGZyb20gJy4vQWN0b3IuanMnO1xuaW1wb3J0IHsgdG9JbnZva2VEZWZpbml0aW9uIH0gZnJvbSAnLi9pbnZva2VVdGlscy5qcyc7XG5cbnZhciBOVUxMX0VWRU5UID0gJyc7XG52YXIgU1RBVEVfSURFTlRJRklFUiA9ICcjJztcbnZhciBXSUxEQ0FSRCA9ICcqJztcbnZhciBFTVBUWV9PQkpFQ1QgPSB7fTtcblxudmFyIGlzU3RhdGVJZCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0clswXSA9PT0gU1RBVEVfSURFTlRJRklFUjtcbn07XG5cbnZhciBjcmVhdGVEZWZhdWx0T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb25zOiB7fSxcbiAgICBndWFyZHM6IHt9LFxuICAgIHNlcnZpY2VzOiB7fSxcbiAgICBhY3Rpdml0aWVzOiB7fSxcbiAgICBkZWxheXM6IHt9XG4gIH07XG59O1xuXG52YXIgdmFsaWRhdGVBcnJheWlmaWVkVHJhbnNpdGlvbnMgPSBmdW5jdGlvbiAoc3RhdGVOb2RlLCBldmVudCwgdHJhbnNpdGlvbnMpIHtcbiAgdmFyIGhhc05vbkxhc3RVbmd1YXJkZWRUYXJnZXQgPSB0cmFuc2l0aW9ucy5zbGljZSgwLCAtMSkuc29tZShmdW5jdGlvbiAodHJhbnNpdGlvbikge1xuICAgIHJldHVybiAhKCdjb25kJyBpbiB0cmFuc2l0aW9uKSAmJiAhKCdpbicgaW4gdHJhbnNpdGlvbikgJiYgKGlzU3RyaW5nKHRyYW5zaXRpb24udGFyZ2V0KSB8fCBpc01hY2hpbmUodHJhbnNpdGlvbi50YXJnZXQpKTtcbiAgfSk7XG4gIHZhciBldmVudFRleHQgPSBldmVudCA9PT0gTlVMTF9FVkVOVCA/ICd0aGUgdHJhbnNpZW50IGV2ZW50JyA6IFwiZXZlbnQgJ1wiLmNvbmNhdChldmVudCwgXCInXCIpO1xuICB3YXJuKCFoYXNOb25MYXN0VW5ndWFyZGVkVGFyZ2V0LCBcIk9uZSBvciBtb3JlIHRyYW5zaXRpb25zIGZvciBcIi5jb25jYXQoZXZlbnRUZXh0LCBcIiBvbiBzdGF0ZSAnXCIpLmNvbmNhdChzdGF0ZU5vZGUuaWQsIFwiJyBhcmUgdW5yZWFjaGFibGUuIFwiKSArIFwiTWFrZSBzdXJlIHRoYXQgdGhlIGRlZmF1bHQgdHJhbnNpdGlvbiBpcyB0aGUgbGFzdCBvbmUgZGVmaW5lZC5cIik7XG59O1xuXG52YXIgU3RhdGVOb2RlID1cbi8qI19fUFVSRV9fKi9cblxuLyoqIEBjbGFzcyAqL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdGF0ZU5vZGUoXG4gIC8qKlxyXG4gICAqIFRoZSByYXcgY29uZmlnIHVzZWQgdG8gY3JlYXRlIHRoZSBtYWNoaW5lLlxyXG4gICAqL1xuICBjb25maWcsIG9wdGlvbnMsXG4gIC8qKlxyXG4gICAqIFRoZSBpbml0aWFsIGV4dGVuZGVkIHN0YXRlXHJcbiAgICovXG4gIF9jb250ZXh0LCAvLyBUT0RPOiB0aGlzIGlzIHVuc2FmZSwgYnV0IHdlJ3JlIHJlbW92aW5nIGl0IGluIHY1IGFueXdheVxuICBfc3RhdGVJbmZvKSB7XG4gICAgaWYgKF9jb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICAgIF9jb250ZXh0ID0gJ2NvbnRleHQnIGluIGNvbmZpZyA/IGNvbmZpZy5jb250ZXh0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgX2E7XG5cbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9jb250ZXh0ID0gX2NvbnRleHQ7XG4gICAgLyoqXHJcbiAgICAgKiBUaGUgb3JkZXIgdGhpcyBzdGF0ZSBub2RlIGFwcGVhcnMuIENvcnJlc3BvbmRzIHRvIHRoZSBpbXBsaWNpdCBTQ1hNTCBkb2N1bWVudCBvcmRlci5cclxuICAgICAqL1xuXG4gICAgdGhpcy5vcmRlciA9IC0xO1xuICAgIHRoaXMuX194c3RhdGVub2RlID0gdHJ1ZTtcbiAgICB0aGlzLl9fY2FjaGUgPSB7XG4gICAgICBldmVudHM6IHVuZGVmaW5lZCxcbiAgICAgIHJlbGF0aXZlVmFsdWU6IG5ldyBNYXAoKSxcbiAgICAgIGluaXRpYWxTdGF0ZVZhbHVlOiB1bmRlZmluZWQsXG4gICAgICBpbml0aWFsU3RhdGU6IHVuZGVmaW5lZCxcbiAgICAgIG9uOiB1bmRlZmluZWQsXG4gICAgICB0cmFuc2l0aW9uczogdW5kZWZpbmVkLFxuICAgICAgY2FuZGlkYXRlczoge30sXG4gICAgICBkZWxheWVkVHJhbnNpdGlvbnM6IHVuZGVmaW5lZFxuICAgIH07XG4gICAgdGhpcy5pZE1hcCA9IHt9O1xuICAgIHRoaXMudGFncyA9IFtdO1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oY3JlYXRlRGVmYXVsdE9wdGlvbnMoKSwgb3B0aW9ucyk7XG4gICAgdGhpcy5wYXJlbnQgPSBfc3RhdGVJbmZvID09PSBudWxsIHx8IF9zdGF0ZUluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdGF0ZUluZm8ucGFyZW50O1xuICAgIHRoaXMua2V5ID0gdGhpcy5jb25maWcua2V5IHx8IChfc3RhdGVJbmZvID09PSBudWxsIHx8IF9zdGF0ZUluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdGF0ZUluZm8ua2V5KSB8fCB0aGlzLmNvbmZpZy5pZCB8fCAnKG1hY2hpbmUpJztcbiAgICB0aGlzLm1hY2hpbmUgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50Lm1hY2hpbmUgOiB0aGlzO1xuICAgIHRoaXMucGF0aCA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQucGF0aC5jb25jYXQodGhpcy5rZXkpIDogW107XG4gICAgdGhpcy5kZWxpbWl0ZXIgPSB0aGlzLmNvbmZpZy5kZWxpbWl0ZXIgfHwgKHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuZGVsaW1pdGVyIDogU1RBVEVfREVMSU1JVEVSKTtcbiAgICB0aGlzLmlkID0gdGhpcy5jb25maWcuaWQgfHwgX19zcHJlYWRBcnJheShbdGhpcy5tYWNoaW5lLmtleV0sIF9fcmVhZCh0aGlzLnBhdGgpLCBmYWxzZSkuam9pbih0aGlzLmRlbGltaXRlcik7XG4gICAgdGhpcy52ZXJzaW9uID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC52ZXJzaW9uIDogdGhpcy5jb25maWcudmVyc2lvbjtcbiAgICB0aGlzLnR5cGUgPSB0aGlzLmNvbmZpZy50eXBlIHx8ICh0aGlzLmNvbmZpZy5wYXJhbGxlbCA/ICdwYXJhbGxlbCcgOiB0aGlzLmNvbmZpZy5zdGF0ZXMgJiYgT2JqZWN0LmtleXModGhpcy5jb25maWcuc3RhdGVzKS5sZW5ndGggPyAnY29tcG91bmQnIDogdGhpcy5jb25maWcuaGlzdG9yeSA/ICdoaXN0b3J5JyA6ICdhdG9taWMnKTtcbiAgICB0aGlzLnNjaGVtYSA9IHRoaXMucGFyZW50ID8gdGhpcy5tYWNoaW5lLnNjaGVtYSA6IChfYSA9IHRoaXMuY29uZmlnLnNjaGVtYSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IHRoaXMuY29uZmlnLmRlc2NyaXB0aW9uO1xuXG4gICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICB3YXJuKCEoJ3BhcmFsbGVsJyBpbiB0aGlzLmNvbmZpZyksIFwiVGhlIFxcXCJwYXJhbGxlbFxcXCIgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gNC4xLiBcIi5jb25jYXQodGhpcy5jb25maWcucGFyYWxsZWwgPyBcIlJlcGxhY2Ugd2l0aCBgdHlwZTogJ3BhcmFsbGVsJ2BcIiA6IFwiVXNlIGB0eXBlOiAnXCIuY29uY2F0KHRoaXMudHlwZSwgXCInYFwiKSwgXCIgaW4gdGhlIGNvbmZpZyBmb3Igc3RhdGUgbm9kZSAnXCIpLmNvbmNhdCh0aGlzLmlkLCBcIicgaW5zdGVhZC5cIikpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdGlhbCA9IHRoaXMuY29uZmlnLmluaXRpYWw7XG4gICAgdGhpcy5zdGF0ZXMgPSB0aGlzLmNvbmZpZy5zdGF0ZXMgPyBtYXBWYWx1ZXModGhpcy5jb25maWcuc3RhdGVzLCBmdW5jdGlvbiAoc3RhdGVDb25maWcsIGtleSkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICB2YXIgc3RhdGVOb2RlID0gbmV3IFN0YXRlTm9kZShzdGF0ZUNvbmZpZywge30sIHVuZGVmaW5lZCwge1xuICAgICAgICBwYXJlbnQ6IF90aGlzLFxuICAgICAgICBrZXk6IGtleVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuYXNzaWduKF90aGlzLmlkTWFwLCBfX2Fzc2lnbigoX2EgPSB7fSwgX2Fbc3RhdGVOb2RlLmlkXSA9IHN0YXRlTm9kZSwgX2EpLCBzdGF0ZU5vZGUuaWRNYXApKTtcbiAgICAgIHJldHVybiBzdGF0ZU5vZGU7XG4gICAgfSkgOiBFTVBUWV9PQkpFQ1Q7IC8vIERvY3VtZW50IG9yZGVyXG5cbiAgICB2YXIgb3JkZXIgPSAwO1xuXG4gICAgZnVuY3Rpb24gZGZzKHN0YXRlTm9kZSkge1xuICAgICAgdmFyIGVfMSwgX2E7XG5cbiAgICAgIHN0YXRlTm9kZS5vcmRlciA9IG9yZGVyKys7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoZ2V0QWxsQ2hpbGRyZW4oc3RhdGVOb2RlKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICB2YXIgY2hpbGQgPSBfYy52YWx1ZTtcbiAgICAgICAgICBkZnMoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlXzFfMSkge1xuICAgICAgICBlXzEgPSB7XG4gICAgICAgICAgZXJyb3I6IGVfMV8xXG4gICAgICAgIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBkZnModGhpcyk7IC8vIEhpc3RvcnkgY29uZmlnXG5cbiAgICB0aGlzLmhpc3RvcnkgPSB0aGlzLmNvbmZpZy5oaXN0b3J5ID09PSB0cnVlID8gJ3NoYWxsb3cnIDogdGhpcy5jb25maWcuaGlzdG9yeSB8fCBmYWxzZTtcbiAgICB0aGlzLl90cmFuc2llbnQgPSAhIXRoaXMuY29uZmlnLmFsd2F5cyB8fCAoIXRoaXMuY29uZmlnLm9uID8gZmFsc2UgOiBBcnJheS5pc0FycmF5KHRoaXMuY29uZmlnLm9uKSA/IHRoaXMuY29uZmlnLm9uLnNvbWUoZnVuY3Rpb24gKF9hKSB7XG4gICAgICB2YXIgZXZlbnQgPSBfYS5ldmVudDtcbiAgICAgIHJldHVybiBldmVudCA9PT0gTlVMTF9FVkVOVDtcbiAgICB9KSA6IE5VTExfRVZFTlQgaW4gdGhpcy5jb25maWcub24pO1xuICAgIHRoaXMuc3RyaWN0ID0gISF0aGlzLmNvbmZpZy5zdHJpY3Q7IC8vIFRPRE86IGRlcHJlY2F0ZSAoZW50cnkpXG5cbiAgICB0aGlzLm9uRW50cnkgPSB0b0FycmF5KHRoaXMuY29uZmlnLmVudHJ5IHx8IHRoaXMuY29uZmlnLm9uRW50cnkpLm1hcChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICByZXR1cm4gdG9BY3Rpb25PYmplY3QoYWN0aW9uKTtcbiAgICB9KTsgLy8gVE9ETzogZGVwcmVjYXRlIChleGl0KVxuXG4gICAgdGhpcy5vbkV4aXQgPSB0b0FycmF5KHRoaXMuY29uZmlnLmV4aXQgfHwgdGhpcy5jb25maWcub25FeGl0KS5tYXAoZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgcmV0dXJuIHRvQWN0aW9uT2JqZWN0KGFjdGlvbik7XG4gICAgfSk7XG4gICAgdGhpcy5tZXRhID0gdGhpcy5jb25maWcubWV0YTtcbiAgICB0aGlzLmRvbmVEYXRhID0gdGhpcy50eXBlID09PSAnZmluYWwnID8gdGhpcy5jb25maWcuZGF0YSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLmludm9rZSA9IHRvQXJyYXkodGhpcy5jb25maWcuaW52b2tlKS5tYXAoZnVuY3Rpb24gKGludm9rZUNvbmZpZywgaSkge1xuICAgICAgdmFyIF9hLCBfYjtcblxuICAgICAgaWYgKGlzTWFjaGluZShpbnZva2VDb25maWcpKSB7XG4gICAgICAgIHZhciBpbnZva2VJZCA9IGNyZWF0ZUludm9rZUlkKF90aGlzLmlkLCBpKTtcbiAgICAgICAgX3RoaXMubWFjaGluZS5vcHRpb25zLnNlcnZpY2VzID0gX19hc3NpZ24oKF9hID0ge30sIF9hW2ludm9rZUlkXSA9IGludm9rZUNvbmZpZywgX2EpLCBfdGhpcy5tYWNoaW5lLm9wdGlvbnMuc2VydmljZXMpO1xuICAgICAgICByZXR1cm4gdG9JbnZva2VEZWZpbml0aW9uKHtcbiAgICAgICAgICBzcmM6IGludm9rZUlkLFxuICAgICAgICAgIGlkOiBpbnZva2VJZFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoaW52b2tlQ29uZmlnLnNyYykpIHtcbiAgICAgICAgdmFyIGludm9rZUlkID0gaW52b2tlQ29uZmlnLmlkIHx8IGNyZWF0ZUludm9rZUlkKF90aGlzLmlkLCBpKTtcbiAgICAgICAgcmV0dXJuIHRvSW52b2tlRGVmaW5pdGlvbihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgaW52b2tlQ29uZmlnKSwge1xuICAgICAgICAgIGlkOiBpbnZva2VJZCxcbiAgICAgICAgICBzcmM6IGludm9rZUNvbmZpZy5zcmNcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIGlmIChpc01hY2hpbmUoaW52b2tlQ29uZmlnLnNyYykgfHwgaXNGdW5jdGlvbihpbnZva2VDb25maWcuc3JjKSkge1xuICAgICAgICB2YXIgaW52b2tlSWQgPSBpbnZva2VDb25maWcuaWQgfHwgY3JlYXRlSW52b2tlSWQoX3RoaXMuaWQsIGkpO1xuICAgICAgICBfdGhpcy5tYWNoaW5lLm9wdGlvbnMuc2VydmljZXMgPSBfX2Fzc2lnbigoX2IgPSB7fSwgX2JbaW52b2tlSWRdID0gaW52b2tlQ29uZmlnLnNyYywgX2IpLCBfdGhpcy5tYWNoaW5lLm9wdGlvbnMuc2VydmljZXMpO1xuICAgICAgICByZXR1cm4gdG9JbnZva2VEZWZpbml0aW9uKF9fYXNzaWduKF9fYXNzaWduKHtcbiAgICAgICAgICBpZDogaW52b2tlSWRcbiAgICAgICAgfSwgaW52b2tlQ29uZmlnKSwge1xuICAgICAgICAgIHNyYzogaW52b2tlSWRcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGludm9rZVNvdXJjZSA9IGludm9rZUNvbmZpZy5zcmM7XG4gICAgICAgIHJldHVybiB0b0ludm9rZURlZmluaXRpb24oX19hc3NpZ24oX19hc3NpZ24oe1xuICAgICAgICAgIGlkOiBjcmVhdGVJbnZva2VJZChfdGhpcy5pZCwgaSlcbiAgICAgICAgfSwgaW52b2tlQ29uZmlnKSwge1xuICAgICAgICAgIHNyYzogaW52b2tlU291cmNlXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmFjdGl2aXRpZXMgPSB0b0FycmF5KHRoaXMuY29uZmlnLmFjdGl2aXRpZXMpLmNvbmNhdCh0aGlzLmludm9rZSkubWFwKGZ1bmN0aW9uIChhY3Rpdml0eSkge1xuICAgICAgcmV0dXJuIHRvQWN0aXZpdHlEZWZpbml0aW9uKGFjdGl2aXR5KTtcbiAgICB9KTtcbiAgICB0aGlzLnRyYW5zaXRpb24gPSB0aGlzLnRyYW5zaXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLnRhZ3MgPSB0b0FycmF5KHRoaXMuY29uZmlnLnRhZ3MpOyAvLyBUT0RPOiB0aGlzIGlzIHRoZSByZWFsIGZpeCBmb3IgaW5pdGlhbGl6YXRpb24gb25jZVxuICAgIC8vIHN0YXRlIG5vZGUgZ2V0dGVycyBhcmUgZGVwcmVjYXRlZFxuICAgIC8vIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAvLyAgIHRoaXMuX2luaXQoKTtcbiAgICAvLyB9XG4gIH1cblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9fY2FjaGUudHJhbnNpdGlvbnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBnZXRBbGxTdGF0ZU5vZGVzKHRoaXMpLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlTm9kZSkge1xuICAgICAgcmV0dXJuIHN0YXRlTm9kZS5vbjtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXHJcbiAgICogQ2xvbmVzIHRoaXMgc3RhdGUgbWFjaGluZSB3aXRoIGN1c3RvbSBvcHRpb25zIGFuZCBjb250ZXh0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyAoYWN0aW9ucywgZ3VhcmRzLCBhY3Rpdml0aWVzLCBzZXJ2aWNlcykgdG8gcmVjdXJzaXZlbHkgbWVyZ2Ugd2l0aCB0aGUgZXhpc3Rpbmcgb3B0aW9ucy5cclxuICAgKiBAcGFyYW0gY29udGV4dCBDdXN0b20gY29udGV4dCAod2lsbCBvdmVycmlkZSBwcmVkZWZpbmVkIGNvbnRleHQpXHJcbiAgICovXG5cblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLndpdGhDb25maWcgPSBmdW5jdGlvbiAob3B0aW9ucywgY29udGV4dCkge1xuICAgIHZhciBfYSA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgYWN0aW9ucyA9IF9hLmFjdGlvbnMsXG4gICAgICAgIGFjdGl2aXRpZXMgPSBfYS5hY3Rpdml0aWVzLFxuICAgICAgICBndWFyZHMgPSBfYS5ndWFyZHMsXG4gICAgICAgIHNlcnZpY2VzID0gX2Euc2VydmljZXMsXG4gICAgICAgIGRlbGF5cyA9IF9hLmRlbGF5cztcbiAgICByZXR1cm4gbmV3IFN0YXRlTm9kZSh0aGlzLmNvbmZpZywge1xuICAgICAgYWN0aW9uczogX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGlvbnMpLCBvcHRpb25zLmFjdGlvbnMpLFxuICAgICAgYWN0aXZpdGllczogX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGl2aXRpZXMpLCBvcHRpb25zLmFjdGl2aXRpZXMpLFxuICAgICAgZ3VhcmRzOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZ3VhcmRzKSwgb3B0aW9ucy5ndWFyZHMpLFxuICAgICAgc2VydmljZXM6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzZXJ2aWNlcyksIG9wdGlvbnMuc2VydmljZXMpLFxuICAgICAgZGVsYXlzOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZGVsYXlzKSwgb3B0aW9ucy5kZWxheXMpXG4gICAgfSwgY29udGV4dCAhPT0gbnVsbCAmJiBjb250ZXh0ICE9PSB2b2lkIDAgPyBjb250ZXh0IDogdGhpcy5jb250ZXh0KTtcbiAgfTtcbiAgLyoqXHJcbiAgICogQ2xvbmVzIHRoaXMgc3RhdGUgbWFjaGluZSB3aXRoIGN1c3RvbSBjb250ZXh0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGNvbnRleHQgQ3VzdG9tIGNvbnRleHQgKHdpbGwgb3ZlcnJpZGUgcHJlZGVmaW5lZCBjb250ZXh0LCBub3QgcmVjdXJzaXZlKVxyXG4gICAqL1xuXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS53aXRoQ29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgcmV0dXJuIG5ldyBTdGF0ZU5vZGUodGhpcy5jb25maWcsIHRoaXMub3B0aW9ucywgY29udGV4dCk7XG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaXNGdW5jdGlvbih0aGlzLl9jb250ZXh0KSA/IHRoaXMuX2NvbnRleHQoKSA6IHRoaXMuX2NvbnRleHQ7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU5vZGUucHJvdG90eXBlLCBcImRlZmluaXRpb25cIiwge1xuICAgIC8qKlxyXG4gICAgICogVGhlIHdlbGwtc3RydWN0dXJlZCBzdGF0ZSBub2RlIGRlZmluaXRpb24uXHJcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICBrZXk6IHRoaXMua2V5LFxuICAgICAgICB2ZXJzaW9uOiB0aGlzLnZlcnNpb24sXG4gICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICBpbml0aWFsOiB0aGlzLmluaXRpYWwsXG4gICAgICAgIGhpc3Rvcnk6IHRoaXMuaGlzdG9yeSxcbiAgICAgICAgc3RhdGVzOiBtYXBWYWx1ZXModGhpcy5zdGF0ZXMsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZS5kZWZpbml0aW9uO1xuICAgICAgICB9KSxcbiAgICAgICAgb246IHRoaXMub24sXG4gICAgICAgIHRyYW5zaXRpb25zOiB0aGlzLnRyYW5zaXRpb25zLFxuICAgICAgICBlbnRyeTogdGhpcy5vbkVudHJ5LFxuICAgICAgICBleGl0OiB0aGlzLm9uRXhpdCxcbiAgICAgICAgYWN0aXZpdGllczogdGhpcy5hY3Rpdml0aWVzIHx8IFtdLFxuICAgICAgICBtZXRhOiB0aGlzLm1ldGEsXG4gICAgICAgIG9yZGVyOiB0aGlzLm9yZGVyIHx8IC0xLFxuICAgICAgICBkYXRhOiB0aGlzLmRvbmVEYXRhLFxuICAgICAgICBpbnZva2U6IHRoaXMuaW52b2tlLFxuICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgICAgdGFnczogdGhpcy50YWdzXG4gICAgICB9O1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlZmluaXRpb247XG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwib25cIiwge1xuICAgIC8qKlxyXG4gICAgICogVGhlIG1hcHBpbmcgb2YgZXZlbnRzIHRvIHRyYW5zaXRpb25zLlxyXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5fX2NhY2hlLm9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fY2FjaGUub247XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFuc2l0aW9ucyA9IHRoaXMudHJhbnNpdGlvbnM7XG4gICAgICByZXR1cm4gdGhpcy5fX2NhY2hlLm9uID0gdHJhbnNpdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChtYXAsIHRyYW5zaXRpb24pIHtcbiAgICAgICAgbWFwW3RyYW5zaXRpb24uZXZlbnRUeXBlXSA9IG1hcFt0cmFuc2l0aW9uLmV2ZW50VHlwZV0gfHwgW107XG4gICAgICAgIG1hcFt0cmFuc2l0aW9uLmV2ZW50VHlwZV0ucHVzaCh0cmFuc2l0aW9uKTtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH0sIHt9KTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwiYWZ0ZXJcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19jYWNoZS5kZWxheWVkVHJhbnNpdGlvbnMgfHwgKHRoaXMuX19jYWNoZS5kZWxheWVkVHJhbnNpdGlvbnMgPSB0aGlzLmdldERlbGF5ZWRUcmFuc2l0aW9ucygpLCB0aGlzLl9fY2FjaGUuZGVsYXllZFRyYW5zaXRpb25zKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwidHJhbnNpdGlvbnNcIiwge1xuICAgIC8qKlxyXG4gICAgICogQWxsIHRoZSB0cmFuc2l0aW9ucyB0aGF0IGNhbiBiZSB0YWtlbiBmcm9tIHRoaXMgc3RhdGUgbm9kZS5cclxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19jYWNoZS50cmFuc2l0aW9ucyB8fCAodGhpcy5fX2NhY2hlLnRyYW5zaXRpb25zID0gdGhpcy5mb3JtYXRUcmFuc2l0aW9ucygpLCB0aGlzLl9fY2FjaGUudHJhbnNpdGlvbnMpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0Q2FuZGlkYXRlcyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICBpZiAodGhpcy5fX2NhY2hlLmNhbmRpZGF0ZXNbZXZlbnROYW1lXSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19jYWNoZS5jYW5kaWRhdGVzW2V2ZW50TmFtZV07XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zaWVudCA9IGV2ZW50TmFtZSA9PT0gTlVMTF9FVkVOVDtcbiAgICB2YXIgY2FuZGlkYXRlcyA9IHRoaXMudHJhbnNpdGlvbnMuZmlsdGVyKGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7XG4gICAgICB2YXIgc2FtZUV2ZW50VHlwZSA9IHRyYW5zaXRpb24uZXZlbnRUeXBlID09PSBldmVudE5hbWU7IC8vIG51bGwgZXZlbnRzIHNob3VsZCBvbmx5IG1hdGNoIGFnYWluc3QgZXZlbnRsZXNzIHRyYW5zaXRpb25zXG5cbiAgICAgIHJldHVybiB0cmFuc2llbnQgPyBzYW1lRXZlbnRUeXBlIDogc2FtZUV2ZW50VHlwZSB8fCB0cmFuc2l0aW9uLmV2ZW50VHlwZSA9PT0gV0lMRENBUkQ7XG4gICAgfSk7XG4gICAgdGhpcy5fX2NhY2hlLmNhbmRpZGF0ZXNbZXZlbnROYW1lXSA9IGNhbmRpZGF0ZXM7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZXM7XG4gIH07XG4gIC8qKlxyXG4gICAqIEFsbCBkZWxheWVkIHRyYW5zaXRpb25zIGZyb20gdGhlIGNvbmZpZy5cclxuICAgKi9cblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0RGVsYXllZFRyYW5zaXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgYWZ0ZXJDb25maWcgPSB0aGlzLmNvbmZpZy5hZnRlcjtcblxuICAgIGlmICghYWZ0ZXJDb25maWcpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB2YXIgbXV0YXRlRW50cnlFeGl0ID0gZnVuY3Rpb24gKGRlbGF5LCBpKSB7XG4gICAgICB2YXIgZGVsYXlSZWYgPSBpc0Z1bmN0aW9uKGRlbGF5KSA/IFwiXCIuY29uY2F0KF90aGlzLmlkLCBcIjpkZWxheVtcIikuY29uY2F0KGksIFwiXVwiKSA6IGRlbGF5O1xuICAgICAgdmFyIGV2ZW50VHlwZSA9IGFmdGVyKGRlbGF5UmVmLCBfdGhpcy5pZCk7XG5cbiAgICAgIF90aGlzLm9uRW50cnkucHVzaChzZW5kKGV2ZW50VHlwZSwge1xuICAgICAgICBkZWxheTogZGVsYXlcbiAgICAgIH0pKTtcblxuICAgICAgX3RoaXMub25FeGl0LnB1c2goY2FuY2VsKGV2ZW50VHlwZSkpO1xuXG4gICAgICByZXR1cm4gZXZlbnRUeXBlO1xuICAgIH07XG5cbiAgICB2YXIgZGVsYXllZFRyYW5zaXRpb25zID0gaXNBcnJheShhZnRlckNvbmZpZykgPyBhZnRlckNvbmZpZy5tYXAoZnVuY3Rpb24gKHRyYW5zaXRpb24sIGkpIHtcbiAgICAgIHZhciBldmVudFR5cGUgPSBtdXRhdGVFbnRyeUV4aXQodHJhbnNpdGlvbi5kZWxheSwgaSk7XG4gICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHRyYW5zaXRpb24pLCB7XG4gICAgICAgIGV2ZW50OiBldmVudFR5cGVcbiAgICAgIH0pO1xuICAgIH0pIDogZmxhdHRlbihPYmplY3Qua2V5cyhhZnRlckNvbmZpZykubWFwKGZ1bmN0aW9uIChkZWxheSwgaSkge1xuICAgICAgdmFyIGNvbmZpZ1RyYW5zaXRpb24gPSBhZnRlckNvbmZpZ1tkZWxheV07XG4gICAgICB2YXIgcmVzb2x2ZWRUcmFuc2l0aW9uID0gaXNTdHJpbmcoY29uZmlnVHJhbnNpdGlvbikgPyB7XG4gICAgICAgIHRhcmdldDogY29uZmlnVHJhbnNpdGlvblxuICAgICAgfSA6IGNvbmZpZ1RyYW5zaXRpb247XG4gICAgICB2YXIgcmVzb2x2ZWREZWxheSA9ICFpc05hTigrZGVsYXkpID8gK2RlbGF5IDogZGVsYXk7XG4gICAgICB2YXIgZXZlbnRUeXBlID0gbXV0YXRlRW50cnlFeGl0KHJlc29sdmVkRGVsYXksIGkpO1xuICAgICAgcmV0dXJuIHRvQXJyYXkocmVzb2x2ZWRUcmFuc2l0aW9uKS5tYXAoZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCB0cmFuc2l0aW9uKSwge1xuICAgICAgICAgIGV2ZW50OiBldmVudFR5cGUsXG4gICAgICAgICAgZGVsYXk6IHJlc29sdmVkRGVsYXlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGRlbGF5ZWRUcmFuc2l0aW9ucy5tYXAoZnVuY3Rpb24gKGRlbGF5ZWRUcmFuc2l0aW9uKSB7XG4gICAgICB2YXIgZGVsYXkgPSBkZWxheWVkVHJhbnNpdGlvbi5kZWxheTtcbiAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgX3RoaXMuZm9ybWF0VHJhbnNpdGlvbihkZWxheWVkVHJhbnNpdGlvbikpLCB7XG4gICAgICAgIGRlbGF5OiBkZWxheVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIHN0YXRlIG5vZGVzIHJlcHJlc2VudGVkIGJ5IHRoZSBjdXJyZW50IHN0YXRlIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHN0YXRlIFRoZSBzdGF0ZSB2YWx1ZSBvciBTdGF0ZSBpbnN0YW5jZVxyXG4gICAqL1xuXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5nZXRTdGF0ZU5vZGVzID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICghc3RhdGUpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB2YXIgc3RhdGVWYWx1ZSA9IHN0YXRlIGluc3RhbmNlb2YgU3RhdGUgPyBzdGF0ZS52YWx1ZSA6IHRvU3RhdGVWYWx1ZShzdGF0ZSwgdGhpcy5kZWxpbWl0ZXIpO1xuXG4gICAgaWYgKGlzU3RyaW5nKHN0YXRlVmFsdWUpKSB7XG4gICAgICB2YXIgaW5pdGlhbFN0YXRlVmFsdWUgPSB0aGlzLmdldFN0YXRlTm9kZShzdGF0ZVZhbHVlKS5pbml0aWFsO1xuICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZVZhbHVlICE9PSB1bmRlZmluZWQgPyB0aGlzLmdldFN0YXRlTm9kZXMoKF9hID0ge30sIF9hW3N0YXRlVmFsdWVdID0gaW5pdGlhbFN0YXRlVmFsdWUsIF9hKSkgOiBbdGhpcywgdGhpcy5zdGF0ZXNbc3RhdGVWYWx1ZV1dO1xuICAgIH1cblxuICAgIHZhciBzdWJTdGF0ZUtleXMgPSBPYmplY3Qua2V5cyhzdGF0ZVZhbHVlKTtcbiAgICB2YXIgc3ViU3RhdGVOb2RlcyA9IFt0aGlzXTtcbiAgICBzdWJTdGF0ZU5vZGVzLnB1c2guYXBwbHkoc3ViU3RhdGVOb2RlcywgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGZsYXR0ZW4oc3ViU3RhdGVLZXlzLm1hcChmdW5jdGlvbiAoc3ViU3RhdGVLZXkpIHtcbiAgICAgIHJldHVybiBfdGhpcy5nZXRTdGF0ZU5vZGUoc3ViU3RhdGVLZXkpLmdldFN0YXRlTm9kZXMoc3RhdGVWYWx1ZVtzdWJTdGF0ZUtleV0pO1xuICAgIH0pKSksIGZhbHNlKSk7XG4gICAgcmV0dXJuIHN1YlN0YXRlTm9kZXM7XG4gIH07XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYHRydWVgIGlmIHRoaXMgc3RhdGUgbm9kZSBleHBsaWNpdGx5IGhhbmRsZXMgdGhlIGdpdmVuIGV2ZW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCBpbiBxdWVzdGlvblxyXG4gICAqL1xuXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5oYW5kbGVzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGV2ZW50VHlwZSA9IGdldEV2ZW50VHlwZShldmVudCk7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzLmluY2x1ZGVzKGV2ZW50VHlwZSk7XG4gIH07XG4gIC8qKlxyXG4gICAqIFJlc29sdmVzIHRoZSBnaXZlbiBgc3RhdGVgIHRvIGEgbmV3IGBTdGF0ZWAgaW5zdGFuY2UgcmVsYXRpdmUgdG8gdGhpcyBtYWNoaW5lLlxyXG4gICAqXHJcbiAgICogVGhpcyBlbnN1cmVzIHRoYXQgYC5ldmVudHNgIGFuZCBgLm5leHRFdmVudHNgIHJlcHJlc2VudCB0aGUgY29ycmVjdCB2YWx1ZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc3RhdGUgVGhlIHN0YXRlIHRvIHJlc29sdmVcclxuICAgKi9cblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUucmVzb2x2ZVN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIHN0YXRlRnJvbUNvbmZpZyA9IHN0YXRlIGluc3RhbmNlb2YgU3RhdGUgPyBzdGF0ZSA6IFN0YXRlLmNyZWF0ZShzdGF0ZSk7XG4gICAgdmFyIGNvbmZpZ3VyYXRpb24gPSBBcnJheS5mcm9tKGdldENvbmZpZ3VyYXRpb24oW10sIHRoaXMuZ2V0U3RhdGVOb2RlcyhzdGF0ZUZyb21Db25maWcudmFsdWUpKSk7XG4gICAgcmV0dXJuIG5ldyBTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3RhdGVGcm9tQ29uZmlnKSwge1xuICAgICAgdmFsdWU6IHRoaXMucmVzb2x2ZShzdGF0ZUZyb21Db25maWcudmFsdWUpLFxuICAgICAgY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvbixcbiAgICAgIGRvbmU6IGlzSW5GaW5hbFN0YXRlKGNvbmZpZ3VyYXRpb24sIHRoaXMpLFxuICAgICAgdGFnczogZ2V0VGFnc0Zyb21Db25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pLFxuICAgICAgbWFjaGluZTogdGhpcy5tYWNoaW5lXG4gICAgfSkpO1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUudHJhbnNpdGlvbkxlYWZOb2RlID0gZnVuY3Rpb24gKHN0YXRlVmFsdWUsIHN0YXRlLCBfZXZlbnQpIHtcbiAgICB2YXIgc3RhdGVOb2RlID0gdGhpcy5nZXRTdGF0ZU5vZGUoc3RhdGVWYWx1ZSk7XG4gICAgdmFyIG5leHQgPSBzdGF0ZU5vZGUubmV4dChzdGF0ZSwgX2V2ZW50KTtcblxuICAgIGlmICghbmV4dCB8fCAhbmV4dC50cmFuc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHQoc3RhdGUsIF9ldmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHQ7XG4gIH07XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS50cmFuc2l0aW9uQ29tcG91bmROb2RlID0gZnVuY3Rpb24gKHN0YXRlVmFsdWUsIHN0YXRlLCBfZXZlbnQpIHtcbiAgICB2YXIgc3ViU3RhdGVLZXlzID0gT2JqZWN0LmtleXMoc3RhdGVWYWx1ZSk7XG4gICAgdmFyIHN0YXRlTm9kZSA9IHRoaXMuZ2V0U3RhdGVOb2RlKHN1YlN0YXRlS2V5c1swXSk7XG5cbiAgICB2YXIgbmV4dCA9IHN0YXRlTm9kZS5fdHJhbnNpdGlvbihzdGF0ZVZhbHVlW3N1YlN0YXRlS2V5c1swXV0sIHN0YXRlLCBfZXZlbnQpO1xuXG4gICAgaWYgKCFuZXh0IHx8ICFuZXh0LnRyYW5zaXRpb25zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dChzdGF0ZSwgX2V2ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dDtcbiAgfTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLnRyYW5zaXRpb25QYXJhbGxlbE5vZGUgPSBmdW5jdGlvbiAoc3RhdGVWYWx1ZSwgc3RhdGUsIF9ldmVudCkge1xuICAgIHZhciBlXzIsIF9hO1xuXG4gICAgdmFyIHRyYW5zaXRpb25NYXAgPSB7fTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKE9iamVjdC5rZXlzKHN0YXRlVmFsdWUpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICB2YXIgc3ViU3RhdGVLZXkgPSBfYy52YWx1ZTtcbiAgICAgICAgdmFyIHN1YlN0YXRlVmFsdWUgPSBzdGF0ZVZhbHVlW3N1YlN0YXRlS2V5XTtcblxuICAgICAgICBpZiAoIXN1YlN0YXRlVmFsdWUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdWJTdGF0ZU5vZGUgPSB0aGlzLmdldFN0YXRlTm9kZShzdWJTdGF0ZUtleSk7XG5cbiAgICAgICAgdmFyIG5leHQgPSBzdWJTdGF0ZU5vZGUuX3RyYW5zaXRpb24oc3ViU3RhdGVWYWx1ZSwgc3RhdGUsIF9ldmVudCk7XG5cbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICB0cmFuc2l0aW9uTWFwW3N1YlN0YXRlS2V5XSA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzJfMSkge1xuICAgICAgZV8yID0ge1xuICAgICAgICBlcnJvcjogZV8yXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc3RhdGVUcmFuc2l0aW9ucyA9IE9iamVjdC5rZXlzKHRyYW5zaXRpb25NYXApLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdHJhbnNpdGlvbk1hcFtrZXldO1xuICAgIH0pO1xuICAgIHZhciBlbmFibGVkVHJhbnNpdGlvbnMgPSBmbGF0dGVuKHN0YXRlVHJhbnNpdGlvbnMubWFwKGZ1bmN0aW9uIChzdCkge1xuICAgICAgcmV0dXJuIHN0LnRyYW5zaXRpb25zO1xuICAgIH0pKTtcbiAgICB2YXIgd2lsbFRyYW5zaXRpb24gPSBzdGF0ZVRyYW5zaXRpb25zLnNvbWUoZnVuY3Rpb24gKHN0KSB7XG4gICAgICByZXR1cm4gc3QudHJhbnNpdGlvbnMubGVuZ3RoID4gMDtcbiAgICB9KTtcblxuICAgIGlmICghd2lsbFRyYW5zaXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHQoc3RhdGUsIF9ldmVudCk7XG4gICAgfVxuXG4gICAgdmFyIGNvbmZpZ3VyYXRpb24gPSBmbGF0dGVuKE9iamVjdC5rZXlzKHRyYW5zaXRpb25NYXApLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdHJhbnNpdGlvbk1hcFtrZXldLmNvbmZpZ3VyYXRpb247XG4gICAgfSkpO1xuICAgIHJldHVybiB7XG4gICAgICB0cmFuc2l0aW9uczogZW5hYmxlZFRyYW5zaXRpb25zLFxuICAgICAgZXhpdFNldDogZmxhdHRlbihzdGF0ZVRyYW5zaXRpb25zLm1hcChmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gdC5leGl0U2V0O1xuICAgICAgfSkpLFxuICAgICAgY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvbixcbiAgICAgIHNvdXJjZTogc3RhdGUsXG4gICAgICBhY3Rpb25zOiBmbGF0dGVuKE9iamVjdC5rZXlzKHRyYW5zaXRpb25NYXApLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0cmFuc2l0aW9uTWFwW2tleV0uYWN0aW9ucztcbiAgICAgIH0pKVxuICAgIH07XG4gIH07XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5fdHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChzdGF0ZVZhbHVlLCBzdGF0ZSwgX2V2ZW50KSB7XG4gICAgLy8gbGVhZiBub2RlXG4gICAgaWYgKGlzU3RyaW5nKHN0YXRlVmFsdWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uTGVhZk5vZGUoc3RhdGVWYWx1ZSwgc3RhdGUsIF9ldmVudCk7XG4gICAgfSAvLyBoaWVyYXJjaGljYWwgbm9kZVxuXG5cbiAgICBpZiAoT2JqZWN0LmtleXMoc3RhdGVWYWx1ZSkubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uQ29tcG91bmROb2RlKHN0YXRlVmFsdWUsIHN0YXRlLCBfZXZlbnQpO1xuICAgIH0gLy8gb3J0aG9nb25hbCBub2RlXG5cblxuICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25QYXJhbGxlbE5vZGUoc3RhdGVWYWx1ZSwgc3RhdGUsIF9ldmVudCk7XG4gIH07XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uRGF0YSA9IGZ1bmN0aW9uIChzdGF0ZSwgZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNpdGlvbihzdGF0ZS52YWx1ZSwgc3RhdGUsIHRvU0NYTUxFdmVudChldmVudCkpO1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIChzdGF0ZSwgX2V2ZW50KSB7XG4gICAgdmFyIGVfMywgX2E7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGV2ZW50TmFtZSA9IF9ldmVudC5uYW1lO1xuICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgdmFyIG5leHRTdGF0ZU5vZGVzID0gW107XG4gICAgdmFyIHNlbGVjdGVkVHJhbnNpdGlvbjtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuZ2V0Q2FuZGlkYXRlcyhldmVudE5hbWUpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gX2MudmFsdWU7XG4gICAgICAgIHZhciBjb25kID0gY2FuZGlkYXRlLmNvbmQsXG4gICAgICAgICAgICBzdGF0ZUluID0gY2FuZGlkYXRlLmluO1xuICAgICAgICB2YXIgcmVzb2x2ZWRDb250ZXh0ID0gc3RhdGUuY29udGV4dDtcbiAgICAgICAgdmFyIGlzSW5TdGF0ZSA9IHN0YXRlSW4gPyBpc1N0cmluZyhzdGF0ZUluKSAmJiBpc1N0YXRlSWQoc3RhdGVJbikgPyAvLyBDaGVjayBpZiBpbiBzdGF0ZSBieSBJRFxuICAgICAgICBzdGF0ZS5tYXRjaGVzKHRvU3RhdGVWYWx1ZSh0aGlzLmdldFN0YXRlTm9kZUJ5SWQoc3RhdGVJbikucGF0aCwgdGhpcy5kZWxpbWl0ZXIpKSA6IC8vIENoZWNrIGlmIGluIHN0YXRlIGJ5IHJlbGF0aXZlIGdyYW5kcGFyZW50XG4gICAgICAgIG1hdGNoZXNTdGF0ZSh0b1N0YXRlVmFsdWUoc3RhdGVJbiwgdGhpcy5kZWxpbWl0ZXIpLCBwYXRoKHRoaXMucGF0aC5zbGljZSgwLCAtMikpKHN0YXRlLnZhbHVlKSkgOiB0cnVlO1xuICAgICAgICB2YXIgZ3VhcmRQYXNzZWQgPSBmYWxzZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGd1YXJkUGFzc2VkID0gIWNvbmQgfHwgZXZhbHVhdGVHdWFyZCh0aGlzLm1hY2hpbmUsIGNvbmQsIHJlc29sdmVkQ29udGV4dCwgX2V2ZW50LCBzdGF0ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBldmFsdWF0ZSBndWFyZCAnXCIuY29uY2F0KGNvbmQubmFtZSB8fCBjb25kLnR5cGUsIFwiJyBpbiB0cmFuc2l0aW9uIGZvciBldmVudCAnXCIpLmNvbmNhdChldmVudE5hbWUsIFwiJyBpbiBzdGF0ZSBub2RlICdcIikuY29uY2F0KHRoaXMuaWQsIFwiJzpcXG5cIikuY29uY2F0KGVyci5tZXNzYWdlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ3VhcmRQYXNzZWQgJiYgaXNJblN0YXRlKSB7XG4gICAgICAgICAgaWYgKGNhbmRpZGF0ZS50YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV4dFN0YXRlTm9kZXMgPSBjYW5kaWRhdGUudGFyZ2V0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFjdGlvbnMucHVzaC5hcHBseShhY3Rpb25zLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoY2FuZGlkYXRlLmFjdGlvbnMpLCBmYWxzZSkpO1xuICAgICAgICAgIHNlbGVjdGVkVHJhbnNpdGlvbiA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfM18xKSB7XG4gICAgICBlXzMgPSB7XG4gICAgICAgIGVycm9yOiBlXzNfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghc2VsZWN0ZWRUcmFuc2l0aW9uKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICghbmV4dFN0YXRlTm9kZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2l0aW9uczogW3NlbGVjdGVkVHJhbnNpdGlvbl0sXG4gICAgICAgIGV4aXRTZXQ6IFtdLFxuICAgICAgICBjb25maWd1cmF0aW9uOiBzdGF0ZS52YWx1ZSA/IFt0aGlzXSA6IFtdLFxuICAgICAgICBzb3VyY2U6IHN0YXRlLFxuICAgICAgICBhY3Rpb25zOiBhY3Rpb25zXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhbGxOZXh0U3RhdGVOb2RlcyA9IGZsYXR0ZW4obmV4dFN0YXRlTm9kZXMubWFwKGZ1bmN0aW9uIChzdGF0ZU5vZGUpIHtcbiAgICAgIHJldHVybiBfdGhpcy5nZXRSZWxhdGl2ZVN0YXRlTm9kZXMoc3RhdGVOb2RlLCBzdGF0ZS5oaXN0b3J5VmFsdWUpO1xuICAgIH0pKTtcbiAgICB2YXIgaXNJbnRlcm5hbCA9ICEhc2VsZWN0ZWRUcmFuc2l0aW9uLmludGVybmFsO1xuICAgIHJldHVybiB7XG4gICAgICB0cmFuc2l0aW9uczogW3NlbGVjdGVkVHJhbnNpdGlvbl0sXG4gICAgICBleGl0U2V0OiBpc0ludGVybmFsID8gW10gOiBmbGF0dGVuKG5leHRTdGF0ZU5vZGVzLm1hcChmdW5jdGlvbiAodGFyZ2V0Tm9kZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuZ2V0UG90ZW50aWFsbHlSZWVudGVyaW5nTm9kZXModGFyZ2V0Tm9kZSk7XG4gICAgICB9KSksXG4gICAgICBjb25maWd1cmF0aW9uOiBhbGxOZXh0U3RhdGVOb2RlcyxcbiAgICAgIHNvdXJjZTogc3RhdGUsXG4gICAgICBhY3Rpb25zOiBhY3Rpb25zXG4gICAgfTtcbiAgfTsgLy8gZXZlbiB0aG91Z2ggdGhlIG5hbWUgb2YgdGhpcyBmdW5jdGlvbiBtZW50aW9ucyByZWVudHJ5IG5vZGVzXG4gIC8vIHdlIGFyZSBwdXNoaW5nIGl0cyByZXN1bHQgaW50byBgZXhpdFNldGBcbiAgLy8gdGhhdCdzIGJlY2F1c2Ugd2hhdCB3ZSBleGl0IG1pZ2h0IGJlIHJlZW50ZXJlZCAoaXQncyBhbiBpbnZhcmlhbnQgb2YgcmVlbnRyYW5jeSlcblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0UG90ZW50aWFsbHlSZWVudGVyaW5nTm9kZXMgPSBmdW5jdGlvbiAodGFyZ2V0Tm9kZSkge1xuICAgIGlmICh0aGlzLm9yZGVyIDwgdGFyZ2V0Tm9kZS5vcmRlcikge1xuICAgICAgcmV0dXJuIFt0aGlzXTtcbiAgICB9XG5cbiAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICB2YXIgbWFya2VyID0gdGhpcztcbiAgICB2YXIgcG9zc2libGVBbmNlc3RvciA9IHRhcmdldE5vZGU7XG5cbiAgICB3aGlsZSAobWFya2VyICYmIG1hcmtlciAhPT0gcG9zc2libGVBbmNlc3Rvcikge1xuICAgICAgbm9kZXMucHVzaChtYXJrZXIpO1xuICAgICAgbWFya2VyID0gbWFya2VyLnBhcmVudDtcbiAgICB9XG5cbiAgICBpZiAobWFya2VyICE9PSBwb3NzaWJsZUFuY2VzdG9yKSB7XG4gICAgICAvLyB3ZSBuZXZlciBnb3QgdG8gYHBvc3NpYmxlQW5jZXN0b3JgLCB0aGVyZWZvcmUgdGhlIGluaXRpYWwgYG1hcmtlcmAgXCJlc2NhcGVzXCIgaXRcbiAgICAgIC8vIGl0J3MgaW4gYSBkaWZmZXJlbnQgcGFydCBvZiB0aGUgdHJlZSBzbyBubyBzdGF0ZXMgd2lsbCBiZSByZWVudGVyZWQgZm9yIHN1Y2ggYW4gZXh0ZXJuYWwgdHJhbnNpdGlvblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIG5vZGVzLnB1c2gocG9zc2libGVBbmNlc3Rvcik7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0QWN0aW9ucyA9IGZ1bmN0aW9uIChyZXNvbHZlZENvbmZpZywgaXNEb25lLCB0cmFuc2l0aW9uLCBjdXJyZW50Q29udGV4dCwgX2V2ZW50LCBwcmV2U3RhdGUsIHByZWRpY3RhYmxlRXhlYykge1xuICAgIHZhciBlXzQsIF9hLCBlXzUsIF9iO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBwcmV2Q29uZmlnID0gcHJldlN0YXRlID8gZ2V0Q29uZmlndXJhdGlvbihbXSwgdGhpcy5nZXRTdGF0ZU5vZGVzKHByZXZTdGF0ZS52YWx1ZSkpIDogW107XG4gICAgdmFyIGVudHJ5U2V0ID0gbmV3IFNldCgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXMoQXJyYXkuZnJvbShyZXNvbHZlZENvbmZpZykuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XG4gICAgICB9KSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgdmFyIHNuID0gX2QudmFsdWU7XG5cbiAgICAgICAgaWYgKCFoYXMocHJldkNvbmZpZywgc24pIHx8IGhhcyh0cmFuc2l0aW9uLmV4aXRTZXQsIHNuKSB8fCBzbi5wYXJlbnQgJiYgZW50cnlTZXQuaGFzKHNuLnBhcmVudCkpIHtcbiAgICAgICAgICBlbnRyeVNldC5hZGQoc24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV80XzEpIHtcbiAgICAgIGVfNCA9IHtcbiAgICAgICAgZXJyb3I6IGVfNF8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIHByZXZDb25maWdfMSA9IF9fdmFsdWVzKHByZXZDb25maWcpLCBwcmV2Q29uZmlnXzFfMSA9IHByZXZDb25maWdfMS5uZXh0KCk7ICFwcmV2Q29uZmlnXzFfMS5kb25lOyBwcmV2Q29uZmlnXzFfMSA9IHByZXZDb25maWdfMS5uZXh0KCkpIHtcbiAgICAgICAgdmFyIHNuID0gcHJldkNvbmZpZ18xXzEudmFsdWU7XG5cbiAgICAgICAgaWYgKCFoYXMocmVzb2x2ZWRDb25maWcsIHNuKSB8fCBoYXModHJhbnNpdGlvbi5leGl0U2V0LCBzbi5wYXJlbnQpKSB7XG4gICAgICAgICAgdHJhbnNpdGlvbi5leGl0U2V0LnB1c2goc24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV81XzEpIHtcbiAgICAgIGVfNSA9IHtcbiAgICAgICAgZXJyb3I6IGVfNV8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocHJldkNvbmZpZ18xXzEgJiYgIXByZXZDb25maWdfMV8xLmRvbmUgJiYgKF9iID0gcHJldkNvbmZpZ18xLnJldHVybikpIF9iLmNhbGwocHJldkNvbmZpZ18xKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzUpIHRocm93IGVfNS5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cmFuc2l0aW9uLmV4aXRTZXQuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGIub3JkZXIgLSBhLm9yZGVyO1xuICAgIH0pO1xuICAgIHZhciBlbnRyeVN0YXRlcyA9IEFycmF5LmZyb20oZW50cnlTZXQpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcbiAgICB2YXIgZXhpdFN0YXRlcyA9IG5ldyBTZXQodHJhbnNpdGlvbi5leGl0U2V0KTtcbiAgICB2YXIgZG9uZUV2ZW50cyA9IGZsYXR0ZW4oZW50cnlTdGF0ZXMubWFwKGZ1bmN0aW9uIChzbikge1xuICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuXG4gICAgICBpZiAoc24udHlwZSAhPT0gJ2ZpbmFsJykge1xuICAgICAgICByZXR1cm4gZXZlbnRzO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFyZW50ID0gc24ucGFyZW50O1xuXG4gICAgICBpZiAoIXBhcmVudC5wYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICAgIH1cblxuICAgICAgZXZlbnRzLnB1c2goZG9uZShzbi5pZCwgc24uZG9uZURhdGEpLCAvLyBUT0RPOiBkZXByZWNhdGUgLSBmaW5hbCBzdGF0ZXMgc2hvdWxkIG5vdCBlbWl0IGRvbmUgZXZlbnRzIGZvciB0aGVpciBvd24gc3RhdGUuXG4gICAgICBkb25lKHBhcmVudC5pZCwgc24uZG9uZURhdGEgPyBtYXBDb250ZXh0KHNuLmRvbmVEYXRhLCBjdXJyZW50Q29udGV4dCwgX2V2ZW50KSA6IHVuZGVmaW5lZCkpO1xuICAgICAgdmFyIGdyYW5kcGFyZW50ID0gcGFyZW50LnBhcmVudDtcblxuICAgICAgaWYgKGdyYW5kcGFyZW50LnR5cGUgPT09ICdwYXJhbGxlbCcpIHtcbiAgICAgICAgaWYgKGdldENoaWxkcmVuKGdyYW5kcGFyZW50KS5ldmVyeShmdW5jdGlvbiAocGFyZW50Tm9kZSkge1xuICAgICAgICAgIHJldHVybiBpc0luRmluYWxTdGF0ZSh0cmFuc2l0aW9uLmNvbmZpZ3VyYXRpb24sIHBhcmVudE5vZGUpO1xuICAgICAgICB9KSkge1xuICAgICAgICAgIGV2ZW50cy5wdXNoKGRvbmUoZ3JhbmRwYXJlbnQuaWQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlbnRzO1xuICAgIH0pKTtcbiAgICB2YXIgZW50cnlBY3Rpb25zID0gZW50cnlTdGF0ZXMubWFwKGZ1bmN0aW9uIChzdGF0ZU5vZGUpIHtcbiAgICAgIHZhciBlbnRyeUFjdGlvbnMgPSBzdGF0ZU5vZGUub25FbnRyeTtcbiAgICAgIHZhciBpbnZva2VBY3Rpb25zID0gc3RhdGVOb2RlLmFjdGl2aXRpZXMubWFwKGZ1bmN0aW9uIChhY3Rpdml0eSkge1xuICAgICAgICByZXR1cm4gc3RhcnQoYWN0aXZpdHkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZW50cnknLFxuICAgICAgICBhY3Rpb25zOiB0b0FjdGlvbk9iamVjdHMocHJlZGljdGFibGVFeGVjID8gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoZW50cnlBY3Rpb25zKSwgZmFsc2UpLCBfX3JlYWQoaW52b2tlQWN0aW9ucyksIGZhbHNlKSA6IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGludm9rZUFjdGlvbnMpLCBmYWxzZSksIF9fcmVhZChlbnRyeUFjdGlvbnMpLCBmYWxzZSksIF90aGlzLm1hY2hpbmUub3B0aW9ucy5hY3Rpb25zKVxuICAgICAgfTtcbiAgICB9KS5jb25jYXQoe1xuICAgICAgdHlwZTogJ3N0YXRlX2RvbmUnLFxuICAgICAgYWN0aW9uczogZG9uZUV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiByYWlzZShldmVudCk7XG4gICAgICB9KVxuICAgIH0pO1xuICAgIHZhciBleGl0QWN0aW9ucyA9IEFycmF5LmZyb20oZXhpdFN0YXRlcykubWFwKGZ1bmN0aW9uIChzdGF0ZU5vZGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdleGl0JyxcbiAgICAgICAgYWN0aW9uczogdG9BY3Rpb25PYmplY3RzKF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKHN0YXRlTm9kZS5vbkV4aXQpLCBmYWxzZSksIF9fcmVhZChzdGF0ZU5vZGUuYWN0aXZpdGllcy5tYXAoZnVuY3Rpb24gKGFjdGl2aXR5KSB7XG4gICAgICAgICAgcmV0dXJuIHN0b3AoYWN0aXZpdHkpO1xuICAgICAgICB9KSksIGZhbHNlKSwgX3RoaXMubWFjaGluZS5vcHRpb25zLmFjdGlvbnMpXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHZhciBhY3Rpb25zID0gZXhpdEFjdGlvbnMuY29uY2F0KHtcbiAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgIGFjdGlvbnM6IHRvQWN0aW9uT2JqZWN0cyh0cmFuc2l0aW9uLmFjdGlvbnMsIHRoaXMubWFjaGluZS5vcHRpb25zLmFjdGlvbnMpXG4gICAgfSkuY29uY2F0KGVudHJ5QWN0aW9ucyk7XG5cbiAgICBpZiAoaXNEb25lKSB7XG4gICAgICB2YXIgc3RvcEFjdGlvbnMgPSB0b0FjdGlvbk9iamVjdHMoZmxhdHRlbihfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQocmVzb2x2ZWRDb25maWcpLCBmYWxzZSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5vcmRlciAtIGEub3JkZXI7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKHN0YXRlTm9kZSkge1xuICAgICAgICByZXR1cm4gc3RhdGVOb2RlLm9uRXhpdDtcbiAgICAgIH0pKSwgdGhpcy5tYWNoaW5lLm9wdGlvbnMuYWN0aW9ucykuZmlsdGVyKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuICFpc1JhaXNhYmxlQWN0aW9uKGFjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY3Rpb25zLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6ICdzdG9wJyxcbiAgICAgICAgYWN0aW9uczogc3RvcEFjdGlvbnNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb25zO1xuICB9O1xuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIHRoZSBuZXh0IHN0YXRlIGdpdmVuIHRoZSBjdXJyZW50IGBzdGF0ZWAgYW5kIHNlbnQgYGV2ZW50YC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzdGF0ZSBUaGUgY3VycmVudCBTdGF0ZSBpbnN0YW5jZSBvciBzdGF0ZSB2YWx1ZVxyXG4gICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdGhhdCB3YXMgc2VudCBhdCB0aGUgY3VycmVudCBzdGF0ZVxyXG4gICAqIEBwYXJhbSBjb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgKGV4dGVuZGVkIHN0YXRlKSBvZiB0aGUgY3VycmVudCBzdGF0ZVxyXG4gICAqL1xuXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS50cmFuc2l0aW9uID0gZnVuY3Rpb24gKHN0YXRlLCBldmVudCwgY29udGV4dCwgZXhlYykge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBzdGF0ZSA9IHRoaXMuaW5pdGlhbFN0YXRlO1xuICAgIH1cblxuICAgIHZhciBfZXZlbnQgPSB0b1NDWE1MRXZlbnQoZXZlbnQpO1xuXG4gICAgdmFyIGN1cnJlbnRTdGF0ZTtcblxuICAgIGlmIChzdGF0ZSBpbnN0YW5jZW9mIFN0YXRlKSB7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjb250ZXh0ID09PSB1bmRlZmluZWQgPyBzdGF0ZSA6IHRoaXMucmVzb2x2ZVN0YXRlKFN0YXRlLmZyb20oc3RhdGUsIGNvbnRleHQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlc29sdmVkU3RhdGVWYWx1ZSA9IGlzU3RyaW5nKHN0YXRlKSA/IHRoaXMucmVzb2x2ZShwYXRoVG9TdGF0ZVZhbHVlKHRoaXMuZ2V0UmVzb2x2ZWRQYXRoKHN0YXRlKSkpIDogdGhpcy5yZXNvbHZlKHN0YXRlKTtcbiAgICAgIHZhciByZXNvbHZlZENvbnRleHQgPSBjb250ZXh0ICE9PSBudWxsICYmIGNvbnRleHQgIT09IHZvaWQgMCA/IGNvbnRleHQgOiB0aGlzLm1hY2hpbmUuY29udGV4dDtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IHRoaXMucmVzb2x2ZVN0YXRlKFN0YXRlLmZyb20ocmVzb2x2ZWRTdGF0ZVZhbHVlLCByZXNvbHZlZENvbnRleHQpKTtcbiAgICB9XG5cbiAgICBpZiAoIUlTX1BST0RVQ1RJT04gJiYgX2V2ZW50Lm5hbWUgPT09IFdJTERDQVJEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbiBldmVudCBjYW5ub3QgaGF2ZSB0aGUgd2lsZGNhcmQgdHlwZSAoJ1wiLmNvbmNhdChXSUxEQ0FSRCwgXCInKVwiKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyaWN0KSB7XG4gICAgICBpZiAoIXRoaXMuZXZlbnRzLmluY2x1ZGVzKF9ldmVudC5uYW1lKSAmJiAhaXNCdWlsdEluRXZlbnQoX2V2ZW50Lm5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hY2hpbmUgJ1wiLmNvbmNhdCh0aGlzLmlkLCBcIicgZG9lcyBub3QgYWNjZXB0IGV2ZW50ICdcIikuY29uY2F0KF9ldmVudC5uYW1lLCBcIidcIikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzdGF0ZVRyYW5zaXRpb24gPSB0aGlzLl90cmFuc2l0aW9uKGN1cnJlbnRTdGF0ZS52YWx1ZSwgY3VycmVudFN0YXRlLCBfZXZlbnQpIHx8IHtcbiAgICAgIHRyYW5zaXRpb25zOiBbXSxcbiAgICAgIGNvbmZpZ3VyYXRpb246IFtdLFxuICAgICAgZXhpdFNldDogW10sXG4gICAgICBzb3VyY2U6IGN1cnJlbnRTdGF0ZSxcbiAgICAgIGFjdGlvbnM6IFtdXG4gICAgfTtcbiAgICB2YXIgcHJldkNvbmZpZyA9IGdldENvbmZpZ3VyYXRpb24oW10sIHRoaXMuZ2V0U3RhdGVOb2RlcyhjdXJyZW50U3RhdGUudmFsdWUpKTtcbiAgICB2YXIgcmVzb2x2ZWRDb25maWcgPSBzdGF0ZVRyYW5zaXRpb24uY29uZmlndXJhdGlvbi5sZW5ndGggPyBnZXRDb25maWd1cmF0aW9uKHByZXZDb25maWcsIHN0YXRlVHJhbnNpdGlvbi5jb25maWd1cmF0aW9uKSA6IHByZXZDb25maWc7XG4gICAgc3RhdGVUcmFuc2l0aW9uLmNvbmZpZ3VyYXRpb24gPSBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQocmVzb2x2ZWRDb25maWcpLCBmYWxzZSk7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZVRyYW5zaXRpb24oc3RhdGVUcmFuc2l0aW9uLCBjdXJyZW50U3RhdGUsIGN1cnJlbnRTdGF0ZS5jb250ZXh0LCBleGVjLCBfZXZlbnQpO1xuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUucmVzb2x2ZVJhaXNlZFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoc3RhdGUsIF9ldmVudCwgb3JpZ2luYWxFdmVudCwgcHJlZGljdGFibGVFeGVjKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIGN1cnJlbnRBY3Rpb25zID0gc3RhdGUuYWN0aW9ucztcbiAgICBzdGF0ZSA9IHRoaXMudHJhbnNpdGlvbihzdGF0ZSwgX2V2ZW50LCB1bmRlZmluZWQsIHByZWRpY3RhYmxlRXhlYyk7IC8vIFNhdmUgb3JpZ2luYWwgZXZlbnQgdG8gc3RhdGVcbiAgICAvLyBUT0RPOiB0aGlzIHNob3VsZCBiZSB0aGUgcmFpc2VkIGV2ZW50ISBEZWxldGUgaW4gVjUgKGJyZWFraW5nKVxuXG4gICAgc3RhdGUuX2V2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICBzdGF0ZS5ldmVudCA9IG9yaWdpbmFsRXZlbnQuZGF0YTtcblxuICAgIChfYSA9IHN0YXRlLmFjdGlvbnMpLnVuc2hpZnQuYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChjdXJyZW50QWN0aW9ucyksIGZhbHNlKSk7XG5cbiAgICByZXR1cm4gc3RhdGU7XG4gIH07XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5yZXNvbHZlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChzdGF0ZVRyYW5zaXRpb24sIGN1cnJlbnRTdGF0ZSwgY29udGV4dCwgcHJlZGljdGFibGVFeGVjLCBfZXZlbnQpIHtcbiAgICB2YXIgZV82LCBfYSwgZV83LCBfYjtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX2V2ZW50ID09PSB2b2lkIDApIHtcbiAgICAgIF9ldmVudCA9IGluaXRFdmVudDtcbiAgICB9XG5cbiAgICB2YXIgY29uZmlndXJhdGlvbiA9IHN0YXRlVHJhbnNpdGlvbi5jb25maWd1cmF0aW9uOyAvLyBUcmFuc2l0aW9uIHdpbGwgXCJhcHBseVwiIGlmOlxuICAgIC8vIC0gdGhpcyBpcyB0aGUgaW5pdGlhbCBzdGF0ZSAodGhlcmUgaXMgbm8gY3VycmVudCBzdGF0ZSlcbiAgICAvLyAtIE9SIHRoZXJlIGFyZSB0cmFuc2l0aW9uc1xuXG4gICAgdmFyIHdpbGxUcmFuc2l0aW9uID0gIWN1cnJlbnRTdGF0ZSB8fCBzdGF0ZVRyYW5zaXRpb24udHJhbnNpdGlvbnMubGVuZ3RoID4gMDtcbiAgICB2YXIgcmVzb2x2ZWRDb25maWd1cmF0aW9uID0gd2lsbFRyYW5zaXRpb24gPyBzdGF0ZVRyYW5zaXRpb24uY29uZmlndXJhdGlvbiA6IGN1cnJlbnRTdGF0ZSA/IGN1cnJlbnRTdGF0ZS5jb25maWd1cmF0aW9uIDogW107XG4gICAgdmFyIGlzRG9uZSA9IGlzSW5GaW5hbFN0YXRlKHJlc29sdmVkQ29uZmlndXJhdGlvbiwgdGhpcyk7XG4gICAgdmFyIHJlc29sdmVkU3RhdGVWYWx1ZSA9IHdpbGxUcmFuc2l0aW9uID8gZ2V0VmFsdWUodGhpcy5tYWNoaW5lLCBjb25maWd1cmF0aW9uKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgaGlzdG9yeVZhbHVlID0gY3VycmVudFN0YXRlID8gY3VycmVudFN0YXRlLmhpc3RvcnlWYWx1ZSA/IGN1cnJlbnRTdGF0ZS5oaXN0b3J5VmFsdWUgOiBzdGF0ZVRyYW5zaXRpb24uc291cmNlID8gdGhpcy5tYWNoaW5lLmhpc3RvcnlWYWx1ZShjdXJyZW50U3RhdGUudmFsdWUpIDogdW5kZWZpbmVkIDogdW5kZWZpbmVkO1xuICAgIHZhciBhY3Rpb25CbG9ja3MgPSB0aGlzLmdldEFjdGlvbnMobmV3IFNldChyZXNvbHZlZENvbmZpZ3VyYXRpb24pLCBpc0RvbmUsIHN0YXRlVHJhbnNpdGlvbiwgY29udGV4dCwgX2V2ZW50LCBjdXJyZW50U3RhdGUsIHByZWRpY3RhYmxlRXhlYyk7XG4gICAgdmFyIGFjdGl2aXRpZXMgPSBjdXJyZW50U3RhdGUgPyBfX2Fzc2lnbih7fSwgY3VycmVudFN0YXRlLmFjdGl2aXRpZXMpIDoge307XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgYWN0aW9uQmxvY2tzXzEgPSBfX3ZhbHVlcyhhY3Rpb25CbG9ja3MpLCBhY3Rpb25CbG9ja3NfMV8xID0gYWN0aW9uQmxvY2tzXzEubmV4dCgpOyAhYWN0aW9uQmxvY2tzXzFfMS5kb25lOyBhY3Rpb25CbG9ja3NfMV8xID0gYWN0aW9uQmxvY2tzXzEubmV4dCgpKSB7XG4gICAgICAgIHZhciBibG9jayA9IGFjdGlvbkJsb2Nrc18xXzEudmFsdWU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfYyA9IChlXzcgPSB2b2lkIDAsIF9fdmFsdWVzKGJsb2NrLmFjdGlvbnMpKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IF9kLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IHN0YXJ0JDEpIHtcbiAgICAgICAgICAgICAgYWN0aXZpdGllc1thY3Rpb24uYWN0aXZpdHkuaWQgfHwgYWN0aW9uLmFjdGl2aXR5LnR5cGVdID0gYWN0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24udHlwZSA9PT0gc3RvcCQxKSB7XG4gICAgICAgICAgICAgIGFjdGl2aXRpZXNbYWN0aW9uLmFjdGl2aXR5LmlkIHx8IGFjdGlvbi5hY3Rpdml0eS50eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZV83XzEpIHtcbiAgICAgICAgICBlXzcgPSB7XG4gICAgICAgICAgICBlcnJvcjogZV83XzFcbiAgICAgICAgICB9O1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChlXzcpIHRocm93IGVfNy5lcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzZfMSkge1xuICAgICAgZV82ID0ge1xuICAgICAgICBlcnJvcjogZV82XzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChhY3Rpb25CbG9ja3NfMV8xICYmICFhY3Rpb25CbG9ja3NfMV8xLmRvbmUgJiYgKF9hID0gYWN0aW9uQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChhY3Rpb25CbG9ja3NfMSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV82KSB0aHJvdyBlXzYuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9lID0gX19yZWFkKHJlc29sdmVBY3Rpb25zKHRoaXMsIGN1cnJlbnRTdGF0ZSwgY29udGV4dCwgX2V2ZW50LCBhY3Rpb25CbG9ja3MsIHByZWRpY3RhYmxlRXhlYywgdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyB8fCB0aGlzLm1hY2hpbmUuY29uZmlnLnByZXNlcnZlQWN0aW9uT3JkZXIpLCAyKSxcbiAgICAgICAgcmVzb2x2ZWRBY3Rpb25zID0gX2VbMF0sXG4gICAgICAgIHVwZGF0ZWRDb250ZXh0ID0gX2VbMV07XG5cbiAgICB2YXIgX2YgPSBfX3JlYWQocGFydGl0aW9uKHJlc29sdmVkQWN0aW9ucywgaXNSYWlzYWJsZUFjdGlvbiksIDIpLFxuICAgICAgICByYWlzZWRFdmVudHMgPSBfZlswXSxcbiAgICAgICAgbm9uUmFpc2VkQWN0aW9ucyA9IF9mWzFdO1xuXG4gICAgdmFyIGludm9rZUFjdGlvbnMgPSByZXNvbHZlZEFjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgcmV0dXJuIGFjdGlvbi50eXBlID09PSBzdGFydCQxICYmICgoX2EgPSBhY3Rpb24uYWN0aXZpdHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50eXBlKSA9PT0gaW52b2tlO1xuICAgIH0pO1xuICAgIHZhciBjaGlsZHJlbiA9IGludm9rZUFjdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGFjdGlvbikge1xuICAgICAgYWNjW2FjdGlvbi5hY3Rpdml0eS5pZF0gPSBjcmVhdGVJbnZvY2FibGVBY3RvcihhY3Rpb24uYWN0aXZpdHksIF90aGlzLm1hY2hpbmUsIHVwZGF0ZWRDb250ZXh0LCBfZXZlbnQpO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBjdXJyZW50U3RhdGUgPyBfX2Fzc2lnbih7fSwgY3VycmVudFN0YXRlLmNoaWxkcmVuKSA6IHt9KTtcbiAgICB2YXIgbmV4dFN0YXRlID0gbmV3IFN0YXRlKHtcbiAgICAgIHZhbHVlOiByZXNvbHZlZFN0YXRlVmFsdWUgfHwgY3VycmVudFN0YXRlLnZhbHVlLFxuICAgICAgY29udGV4dDogdXBkYXRlZENvbnRleHQsXG4gICAgICBfZXZlbnQ6IF9ldmVudCxcbiAgICAgIC8vIFBlcnNpc3QgX3Nlc3Npb25pZCBiZXR3ZWVuIHN0YXRlc1xuICAgICAgX3Nlc3Npb25pZDogY3VycmVudFN0YXRlID8gY3VycmVudFN0YXRlLl9zZXNzaW9uaWQgOiBudWxsLFxuICAgICAgaGlzdG9yeVZhbHVlOiByZXNvbHZlZFN0YXRlVmFsdWUgPyBoaXN0b3J5VmFsdWUgPyB1cGRhdGVIaXN0b3J5VmFsdWUoaGlzdG9yeVZhbHVlLCByZXNvbHZlZFN0YXRlVmFsdWUpIDogdW5kZWZpbmVkIDogY3VycmVudFN0YXRlID8gY3VycmVudFN0YXRlLmhpc3RvcnlWYWx1ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGhpc3Rvcnk6ICFyZXNvbHZlZFN0YXRlVmFsdWUgfHwgc3RhdGVUcmFuc2l0aW9uLnNvdXJjZSA/IGN1cnJlbnRTdGF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGFjdGlvbnM6IHJlc29sdmVkU3RhdGVWYWx1ZSA/IG5vblJhaXNlZEFjdGlvbnMgOiBbXSxcbiAgICAgIGFjdGl2aXRpZXM6IHJlc29sdmVkU3RhdGVWYWx1ZSA/IGFjdGl2aXRpZXMgOiBjdXJyZW50U3RhdGUgPyBjdXJyZW50U3RhdGUuYWN0aXZpdGllcyA6IHt9LFxuICAgICAgZXZlbnRzOiBbXSxcbiAgICAgIGNvbmZpZ3VyYXRpb246IHJlc29sdmVkQ29uZmlndXJhdGlvbixcbiAgICAgIHRyYW5zaXRpb25zOiBzdGF0ZVRyYW5zaXRpb24udHJhbnNpdGlvbnMsXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgICBkb25lOiBpc0RvbmUsXG4gICAgICB0YWdzOiBnZXRUYWdzRnJvbUNvbmZpZ3VyYXRpb24ocmVzb2x2ZWRDb25maWd1cmF0aW9uKSxcbiAgICAgIG1hY2hpbmU6IHRoaXNcbiAgICB9KTtcbiAgICB2YXIgZGlkVXBkYXRlQ29udGV4dCA9IGNvbnRleHQgIT09IHVwZGF0ZWRDb250ZXh0O1xuICAgIG5leHRTdGF0ZS5jaGFuZ2VkID0gX2V2ZW50Lm5hbWUgPT09IHVwZGF0ZSB8fCBkaWRVcGRhdGVDb250ZXh0OyAvLyBEaXNwb3NlIG9mIHBlbnVsdGltYXRlIGhpc3RvcmllcyB0byBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuXG4gICAgdmFyIGhpc3RvcnkgPSBuZXh0U3RhdGUuaGlzdG9yeTtcblxuICAgIGlmIChoaXN0b3J5KSB7XG4gICAgICBkZWxldGUgaGlzdG9yeS5oaXN0b3J5O1xuICAgIH0gLy8gVGhlcmUgYXJlIHRyYW5zaWVudCB0cmFuc2l0aW9ucyBpZiB0aGUgbWFjaGluZSBpcyBub3QgaW4gYSBmaW5hbCBzdGF0ZVxuICAgIC8vIGFuZCBpZiBzb21lIG9mIHRoZSBzdGF0ZSBub2RlcyBoYXZlIHRyYW5zaWVudCAoXCJhbHdheXNcIikgdHJhbnNpdGlvbnMuXG5cblxuICAgIHZhciBoYXNBbHdheXNUcmFuc2l0aW9ucyA9ICFpc0RvbmUgJiYgKHRoaXMuX3RyYW5zaWVudCB8fCBjb25maWd1cmF0aW9uLnNvbWUoZnVuY3Rpb24gKHN0YXRlTm9kZSkge1xuICAgICAgcmV0dXJuIHN0YXRlTm9kZS5fdHJhbnNpZW50O1xuICAgIH0pKTsgLy8gSWYgdGhlcmUgYXJlIG5vIGVuYWJsZWQgdHJhbnNpdGlvbnMsIGNoZWNrIGlmIHRoZXJlIGFyZSB0cmFuc2llbnQgdHJhbnNpdGlvbnMuXG4gICAgLy8gSWYgdGhlcmUgYXJlIHRyYW5zaWVudCB0cmFuc2l0aW9ucywgY29udGludWUgY2hlY2tpbmcgZm9yIG1vcmUgdHJhbnNpdGlvbnNcbiAgICAvLyBiZWNhdXNlIGFuIHRyYW5zaWVudCB0cmFuc2l0aW9uIHNob3VsZCBiZSB0cmlnZ2VyZWQgZXZlbiBpZiB0aGVyZSBhcmUgbm9cbiAgICAvLyBlbmFibGVkIHRyYW5zaXRpb25zLlxuICAgIC8vXG4gICAgLy8gSWYgd2UncmUgYWxyZWFkeSB3b3JraW5nIG9uIGFuIHRyYW5zaWVudCB0cmFuc2l0aW9uIHRoZW4gc3RvcCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AuXG4gICAgLy9cbiAgICAvLyBPdGhlcndpc2UsIGlmIHRoZXJlIGFyZSBubyBlbmFibGVkIG5vciB0cmFuc2llbnQgdHJhbnNpdGlvbnMsIHdlIGFyZSBkb25lLlxuXG4gICAgaWYgKCF3aWxsVHJhbnNpdGlvbiAmJiAoIWhhc0Fsd2F5c1RyYW5zaXRpb25zIHx8IF9ldmVudC5uYW1lID09PSBOVUxMX0VWRU5UKSkge1xuICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgbWF5YmVOZXh0U3RhdGUgPSBuZXh0U3RhdGU7XG5cbiAgICBpZiAoIWlzRG9uZSkge1xuICAgICAgaWYgKGhhc0Fsd2F5c1RyYW5zaXRpb25zKSB7XG4gICAgICAgIG1heWJlTmV4dFN0YXRlID0gdGhpcy5yZXNvbHZlUmFpc2VkVHJhbnNpdGlvbihtYXliZU5leHRTdGF0ZSwge1xuICAgICAgICAgIHR5cGU6IG51bGxFdmVudFxuICAgICAgICB9LCBfZXZlbnQsIHByZWRpY3RhYmxlRXhlYyk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChyYWlzZWRFdmVudHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciByYWlzZWRFdmVudCA9IHJhaXNlZEV2ZW50cy5zaGlmdCgpO1xuICAgICAgICBtYXliZU5leHRTdGF0ZSA9IHRoaXMucmVzb2x2ZVJhaXNlZFRyYW5zaXRpb24obWF5YmVOZXh0U3RhdGUsIHJhaXNlZEV2ZW50Ll9ldmVudCwgX2V2ZW50LCBwcmVkaWN0YWJsZUV4ZWMpO1xuICAgICAgfVxuICAgIH0gLy8gRGV0ZWN0IGlmIHN0YXRlIGNoYW5nZWRcblxuXG4gICAgdmFyIGNoYW5nZWQgPSBtYXliZU5leHRTdGF0ZS5jaGFuZ2VkIHx8IChoaXN0b3J5ID8gISFtYXliZU5leHRTdGF0ZS5hY3Rpb25zLmxlbmd0aCB8fCBkaWRVcGRhdGVDb250ZXh0IHx8IHR5cGVvZiBoaXN0b3J5LnZhbHVlICE9PSB0eXBlb2YgbWF5YmVOZXh0U3RhdGUudmFsdWUgfHwgIXN0YXRlVmFsdWVzRXF1YWwobWF5YmVOZXh0U3RhdGUudmFsdWUsIGhpc3RvcnkudmFsdWUpIDogdW5kZWZpbmVkKTtcbiAgICBtYXliZU5leHRTdGF0ZS5jaGFuZ2VkID0gY2hhbmdlZDsgLy8gUHJlc2VydmUgb3JpZ2luYWwgaGlzdG9yeSBhZnRlciByYWlzZWQgZXZlbnRzXG5cbiAgICBtYXliZU5leHRTdGF0ZS5oaXN0b3J5ID0gaGlzdG9yeTtcbiAgICByZXR1cm4gbWF5YmVOZXh0U3RhdGU7XG4gIH07XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGNoaWxkIHN0YXRlIG5vZGUgZnJvbSBpdHMgcmVsYXRpdmUgYHN0YXRlS2V5YCwgb3IgdGhyb3dzLlxyXG4gICAqL1xuXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5nZXRTdGF0ZU5vZGUgPSBmdW5jdGlvbiAoc3RhdGVLZXkpIHtcbiAgICBpZiAoaXNTdGF0ZUlkKHN0YXRlS2V5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubWFjaGluZS5nZXRTdGF0ZU5vZGVCeUlkKHN0YXRlS2V5KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmV0cmlldmUgY2hpbGQgc3RhdGUgJ1wiLmNvbmNhdChzdGF0ZUtleSwgXCInIGZyb20gJ1wiKS5jb25jYXQodGhpcy5pZCwgXCInOyBubyBjaGlsZCBzdGF0ZXMgZXhpc3QuXCIpKTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5zdGF0ZXNbc3RhdGVLZXldO1xuXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNoaWxkIHN0YXRlICdcIi5jb25jYXQoc3RhdGVLZXksIFwiJyBkb2VzIG5vdCBleGlzdCBvbiAnXCIpLmNvbmNhdCh0aGlzLmlkLCBcIidcIikpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIHN0YXRlIG5vZGUgd2l0aCB0aGUgZ2l2ZW4gYHN0YXRlSWRgLCBvciB0aHJvd3MuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc3RhdGVJZCBUaGUgc3RhdGUgSUQuIFRoZSBwcmVmaXggXCIjXCIgaXMgcmVtb3ZlZC5cclxuICAgKi9cblxuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0U3RhdGVOb2RlQnlJZCA9IGZ1bmN0aW9uIChzdGF0ZUlkKSB7XG4gICAgdmFyIHJlc29sdmVkU3RhdGVJZCA9IGlzU3RhdGVJZChzdGF0ZUlkKSA/IHN0YXRlSWQuc2xpY2UoU1RBVEVfSURFTlRJRklFUi5sZW5ndGgpIDogc3RhdGVJZDtcblxuICAgIGlmIChyZXNvbHZlZFN0YXRlSWQgPT09IHRoaXMuaWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHZhciBzdGF0ZU5vZGUgPSB0aGlzLm1hY2hpbmUuaWRNYXBbcmVzb2x2ZWRTdGF0ZUlkXTtcblxuICAgIGlmICghc3RhdGVOb2RlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaGlsZCBzdGF0ZSBub2RlICcjXCIuY29uY2F0KHJlc29sdmVkU3RhdGVJZCwgXCInIGRvZXMgbm90IGV4aXN0IG9uIG1hY2hpbmUgJ1wiKS5jb25jYXQodGhpcy5pZCwgXCInXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdGVOb2RlO1xuICB9O1xuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSByZWxhdGl2ZSBzdGF0ZSBub2RlIGZyb20gdGhlIGdpdmVuIGBzdGF0ZVBhdGhgLCBvciB0aHJvd3MuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc3RhdGVQYXRoIFRoZSBzdHJpbmcgb3Igc3RyaW5nIGFycmF5IHJlbGF0aXZlIHBhdGggdG8gdGhlIHN0YXRlIG5vZGUuXHJcbiAgICovXG5cblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLmdldFN0YXRlTm9kZUJ5UGF0aCA9IGZ1bmN0aW9uIChzdGF0ZVBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHN0YXRlUGF0aCA9PT0gJ3N0cmluZycgJiYgaXNTdGF0ZUlkKHN0YXRlUGF0aCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YXRlTm9kZUJ5SWQoc3RhdGVQYXRoLnNsaWNlKDEpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsvLyB0cnkgaW5kaXZpZHVhbCBwYXRoc1xuICAgICAgICAvLyB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhcnJheVN0YXRlUGF0aCA9IHRvU3RhdGVQYXRoKHN0YXRlUGF0aCwgdGhpcy5kZWxpbWl0ZXIpLnNsaWNlKCk7XG4gICAgdmFyIGN1cnJlbnRTdGF0ZU5vZGUgPSB0aGlzO1xuXG4gICAgd2hpbGUgKGFycmF5U3RhdGVQYXRoLmxlbmd0aCkge1xuICAgICAgdmFyIGtleSA9IGFycmF5U3RhdGVQYXRoLnNoaWZ0KCk7XG5cbiAgICAgIGlmICgha2V5Lmxlbmd0aCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY3VycmVudFN0YXRlTm9kZSA9IGN1cnJlbnRTdGF0ZU5vZGUuZ2V0U3RhdGVOb2RlKGtleSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRTdGF0ZU5vZGU7XG4gIH07XG4gIC8qKlxyXG4gICAqIFJlc29sdmVzIGEgcGFydGlhbCBzdGF0ZSB2YWx1ZSB3aXRoIGl0cyBmdWxsIHJlcHJlc2VudGF0aW9uIGluIHRoaXMgbWFjaGluZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzdGF0ZVZhbHVlIFRoZSBwYXJ0aWFsIHN0YXRlIHZhbHVlIHRvIHJlc29sdmUuXHJcbiAgICovXG5cblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiAoc3RhdGVWYWx1ZSkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoIXN0YXRlVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluaXRpYWxTdGF0ZVZhbHVlIHx8IEVNUFRZX09CSkVDVDsgLy8gVE9ETzogdHlwZS1zcGVjaWZpYyBwcm9wZXJ0aWVzXG4gICAgfVxuXG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3BhcmFsbGVsJzpcbiAgICAgICAgcmV0dXJuIG1hcFZhbHVlcyh0aGlzLmluaXRpYWxTdGF0ZVZhbHVlLCBmdW5jdGlvbiAoc3ViU3RhdGVWYWx1ZSwgc3ViU3RhdGVLZXkpIHtcbiAgICAgICAgICByZXR1cm4gc3ViU3RhdGVWYWx1ZSA/IF90aGlzLmdldFN0YXRlTm9kZShzdWJTdGF0ZUtleSkucmVzb2x2ZShzdGF0ZVZhbHVlW3N1YlN0YXRlS2V5XSB8fCBzdWJTdGF0ZVZhbHVlKSA6IEVNUFRZX09CSkVDVDtcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgJ2NvbXBvdW5kJzpcbiAgICAgICAgaWYgKGlzU3RyaW5nKHN0YXRlVmFsdWUpKSB7XG4gICAgICAgICAgdmFyIHN1YlN0YXRlTm9kZSA9IHRoaXMuZ2V0U3RhdGVOb2RlKHN0YXRlVmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHN1YlN0YXRlTm9kZS50eXBlID09PSAncGFyYWxsZWwnIHx8IHN1YlN0YXRlTm9kZS50eXBlID09PSAnY29tcG91bmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gX2EgPSB7fSwgX2Fbc3RhdGVWYWx1ZV0gPSBzdWJTdGF0ZU5vZGUuaW5pdGlhbFN0YXRlVmFsdWUsIF9hO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzdGF0ZVZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhzdGF0ZVZhbHVlKS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsU3RhdGVWYWx1ZSB8fCB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXBWYWx1ZXMoc3RhdGVWYWx1ZSwgZnVuY3Rpb24gKHN1YlN0YXRlVmFsdWUsIHN1YlN0YXRlS2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHN1YlN0YXRlVmFsdWUgPyBfdGhpcy5nZXRTdGF0ZU5vZGUoc3ViU3RhdGVLZXkpLnJlc29sdmUoc3ViU3RhdGVWYWx1ZSkgOiBFTVBUWV9PQkpFQ1Q7XG4gICAgICAgIH0pO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGVWYWx1ZSB8fCBFTVBUWV9PQkpFQ1Q7XG4gICAgfVxuICB9O1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUuZ2V0UmVzb2x2ZWRQYXRoID0gZnVuY3Rpb24gKHN0YXRlSWRlbnRpZmllcikge1xuICAgIGlmIChpc1N0YXRlSWQoc3RhdGVJZGVudGlmaWVyKSkge1xuICAgICAgdmFyIHN0YXRlTm9kZSA9IHRoaXMubWFjaGluZS5pZE1hcFtzdGF0ZUlkZW50aWZpZXIuc2xpY2UoU1RBVEVfSURFTlRJRklFUi5sZW5ndGgpXTtcblxuICAgICAgaWYgKCFzdGF0ZU5vZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgc3RhdGUgbm9kZSAnXCIuY29uY2F0KHN0YXRlSWRlbnRpZmllciwgXCInXCIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXRlTm9kZS5wYXRoO1xuICAgIH1cblxuICAgIHJldHVybiB0b1N0YXRlUGF0aChzdGF0ZUlkZW50aWZpZXIsIHRoaXMuZGVsaW1pdGVyKTtcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVOb2RlLnByb3RvdHlwZSwgXCJpbml0aWFsU3RhdGVWYWx1ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIGlmICh0aGlzLl9fY2FjaGUuaW5pdGlhbFN0YXRlVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19jYWNoZS5pbml0aWFsU3RhdGVWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluaXRpYWxTdGF0ZVZhbHVlO1xuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAncGFyYWxsZWwnKSB7XG4gICAgICAgIGluaXRpYWxTdGF0ZVZhbHVlID0gbWFwRmlsdGVyVmFsdWVzKHRoaXMuc3RhdGVzLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUuaW5pdGlhbFN0YXRlVmFsdWUgfHwgRU1QVFlfT0JKRUNUO1xuICAgICAgICB9LCBmdW5jdGlvbiAoc3RhdGVOb2RlKSB7XG4gICAgICAgICAgcmV0dXJuICEoc3RhdGVOb2RlLnR5cGUgPT09ICdoaXN0b3J5Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmluaXRpYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGVzW3RoaXMuaW5pdGlhbF0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbml0aWFsIHN0YXRlICdcIi5jb25jYXQodGhpcy5pbml0aWFsLCBcIicgbm90IGZvdW5kIG9uICdcIikuY29uY2F0KHRoaXMua2V5LCBcIidcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5pdGlhbFN0YXRlVmFsdWUgPSBpc0xlYWZOb2RlKHRoaXMuc3RhdGVzW3RoaXMuaW5pdGlhbF0pID8gdGhpcy5pbml0aWFsIDogKF9hID0ge30sIF9hW3RoaXMuaW5pdGlhbF0gPSB0aGlzLnN0YXRlc1t0aGlzLmluaXRpYWxdLmluaXRpYWxTdGF0ZVZhbHVlLCBfYSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGUgZmluaXRlIHN0YXRlIHZhbHVlIG9mIGEgbWFjaGluZSB3aXRob3V0IGNoaWxkIHN0YXRlcyBpcyBqdXN0IGFuIGVtcHR5IG9iamVjdFxuICAgICAgICBpbml0aWFsU3RhdGVWYWx1ZSA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9fY2FjaGUuaW5pdGlhbFN0YXRlVmFsdWUgPSBpbml0aWFsU3RhdGVWYWx1ZTtcbiAgICAgIHJldHVybiB0aGlzLl9fY2FjaGUuaW5pdGlhbFN0YXRlVmFsdWU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGVWYWx1ZSwgY29udGV4dCkge1xuICAgIHRoaXMuX2luaXQoKTsgLy8gVE9ETzogdGhpcyBzaG91bGQgYmUgaW4gdGhlIGNvbnN0cnVjdG9yIChzZWUgbm90ZSBpbiBjb25zdHJ1Y3RvcilcblxuXG4gICAgdmFyIGNvbmZpZ3VyYXRpb24gPSB0aGlzLmdldFN0YXRlTm9kZXMoc3RhdGVWYWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZVRyYW5zaXRpb24oe1xuICAgICAgY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvbixcbiAgICAgIGV4aXRTZXQ6IFtdLFxuICAgICAgdHJhbnNpdGlvbnM6IFtdLFxuICAgICAgc291cmNlOiB1bmRlZmluZWQsXG4gICAgICBhY3Rpb25zOiBbXVxuICAgIH0sIHVuZGVmaW5lZCwgY29udGV4dCAhPT0gbnVsbCAmJiBjb250ZXh0ICE9PSB2b2lkIDAgPyBjb250ZXh0IDogdGhpcy5tYWNoaW5lLmNvbnRleHQsIHVuZGVmaW5lZCk7XG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTm9kZS5wcm90b3R5cGUsIFwiaW5pdGlhbFN0YXRlXCIsIHtcbiAgICAvKipcclxuICAgICAqIFRoZSBpbml0aWFsIFN0YXRlIGluc3RhbmNlLCB3aGljaCBpbmNsdWRlcyBhbGwgYWN0aW9ucyB0byBiZSBleGVjdXRlZCBmcm9tXHJcbiAgICAgKiBlbnRlcmluZyB0aGUgaW5pdGlhbCBzdGF0ZS5cclxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGluaXRpYWxTdGF0ZVZhbHVlID0gdGhpcy5pbml0aWFsU3RhdGVWYWx1ZTtcblxuICAgICAgaWYgKCFpbml0aWFsU3RhdGVWYWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmV0cmlldmUgaW5pdGlhbCBzdGF0ZSBmcm9tIHNpbXBsZSBzdGF0ZSAnXCIuY29uY2F0KHRoaXMuaWQsIFwiJy5cIikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5nZXRJbml0aWFsU3RhdGUoaW5pdGlhbFN0YXRlVmFsdWUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVOb2RlLnByb3RvdHlwZSwgXCJ0YXJnZXRcIiwge1xuICAgIC8qKlxyXG4gICAgICogVGhlIHRhcmdldCBzdGF0ZSB2YWx1ZSBvZiB0aGUgaGlzdG9yeSBzdGF0ZSBub2RlLCBpZiBpdCBleGlzdHMuIFRoaXMgcmVwcmVzZW50cyB0aGVcclxuICAgICAqIGRlZmF1bHQgc3RhdGUgdmFsdWUgdG8gdHJhbnNpdGlvbiB0byBpZiBubyBoaXN0b3J5IHZhbHVlIGV4aXN0cyB5ZXQuXHJcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0YXJnZXQ7XG5cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdoaXN0b3J5Jykge1xuICAgICAgICB2YXIgaGlzdG9yeUNvbmZpZyA9IHRoaXMuY29uZmlnO1xuXG4gICAgICAgIGlmIChpc1N0cmluZyhoaXN0b3J5Q29uZmlnLnRhcmdldCkpIHtcbiAgICAgICAgICB0YXJnZXQgPSBpc1N0YXRlSWQoaGlzdG9yeUNvbmZpZy50YXJnZXQpID8gcGF0aFRvU3RhdGVWYWx1ZSh0aGlzLm1hY2hpbmUuZ2V0U3RhdGVOb2RlQnlJZChoaXN0b3J5Q29uZmlnLnRhcmdldCkucGF0aC5zbGljZSh0aGlzLnBhdGgubGVuZ3RoIC0gMSkpIDogaGlzdG9yeUNvbmZpZy50YXJnZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0ID0gaGlzdG9yeUNvbmZpZy50YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgbGVhZiBub2RlcyBmcm9tIGEgc3RhdGUgcGF0aCByZWxhdGl2ZSB0byB0aGlzIHN0YXRlIG5vZGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcmVsYXRpdmVTdGF0ZUlkIFRoZSByZWxhdGl2ZSBzdGF0ZSBwYXRoIHRvIHJldHJpZXZlIHRoZSBzdGF0ZSBub2Rlc1xyXG4gICAqIEBwYXJhbSBoaXN0b3J5IFRoZSBwcmV2aW91cyBzdGF0ZSB0byByZXRyaWV2ZSBoaXN0b3J5XHJcbiAgICogQHBhcmFtIHJlc29sdmUgV2hldGhlciBzdGF0ZSBub2RlcyBzaG91bGQgcmVzb2x2ZSB0byBpbml0aWFsIGNoaWxkIHN0YXRlIG5vZGVzXHJcbiAgICovXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5nZXRSZWxhdGl2ZVN0YXRlTm9kZXMgPSBmdW5jdGlvbiAocmVsYXRpdmVTdGF0ZUlkLCBoaXN0b3J5VmFsdWUsIHJlc29sdmUpIHtcbiAgICBpZiAocmVzb2x2ZSA9PT0gdm9pZCAwKSB7XG4gICAgICByZXNvbHZlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzb2x2ZSA/IHJlbGF0aXZlU3RhdGVJZC50eXBlID09PSAnaGlzdG9yeScgPyByZWxhdGl2ZVN0YXRlSWQucmVzb2x2ZUhpc3RvcnkoaGlzdG9yeVZhbHVlKSA6IHJlbGF0aXZlU3RhdGVJZC5pbml0aWFsU3RhdGVOb2RlcyA6IFtyZWxhdGl2ZVN0YXRlSWRdO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU5vZGUucHJvdG90eXBlLCBcImluaXRpYWxTdGF0ZU5vZGVzXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChpc0xlYWZOb2RlKHRoaXMpKSB7XG4gICAgICAgIHJldHVybiBbdGhpc107XG4gICAgICB9IC8vIENhc2Ugd2hlbiBzdGF0ZSBub2RlIGlzIGNvbXBvdW5kIGJ1dCBubyBpbml0aWFsIHN0YXRlIGlzIGRlZmluZWRcblxuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAnY29tcG91bmQnICYmICF0aGlzLmluaXRpYWwpIHtcbiAgICAgICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICAgICAgd2FybihmYWxzZSwgXCJDb21wb3VuZCBzdGF0ZSBub2RlICdcIi5jb25jYXQodGhpcy5pZCwgXCInIGhhcyBubyBpbml0aWFsIHN0YXRlLlwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW3RoaXNdO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5pdGlhbFN0YXRlTm9kZVBhdGhzID0gdG9TdGF0ZVBhdGhzKHRoaXMuaW5pdGlhbFN0YXRlVmFsdWUpO1xuICAgICAgcmV0dXJuIGZsYXR0ZW4oaW5pdGlhbFN0YXRlTm9kZVBhdGhzLm1hcChmdW5jdGlvbiAoaW5pdGlhbFBhdGgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmdldEZyb21SZWxhdGl2ZVBhdGgoaW5pdGlhbFBhdGgpO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICAvKipcclxuICAgKiBSZXRyaWV2ZXMgc3RhdGUgbm9kZXMgZnJvbSBhIHJlbGF0aXZlIHBhdGggdG8gdGhpcyBzdGF0ZSBub2RlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHJlbGF0aXZlUGF0aCBUaGUgcmVsYXRpdmUgcGF0aCBmcm9tIHRoaXMgc3RhdGUgbm9kZVxyXG4gICAqIEBwYXJhbSBoaXN0b3J5VmFsdWVcclxuICAgKi9cblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLmdldEZyb21SZWxhdGl2ZVBhdGggPSBmdW5jdGlvbiAocmVsYXRpdmVQYXRoKSB7XG4gICAgaWYgKCFyZWxhdGl2ZVBhdGgubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW3RoaXNdO1xuICAgIH1cblxuICAgIHZhciBfYSA9IF9fcmVhZChyZWxhdGl2ZVBhdGgpLFxuICAgICAgICBzdGF0ZUtleSA9IF9hWzBdLFxuICAgICAgICBjaGlsZFN0YXRlUGF0aCA9IF9hLnNsaWNlKDEpO1xuXG4gICAgaWYgKCF0aGlzLnN0YXRlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJldHJpZXZlIHN1YlBhdGggJ1wiLmNvbmNhdChzdGF0ZUtleSwgXCInIGZyb20gbm9kZSB3aXRoIG5vIHN0YXRlc1wiKSk7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkU3RhdGVOb2RlID0gdGhpcy5nZXRTdGF0ZU5vZGUoc3RhdGVLZXkpO1xuXG4gICAgaWYgKGNoaWxkU3RhdGVOb2RlLnR5cGUgPT09ICdoaXN0b3J5Jykge1xuICAgICAgcmV0dXJuIGNoaWxkU3RhdGVOb2RlLnJlc29sdmVIaXN0b3J5KCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlc1tzdGF0ZUtleV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNoaWxkIHN0YXRlICdcIi5jb25jYXQoc3RhdGVLZXksIFwiJyBkb2VzIG5vdCBleGlzdCBvbiAnXCIpLmNvbmNhdCh0aGlzLmlkLCBcIidcIikpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXRlc1tzdGF0ZUtleV0uZ2V0RnJvbVJlbGF0aXZlUGF0aChjaGlsZFN0YXRlUGF0aCk7XG4gIH07XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5oaXN0b3J5VmFsdWUgPSBmdW5jdGlvbiAocmVsYXRpdmVTdGF0ZVZhbHVlKSB7XG4gICAgaWYgKCFPYmplY3Qua2V5cyh0aGlzLnN0YXRlcykubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBjdXJyZW50OiByZWxhdGl2ZVN0YXRlVmFsdWUgfHwgdGhpcy5pbml0aWFsU3RhdGVWYWx1ZSxcbiAgICAgIHN0YXRlczogbWFwRmlsdGVyVmFsdWVzKHRoaXMuc3RhdGVzLCBmdW5jdGlvbiAoc3RhdGVOb2RlLCBrZXkpIHtcbiAgICAgICAgaWYgKCFyZWxhdGl2ZVN0YXRlVmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGVOb2RlLmhpc3RvcnlWYWx1ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1YlN0YXRlVmFsdWUgPSBpc1N0cmluZyhyZWxhdGl2ZVN0YXRlVmFsdWUpID8gdW5kZWZpbmVkIDogcmVsYXRpdmVTdGF0ZVZhbHVlW2tleV07XG4gICAgICAgIHJldHVybiBzdGF0ZU5vZGUuaGlzdG9yeVZhbHVlKHN1YlN0YXRlVmFsdWUgfHwgc3RhdGVOb2RlLmluaXRpYWxTdGF0ZVZhbHVlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChzdGF0ZU5vZGUpIHtcbiAgICAgICAgcmV0dXJuICFzdGF0ZU5vZGUuaGlzdG9yeTtcbiAgICAgIH0pXG4gICAgfTtcbiAgfTtcbiAgLyoqXHJcbiAgICogUmVzb2x2ZXMgdG8gdGhlIGhpc3RvcmljYWwgdmFsdWUocykgb2YgdGhlIHBhcmVudCBzdGF0ZSBub2RlLFxyXG4gICAqIHJlcHJlc2VudGVkIGJ5IHN0YXRlIG5vZGVzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGhpc3RvcnlWYWx1ZVxyXG4gICAqL1xuXG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5yZXNvbHZlSGlzdG9yeSA9IGZ1bmN0aW9uIChoaXN0b3J5VmFsdWUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ2hpc3RvcnknKSB7XG4gICAgICByZXR1cm4gW3RoaXNdO1xuICAgIH1cblxuICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcblxuICAgIGlmICghaGlzdG9yeVZhbHVlKSB7XG4gICAgICB2YXIgaGlzdG9yeVRhcmdldCA9IHRoaXMudGFyZ2V0O1xuICAgICAgcmV0dXJuIGhpc3RvcnlUYXJnZXQgPyBmbGF0dGVuKHRvU3RhdGVQYXRocyhoaXN0b3J5VGFyZ2V0KS5tYXAoZnVuY3Rpb24gKHJlbGF0aXZlQ2hpbGRQYXRoKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQuZ2V0RnJvbVJlbGF0aXZlUGF0aChyZWxhdGl2ZUNoaWxkUGF0aCk7XG4gICAgICB9KSkgOiBwYXJlbnQuaW5pdGlhbFN0YXRlTm9kZXM7XG4gICAgfVxuXG4gICAgdmFyIHN1Ykhpc3RvcnlWYWx1ZSA9IG5lc3RlZFBhdGgocGFyZW50LnBhdGgsICdzdGF0ZXMnKShoaXN0b3J5VmFsdWUpLmN1cnJlbnQ7XG5cbiAgICBpZiAoaXNTdHJpbmcoc3ViSGlzdG9yeVZhbHVlKSkge1xuICAgICAgcmV0dXJuIFtwYXJlbnQuZ2V0U3RhdGVOb2RlKHN1Ykhpc3RvcnlWYWx1ZSldO1xuICAgIH1cblxuICAgIHJldHVybiBmbGF0dGVuKHRvU3RhdGVQYXRocyhzdWJIaXN0b3J5VmFsdWUpLm1hcChmdW5jdGlvbiAoc3ViU3RhdGVQYXRoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuaGlzdG9yeSA9PT0gJ2RlZXAnID8gcGFyZW50LmdldEZyb21SZWxhdGl2ZVBhdGgoc3ViU3RhdGVQYXRoKSA6IFtwYXJlbnQuc3RhdGVzW3N1YlN0YXRlUGF0aFswXV1dO1xuICAgIH0pKTtcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVOb2RlLnByb3RvdHlwZSwgXCJzdGF0ZUlkc1wiLCB7XG4gICAgLyoqXHJcbiAgICAgKiBBbGwgdGhlIHN0YXRlIG5vZGUgSURzIG9mIHRoaXMgc3RhdGUgbm9kZSBhbmQgaXRzIGRlc2NlbmRhbnQgc3RhdGUgbm9kZXMuXHJcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBjaGlsZFN0YXRlSWRzID0gZmxhdHRlbihPYmplY3Qua2V5cyh0aGlzLnN0YXRlcykubWFwKGZ1bmN0aW9uIChzdGF0ZUtleSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RhdGVzW3N0YXRlS2V5XS5zdGF0ZUlkcztcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybiBbdGhpcy5pZF0uY29uY2F0KGNoaWxkU3RhdGVJZHMpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVOb2RlLnByb3RvdHlwZSwgXCJldmVudHNcIiwge1xuICAgIC8qKlxyXG4gICAgICogQWxsIHRoZSBldmVudCB0eXBlcyBhY2NlcHRlZCBieSB0aGlzIHN0YXRlIG5vZGUgYW5kIGl0cyBkZXNjZW5kYW50cy5cclxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGVfOCwgX2EsIGVfOSwgX2I7XG5cbiAgICAgIGlmICh0aGlzLl9fY2FjaGUuZXZlbnRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fY2FjaGUuZXZlbnRzO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhdGVzID0gdGhpcy5zdGF0ZXM7XG4gICAgICB2YXIgZXZlbnRzID0gbmV3IFNldCh0aGlzLm93bkV2ZW50cyk7XG5cbiAgICAgIGlmIChzdGF0ZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKE9iamVjdC5rZXlzKHN0YXRlcykpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGVJZCA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gc3RhdGVzW3N0YXRlSWRdO1xuXG4gICAgICAgICAgICBpZiAoc3RhdGUuc3RhdGVzKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2UgPSAoZV85ID0gdm9pZCAwLCBfX3ZhbHVlcyhzdGF0ZS5ldmVudHMpKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50XzEgPSBfZi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIGV2ZW50cy5hZGQoXCJcIi5jb25jYXQoZXZlbnRfMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZV85XzEpIHtcbiAgICAgICAgICAgICAgICBlXzkgPSB7XG4gICAgICAgICAgICAgICAgICBlcnJvcjogZV85XzFcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlXzkpIHRocm93IGVfOS5lcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVfOF8xKSB7XG4gICAgICAgICAgZV84ID0ge1xuICAgICAgICAgICAgZXJyb3I6IGVfOF8xXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoZV84KSB0aHJvdyBlXzguZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9fY2FjaGUuZXZlbnRzID0gQXJyYXkuZnJvbShldmVudHMpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVOb2RlLnByb3RvdHlwZSwgXCJvd25FdmVudHNcIiwge1xuICAgIC8qKlxyXG4gICAgICogQWxsIHRoZSBldmVudHMgdGhhdCBoYXZlIHRyYW5zaXRpb25zIGRpcmVjdGx5IGZyb20gdGhpcyBzdGF0ZSBub2RlLlxyXG4gICAgICpcclxuICAgICAqIEV4Y2x1ZGVzIGFueSBpbmVydCBldmVudHMuXHJcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBldmVudHMgPSBuZXcgU2V0KHRoaXMudHJhbnNpdGlvbnMuZmlsdGVyKGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiAhKCF0cmFuc2l0aW9uLnRhcmdldCAmJiAhdHJhbnNpdGlvbi5hY3Rpb25zLmxlbmd0aCAmJiB0cmFuc2l0aW9uLmludGVybmFsKTtcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAodHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm4gdHJhbnNpdGlvbi5ldmVudFR5cGU7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShldmVudHMpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG4gIFN0YXRlTm9kZS5wcm90b3R5cGUucmVzb2x2ZVRhcmdldCA9IGZ1bmN0aW9uIChfdGFyZ2V0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGFuIHVuZGVmaW5lZCB0YXJnZXQgc2lnbmFscyB0aGF0IHRoZSBzdGF0ZSBub2RlIHNob3VsZCBub3QgdHJhbnNpdGlvbiBmcm9tIHRoYXQgc3RhdGUgd2hlbiByZWNlaXZpbmcgdGhhdCBldmVudFxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RhcmdldC5tYXAoZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgaWYgKCFpc1N0cmluZyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0ludGVybmFsVGFyZ2V0ID0gdGFyZ2V0WzBdID09PSBfdGhpcy5kZWxpbWl0ZXI7IC8vIElmIGludGVybmFsIHRhcmdldCBpcyBkZWZpbmVkIG9uIG1hY2hpbmUsXG4gICAgICAvLyBkbyBub3QgaW5jbHVkZSBtYWNoaW5lIGtleSBvbiB0YXJnZXRcblxuICAgICAgaWYgKGlzSW50ZXJuYWxUYXJnZXQgJiYgIV90aGlzLnBhcmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuZ2V0U3RhdGVOb2RlQnlQYXRoKHRhcmdldC5zbGljZSgxKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXNvbHZlZFRhcmdldCA9IGlzSW50ZXJuYWxUYXJnZXQgPyBfdGhpcy5rZXkgKyB0YXJnZXQgOiB0YXJnZXQ7XG5cbiAgICAgIGlmIChfdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgdGFyZ2V0U3RhdGVOb2RlID0gX3RoaXMucGFyZW50LmdldFN0YXRlTm9kZUJ5UGF0aChyZXNvbHZlZFRhcmdldCk7XG5cbiAgICAgICAgICByZXR1cm4gdGFyZ2V0U3RhdGVOb2RlO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRyYW5zaXRpb24gZGVmaW5pdGlvbiBmb3Igc3RhdGUgbm9kZSAnXCIuY29uY2F0KF90aGlzLmlkLCBcIic6XFxuXCIpLmNvbmNhdChlcnIubWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX3RoaXMuZ2V0U3RhdGVOb2RlQnlQYXRoKHJlc29sdmVkVGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBTdGF0ZU5vZGUucHJvdG90eXBlLmZvcm1hdFRyYW5zaXRpb24gPSBmdW5jdGlvbiAodHJhbnNpdGlvbkNvbmZpZykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgbm9ybWFsaXplZFRhcmdldCA9IG5vcm1hbGl6ZVRhcmdldCh0cmFuc2l0aW9uQ29uZmlnLnRhcmdldCk7XG4gICAgdmFyIGludGVybmFsID0gJ2ludGVybmFsJyBpbiB0cmFuc2l0aW9uQ29uZmlnID8gdHJhbnNpdGlvbkNvbmZpZy5pbnRlcm5hbCA6IG5vcm1hbGl6ZWRUYXJnZXQgPyBub3JtYWxpemVkVGFyZ2V0LnNvbWUoZnVuY3Rpb24gKF90YXJnZXQpIHtcbiAgICAgIHJldHVybiBpc1N0cmluZyhfdGFyZ2V0KSAmJiBfdGFyZ2V0WzBdID09PSBfdGhpcy5kZWxpbWl0ZXI7XG4gICAgfSkgOiB0cnVlO1xuICAgIHZhciBndWFyZHMgPSB0aGlzLm1hY2hpbmUub3B0aW9ucy5ndWFyZHM7XG4gICAgdmFyIHRhcmdldCA9IHRoaXMucmVzb2x2ZVRhcmdldChub3JtYWxpemVkVGFyZ2V0KTtcblxuICAgIHZhciB0cmFuc2l0aW9uID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRyYW5zaXRpb25Db25maWcpLCB7XG4gICAgICBhY3Rpb25zOiB0b0FjdGlvbk9iamVjdHModG9BcnJheSh0cmFuc2l0aW9uQ29uZmlnLmFjdGlvbnMpKSxcbiAgICAgIGNvbmQ6IHRvR3VhcmQodHJhbnNpdGlvbkNvbmZpZy5jb25kLCBndWFyZHMpLFxuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBzb3VyY2U6IHRoaXMsXG4gICAgICBpbnRlcm5hbDogaW50ZXJuYWwsXG4gICAgICBldmVudFR5cGU6IHRyYW5zaXRpb25Db25maWcuZXZlbnQsXG4gICAgICB0b0pTT046IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCB0cmFuc2l0aW9uKSwge1xuICAgICAgICAgIHRhcmdldDogdHJhbnNpdGlvbi50YXJnZXQgPyB0cmFuc2l0aW9uLnRhcmdldC5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiBcIiNcIi5jb25jYXQodC5pZCk7XG4gICAgICAgICAgfSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgc291cmNlOiBcIiNcIi5jb25jYXQoX3RoaXMuaWQpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRyYW5zaXRpb247XG4gIH07XG5cbiAgU3RhdGVOb2RlLnByb3RvdHlwZS5mb3JtYXRUcmFuc2l0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZV8xMCwgX2E7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIG9uQ29uZmlnO1xuXG4gICAgaWYgKCF0aGlzLmNvbmZpZy5vbikge1xuICAgICAgb25Db25maWcgPSBbXTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5jb25maWcub24pKSB7XG4gICAgICBvbkNvbmZpZyA9IHRoaXMuY29uZmlnLm9uO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2IgPSB0aGlzLmNvbmZpZy5vbixcbiAgICAgICAgICBfYyA9IFdJTERDQVJELFxuICAgICAgICAgIF9kID0gX2JbX2NdLFxuICAgICAgICAgIHdpbGRjYXJkQ29uZmlncyA9IF9kID09PSB2b2lkIDAgPyBbXSA6IF9kLFxuICAgICAgICAgIHN0cmljdFRyYW5zaXRpb25Db25maWdzXzEgPSBfX3Jlc3QoX2IsIFt0eXBlb2YgX2MgPT09IFwic3ltYm9sXCIgPyBfYyA6IF9jICsgXCJcIl0pO1xuXG4gICAgICBvbkNvbmZpZyA9IGZsYXR0ZW4oT2JqZWN0LmtleXMoc3RyaWN0VHJhbnNpdGlvbkNvbmZpZ3NfMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFJU19QUk9EVUNUSU9OICYmIGtleSA9PT0gTlVMTF9FVkVOVCkge1xuICAgICAgICAgIHdhcm4oZmFsc2UsIFwiRW1wdHkgc3RyaW5nIHRyYW5zaXRpb24gY29uZmlncyAoZS5nLiwgYHsgb246IHsgJyc6IC4uLiB9fWApIGZvciB0cmFuc2llbnQgdHJhbnNpdGlvbnMgYXJlIGRlcHJlY2F0ZWQuIFNwZWNpZnkgdGhlIHRyYW5zaXRpb24gaW4gdGhlIGB7IGFsd2F5czogLi4uIH1gIHByb3BlcnR5IGluc3RlYWQuIFwiICsgXCJQbGVhc2UgY2hlY2sgdGhlIGBvbmAgY29uZmlndXJhdGlvbiBmb3IgXFxcIiNcIi5jb25jYXQoX3RoaXMuaWQsIFwiXFxcIi5cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRyYW5zaXRpb25Db25maWdBcnJheSA9IHRvVHJhbnNpdGlvbkNvbmZpZ0FycmF5KGtleSwgc3RyaWN0VHJhbnNpdGlvbkNvbmZpZ3NfMVtrZXldKTtcblxuICAgICAgICBpZiAoIUlTX1BST0RVQ1RJT04pIHtcbiAgICAgICAgICB2YWxpZGF0ZUFycmF5aWZpZWRUcmFuc2l0aW9ucyhfdGhpcywga2V5LCB0cmFuc2l0aW9uQ29uZmlnQXJyYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25Db25maWdBcnJheTtcbiAgICAgIH0pLmNvbmNhdCh0b1RyYW5zaXRpb25Db25maWdBcnJheShXSUxEQ0FSRCwgd2lsZGNhcmRDb25maWdzKSkpO1xuICAgIH1cblxuICAgIHZhciBldmVudGxlc3NDb25maWcgPSB0aGlzLmNvbmZpZy5hbHdheXMgPyB0b1RyYW5zaXRpb25Db25maWdBcnJheSgnJywgdGhpcy5jb25maWcuYWx3YXlzKSA6IFtdO1xuICAgIHZhciBkb25lQ29uZmlnID0gdGhpcy5jb25maWcub25Eb25lID8gdG9UcmFuc2l0aW9uQ29uZmlnQXJyYXkoU3RyaW5nKGRvbmUodGhpcy5pZCkpLCB0aGlzLmNvbmZpZy5vbkRvbmUpIDogW107XG5cbiAgICBpZiAoIUlTX1BST0RVQ1RJT04pIHtcbiAgICAgIHdhcm4oISh0aGlzLmNvbmZpZy5vbkRvbmUgJiYgIXRoaXMucGFyZW50KSwgXCJSb290IG5vZGVzIGNhbm5vdCBoYXZlIGFuIFxcXCIub25Eb25lXFxcIiB0cmFuc2l0aW9uLiBQbGVhc2UgY2hlY2sgdGhlIGNvbmZpZyBvZiBcXFwiXCIuY29uY2F0KHRoaXMuaWQsIFwiXFxcIi5cIikpO1xuICAgIH1cblxuICAgIHZhciBpbnZva2VDb25maWcgPSBmbGF0dGVuKHRoaXMuaW52b2tlLm1hcChmdW5jdGlvbiAoaW52b2tlRGVmKSB7XG4gICAgICB2YXIgc2V0dGxlVHJhbnNpdGlvbnMgPSBbXTtcblxuICAgICAgaWYgKGludm9rZURlZi5vbkRvbmUpIHtcbiAgICAgICAgc2V0dGxlVHJhbnNpdGlvbnMucHVzaC5hcHBseShzZXR0bGVUcmFuc2l0aW9ucywgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKHRvVHJhbnNpdGlvbkNvbmZpZ0FycmF5KFN0cmluZyhkb25lSW52b2tlKGludm9rZURlZi5pZCkpLCBpbnZva2VEZWYub25Eb25lKSksIGZhbHNlKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnZva2VEZWYub25FcnJvcikge1xuICAgICAgICBzZXR0bGVUcmFuc2l0aW9ucy5wdXNoLmFwcGx5KHNldHRsZVRyYW5zaXRpb25zLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQodG9UcmFuc2l0aW9uQ29uZmlnQXJyYXkoU3RyaW5nKGVycm9yKGludm9rZURlZi5pZCkpLCBpbnZva2VEZWYub25FcnJvcikpLCBmYWxzZSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0dGxlVHJhbnNpdGlvbnM7XG4gICAgfSkpO1xuICAgIHZhciBkZWxheWVkVHJhbnNpdGlvbnMgPSB0aGlzLmFmdGVyO1xuICAgIHZhciBmb3JtYXR0ZWRUcmFuc2l0aW9ucyA9IGZsYXR0ZW4oX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGRvbmVDb25maWcpLCBmYWxzZSksIF9fcmVhZChpbnZva2VDb25maWcpLCBmYWxzZSksIF9fcmVhZChvbkNvbmZpZyksIGZhbHNlKSwgX19yZWFkKGV2ZW50bGVzc0NvbmZpZyksIGZhbHNlKS5tYXAoZnVuY3Rpb24gKHRyYW5zaXRpb25Db25maWcpIHtcbiAgICAgIHJldHVybiB0b0FycmF5KHRyYW5zaXRpb25Db25maWcpLm1hcChmdW5jdGlvbiAodHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm4gX3RoaXMuZm9ybWF0VHJhbnNpdGlvbih0cmFuc2l0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pKTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBkZWxheWVkVHJhbnNpdGlvbnNfMSA9IF9fdmFsdWVzKGRlbGF5ZWRUcmFuc2l0aW9ucyksIGRlbGF5ZWRUcmFuc2l0aW9uc18xXzEgPSBkZWxheWVkVHJhbnNpdGlvbnNfMS5uZXh0KCk7ICFkZWxheWVkVHJhbnNpdGlvbnNfMV8xLmRvbmU7IGRlbGF5ZWRUcmFuc2l0aW9uc18xXzEgPSBkZWxheWVkVHJhbnNpdGlvbnNfMS5uZXh0KCkpIHtcbiAgICAgICAgdmFyIGRlbGF5ZWRUcmFuc2l0aW9uID0gZGVsYXllZFRyYW5zaXRpb25zXzFfMS52YWx1ZTtcbiAgICAgICAgZm9ybWF0dGVkVHJhbnNpdGlvbnMucHVzaChkZWxheWVkVHJhbnNpdGlvbik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV8xMF8xKSB7XG4gICAgICBlXzEwID0ge1xuICAgICAgICBlcnJvcjogZV8xMF8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZGVsYXllZFRyYW5zaXRpb25zXzFfMSAmJiAhZGVsYXllZFRyYW5zaXRpb25zXzFfMS5kb25lICYmIChfYSA9IGRlbGF5ZWRUcmFuc2l0aW9uc18xLnJldHVybikpIF9hLmNhbGwoZGVsYXllZFRyYW5zaXRpb25zXzEpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfMTApIHRocm93IGVfMTAuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1hdHRlZFRyYW5zaXRpb25zO1xuICB9O1xuXG4gIHJldHVybiBTdGF0ZU5vZGU7XG59KCk7XG5cbmV4cG9ydCB7IFN0YXRlTm9kZSB9O1xuIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiX19zcHJlYWRBcnJheSIsIl9fcmVhZCIsIl9fdmFsdWVzIiwiX19yZXN0IiwiaXNGdW5jdGlvbiIsIm1hcFZhbHVlcyIsImlzQXJyYXkiLCJmbGF0dGVuIiwidG9BcnJheSIsInRvU3RhdGVWYWx1ZSIsImlzU3RyaW5nIiwiZ2V0RXZlbnRUeXBlIiwidG9TQ1hNTEV2ZW50IiwibWF0Y2hlc1N0YXRlIiwicGF0aCIsImV2YWx1YXRlR3VhcmQiLCJtYXBDb250ZXh0IiwiaXNSYWlzYWJsZUFjdGlvbiIsInBhdGhUb1N0YXRlVmFsdWUiLCJpc0J1aWx0SW5FdmVudCIsInBhcnRpdGlvbiIsInVwZGF0ZUhpc3RvcnlWYWx1ZSIsInRvU3RhdGVQYXRoIiwibWFwRmlsdGVyVmFsdWVzIiwid2FybiIsInRvU3RhdGVQYXRocyIsIm5lc3RlZFBhdGgiLCJub3JtYWxpemVUYXJnZXQiLCJ0b0d1YXJkIiwidG9UcmFuc2l0aW9uQ29uZmlnQXJyYXkiLCJpc01hY2hpbmUiLCJjcmVhdGVJbnZva2VJZCIsIlN0YXRlIiwic3RhdGVWYWx1ZXNFcXVhbCIsInN0YXJ0Iiwic3RhcnQkMSIsInN0b3AiLCJzdG9wJDEiLCJpbnZva2UiLCJ1cGRhdGUiLCJudWxsRXZlbnQiLCJkb25lIiwidG9BY3Rpb25PYmplY3RzIiwicmFpc2UiLCJyZXNvbHZlQWN0aW9ucyIsImRvbmVJbnZva2UiLCJlcnJvciIsInRvQWN0aW9uT2JqZWN0IiwidG9BY3Rpdml0eURlZmluaXRpb24iLCJhZnRlciIsInNlbmQiLCJjYW5jZWwiLCJpbml0RXZlbnQiLCJJU19QUk9EVUNUSU9OIiwiU1RBVEVfREVMSU1JVEVSIiwiZ2V0QWxsU3RhdGVOb2RlcyIsImdldENvbmZpZ3VyYXRpb24iLCJpc0luRmluYWxTdGF0ZSIsImdldFRhZ3NGcm9tQ29uZmlndXJhdGlvbiIsImhhcyIsImdldENoaWxkcmVuIiwiZ2V0VmFsdWUiLCJpc0xlYWZOb2RlIiwiZ2V0QWxsQ2hpbGRyZW4iLCJjcmVhdGVJbnZvY2FibGVBY3RvciIsInRvSW52b2tlRGVmaW5pdGlvbiIsIk5VTExfRVZFTlQiLCJTVEFURV9JREVOVElGSUVSIiwiV0lMRENBUkQiLCJFTVBUWV9PQkpFQ1QiLCJpc1N0YXRlSWQiLCJzdHIiLCJjcmVhdGVEZWZhdWx0T3B0aW9ucyIsImFjdGlvbnMiLCJndWFyZHMiLCJzZXJ2aWNlcyIsImFjdGl2aXRpZXMiLCJkZWxheXMiLCJ2YWxpZGF0ZUFycmF5aWZpZWRUcmFuc2l0aW9ucyIsInN0YXRlTm9kZSIsImV2ZW50IiwidHJhbnNpdGlvbnMiLCJoYXNOb25MYXN0VW5ndWFyZGVkVGFyZ2V0Iiwic2xpY2UiLCJzb21lIiwidHJhbnNpdGlvbiIsInRhcmdldCIsImV2ZW50VGV4dCIsImNvbmNhdCIsImlkIiwiU3RhdGVOb2RlIiwiY29uZmlnIiwib3B0aW9ucyIsIl9jb250ZXh0IiwiX3N0YXRlSW5mbyIsImNvbnRleHQiLCJ1bmRlZmluZWQiLCJfdGhpcyIsIl9hIiwib3JkZXIiLCJfX3hzdGF0ZW5vZGUiLCJfX2NhY2hlIiwiZXZlbnRzIiwicmVsYXRpdmVWYWx1ZSIsIk1hcCIsImluaXRpYWxTdGF0ZVZhbHVlIiwiaW5pdGlhbFN0YXRlIiwib24iLCJjYW5kaWRhdGVzIiwiZGVsYXllZFRyYW5zaXRpb25zIiwiaWRNYXAiLCJ0YWdzIiwiT2JqZWN0IiwiYXNzaWduIiwicGFyZW50Iiwia2V5IiwibWFjaGluZSIsImRlbGltaXRlciIsImpvaW4iLCJ2ZXJzaW9uIiwidHlwZSIsInBhcmFsbGVsIiwic3RhdGVzIiwia2V5cyIsImxlbmd0aCIsImhpc3RvcnkiLCJzY2hlbWEiLCJkZXNjcmlwdGlvbiIsImluaXRpYWwiLCJzdGF0ZUNvbmZpZyIsImRmcyIsImVfMSIsIl9iIiwiX2MiLCJuZXh0IiwiY2hpbGQiLCJ2YWx1ZSIsImVfMV8xIiwicmV0dXJuIiwiY2FsbCIsIl90cmFuc2llbnQiLCJhbHdheXMiLCJBcnJheSIsInN0cmljdCIsIm9uRW50cnkiLCJlbnRyeSIsIm1hcCIsImFjdGlvbiIsIm9uRXhpdCIsImV4aXQiLCJtZXRhIiwiZG9uZURhdGEiLCJkYXRhIiwiaW52b2tlQ29uZmlnIiwiaSIsImludm9rZUlkIiwic3JjIiwiaW52b2tlU291cmNlIiwiYWN0aXZpdHkiLCJiaW5kIiwicHJvdG90eXBlIiwiX2luaXQiLCJmb3JFYWNoIiwid2l0aENvbmZpZyIsIndpdGhDb250ZXh0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwic3RhdGUiLCJkZWZpbml0aW9uIiwidG9KU09OIiwicmVkdWNlIiwiZXZlbnRUeXBlIiwicHVzaCIsImdldERlbGF5ZWRUcmFuc2l0aW9ucyIsImZvcm1hdFRyYW5zaXRpb25zIiwiZ2V0Q2FuZGlkYXRlcyIsImV2ZW50TmFtZSIsInRyYW5zaWVudCIsImZpbHRlciIsInNhbWVFdmVudFR5cGUiLCJhZnRlckNvbmZpZyIsIm11dGF0ZUVudHJ5RXhpdCIsImRlbGF5IiwiZGVsYXlSZWYiLCJjb25maWdUcmFuc2l0aW9uIiwicmVzb2x2ZWRUcmFuc2l0aW9uIiwicmVzb2x2ZWREZWxheSIsImlzTmFOIiwiZGVsYXllZFRyYW5zaXRpb24iLCJmb3JtYXRUcmFuc2l0aW9uIiwiZ2V0U3RhdGVOb2RlcyIsInN0YXRlVmFsdWUiLCJnZXRTdGF0ZU5vZGUiLCJzdWJTdGF0ZUtleXMiLCJzdWJTdGF0ZU5vZGVzIiwiYXBwbHkiLCJzdWJTdGF0ZUtleSIsImhhbmRsZXMiLCJpbmNsdWRlcyIsInJlc29sdmVTdGF0ZSIsInN0YXRlRnJvbUNvbmZpZyIsImNyZWF0ZSIsImNvbmZpZ3VyYXRpb24iLCJmcm9tIiwicmVzb2x2ZSIsInRyYW5zaXRpb25MZWFmTm9kZSIsIl9ldmVudCIsInRyYW5zaXRpb25Db21wb3VuZE5vZGUiLCJfdHJhbnNpdGlvbiIsInRyYW5zaXRpb25QYXJhbGxlbE5vZGUiLCJlXzIiLCJ0cmFuc2l0aW9uTWFwIiwic3ViU3RhdGVWYWx1ZSIsInN1YlN0YXRlTm9kZSIsImVfMl8xIiwic3RhdGVUcmFuc2l0aW9ucyIsImVuYWJsZWRUcmFuc2l0aW9ucyIsInN0Iiwid2lsbFRyYW5zaXRpb24iLCJleGl0U2V0IiwidCIsInNvdXJjZSIsImdldFRyYW5zaXRpb25EYXRhIiwiZV8zIiwibmFtZSIsIm5leHRTdGF0ZU5vZGVzIiwic2VsZWN0ZWRUcmFuc2l0aW9uIiwiY2FuZGlkYXRlIiwiY29uZCIsInN0YXRlSW4iLCJpbiIsInJlc29sdmVkQ29udGV4dCIsImlzSW5TdGF0ZSIsIm1hdGNoZXMiLCJnZXRTdGF0ZU5vZGVCeUlkIiwiZ3VhcmRQYXNzZWQiLCJlcnIiLCJFcnJvciIsIm1lc3NhZ2UiLCJlXzNfMSIsImFsbE5leHRTdGF0ZU5vZGVzIiwiZ2V0UmVsYXRpdmVTdGF0ZU5vZGVzIiwiaGlzdG9yeVZhbHVlIiwiaXNJbnRlcm5hbCIsImludGVybmFsIiwidGFyZ2V0Tm9kZSIsImdldFBvdGVudGlhbGx5UmVlbnRlcmluZ05vZGVzIiwibm9kZXMiLCJtYXJrZXIiLCJwb3NzaWJsZUFuY2VzdG9yIiwiZ2V0QWN0aW9ucyIsInJlc29sdmVkQ29uZmlnIiwiaXNEb25lIiwiY3VycmVudENvbnRleHQiLCJwcmV2U3RhdGUiLCJwcmVkaWN0YWJsZUV4ZWMiLCJlXzQiLCJlXzUiLCJwcmV2Q29uZmlnIiwiZW50cnlTZXQiLCJTZXQiLCJzb3J0IiwiYSIsImIiLCJfZCIsInNuIiwiYWRkIiwiZV80XzEiLCJwcmV2Q29uZmlnXzEiLCJwcmV2Q29uZmlnXzFfMSIsImVfNV8xIiwiZW50cnlTdGF0ZXMiLCJleGl0U3RhdGVzIiwiZG9uZUV2ZW50cyIsImdyYW5kcGFyZW50IiwiZXZlcnkiLCJwYXJlbnROb2RlIiwiZW50cnlBY3Rpb25zIiwiaW52b2tlQWN0aW9ucyIsImV4aXRBY3Rpb25zIiwic3RvcEFjdGlvbnMiLCJleGVjIiwiY3VycmVudFN0YXRlIiwicmVzb2x2ZWRTdGF0ZVZhbHVlIiwiZ2V0UmVzb2x2ZWRQYXRoIiwic3RhdGVUcmFuc2l0aW9uIiwicmVzb2x2ZVRyYW5zaXRpb24iLCJyZXNvbHZlUmFpc2VkVHJhbnNpdGlvbiIsIm9yaWdpbmFsRXZlbnQiLCJjdXJyZW50QWN0aW9ucyIsInVuc2hpZnQiLCJlXzYiLCJlXzciLCJyZXNvbHZlZENvbmZpZ3VyYXRpb24iLCJhY3Rpb25CbG9ja3MiLCJhY3Rpb25CbG9ja3NfMSIsImFjdGlvbkJsb2Nrc18xXzEiLCJibG9jayIsImVfN18xIiwiZV82XzEiLCJfZSIsInByZWRpY3RhYmxlQWN0aW9uQXJndW1lbnRzIiwicHJlc2VydmVBY3Rpb25PcmRlciIsInJlc29sdmVkQWN0aW9ucyIsInVwZGF0ZWRDb250ZXh0IiwiX2YiLCJyYWlzZWRFdmVudHMiLCJub25SYWlzZWRBY3Rpb25zIiwiY2hpbGRyZW4iLCJhY2MiLCJuZXh0U3RhdGUiLCJfc2Vzc2lvbmlkIiwiZGlkVXBkYXRlQ29udGV4dCIsImNoYW5nZWQiLCJoYXNBbHdheXNUcmFuc2l0aW9ucyIsIm1heWJlTmV4dFN0YXRlIiwicmFpc2VkRXZlbnQiLCJzaGlmdCIsInN0YXRlS2V5IiwicmVzdWx0Iiwic3RhdGVJZCIsInJlc29sdmVkU3RhdGVJZCIsImdldFN0YXRlTm9kZUJ5UGF0aCIsInN0YXRlUGF0aCIsImUiLCJhcnJheVN0YXRlUGF0aCIsImN1cnJlbnRTdGF0ZU5vZGUiLCJzdGF0ZUlkZW50aWZpZXIiLCJnZXRJbml0aWFsU3RhdGUiLCJoaXN0b3J5Q29uZmlnIiwicmVsYXRpdmVTdGF0ZUlkIiwicmVzb2x2ZUhpc3RvcnkiLCJpbml0aWFsU3RhdGVOb2RlcyIsImluaXRpYWxTdGF0ZU5vZGVQYXRocyIsImluaXRpYWxQYXRoIiwiZ2V0RnJvbVJlbGF0aXZlUGF0aCIsInJlbGF0aXZlUGF0aCIsImNoaWxkU3RhdGVQYXRoIiwiY2hpbGRTdGF0ZU5vZGUiLCJyZWxhdGl2ZVN0YXRlVmFsdWUiLCJjdXJyZW50IiwiaGlzdG9yeVRhcmdldCIsInJlbGF0aXZlQ2hpbGRQYXRoIiwic3ViSGlzdG9yeVZhbHVlIiwic3ViU3RhdGVQYXRoIiwiY2hpbGRTdGF0ZUlkcyIsInN0YXRlSWRzIiwiZV84IiwiZV85Iiwib3duRXZlbnRzIiwiZXZlbnRfMSIsImVfOV8xIiwiZV84XzEiLCJyZXNvbHZlVGFyZ2V0IiwiX3RhcmdldCIsImlzSW50ZXJuYWxUYXJnZXQiLCJyZXNvbHZlZFRhcmdldCIsInRhcmdldFN0YXRlTm9kZSIsInRyYW5zaXRpb25Db25maWciLCJub3JtYWxpemVkVGFyZ2V0IiwiZV8xMCIsIm9uQ29uZmlnIiwid2lsZGNhcmRDb25maWdzIiwic3RyaWN0VHJhbnNpdGlvbkNvbmZpZ3NfMSIsInRyYW5zaXRpb25Db25maWdBcnJheSIsImV2ZW50bGVzc0NvbmZpZyIsImRvbmVDb25maWciLCJvbkRvbmUiLCJTdHJpbmciLCJpbnZva2VEZWYiLCJzZXR0bGVUcmFuc2l0aW9ucyIsIm9uRXJyb3IiLCJmb3JtYXR0ZWRUcmFuc2l0aW9ucyIsImRlbGF5ZWRUcmFuc2l0aW9uc18xIiwiZGVsYXllZFRyYW5zaXRpb25zXzFfMSIsImVfMTBfMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/StateNode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/_virtual/_tslib.js":
/*!***************************************************!*\
  !*** ./node_modules/xstate/es/_virtual/_tslib.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __assign: () => (/* binding */ __assign),\n/* harmony export */   __read: () => (/* binding */ __read),\n/* harmony export */   __rest: () => (/* binding */ __rest),\n/* harmony export */   __spreadArray: () => (/* binding */ __spreadArray),\n/* harmony export */   __values: () => (/* binding */ __values)\n/* harmony export */ });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */ var __assign = function() {\n    __assign = Object.assign || function __assign(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n    var t = {};\n    for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for(var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++){\n        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n}\nfunction __values(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n}\nfunction __spreadArray(to, from, pack) {\n    if (pack || arguments.length === 2) for(var i = 0, l = from.length, ar; i < l; i++){\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL192aXJ0dWFsL190c2xpYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7OzhFQWE4RSxHQUU5RSxJQUFJQSxXQUFXO0lBQ1hBLFdBQVdDLE9BQU9DLE1BQU0sSUFBSSxTQUFTRixTQUFTRyxDQUFDO1FBQzNDLElBQUssSUFBSUMsR0FBR0MsSUFBSSxHQUFHQyxJQUFJQyxVQUFVQyxNQUFNLEVBQUVILElBQUlDLEdBQUdELElBQUs7WUFDakRELElBQUlHLFNBQVMsQ0FBQ0YsRUFBRTtZQUNoQixJQUFLLElBQUlJLEtBQUtMLEVBQUcsSUFBSUgsT0FBT1MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ1IsR0FBR0ssSUFBSU4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNoRjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUVBLFNBQVNPLE9BQU9WLENBQUMsRUFBRVcsQ0FBQztJQUNoQixJQUFJWixJQUFJLENBQUM7SUFDVCxJQUFLLElBQUlNLEtBQUtMLEVBQUcsSUFBSUgsT0FBT1MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ1IsR0FBR0ssTUFBTU0sRUFBRUMsT0FBTyxDQUFDUCxLQUFLLEdBQzlFTixDQUFDLENBQUNNLEVBQUUsR0FBR0wsQ0FBQyxDQUFDSyxFQUFFO0lBQ2YsSUFBSUwsS0FBSyxRQUFRLE9BQU9ILE9BQU9nQixxQkFBcUIsS0FBSyxZQUNyRCxJQUFLLElBQUlaLElBQUksR0FBR0ksSUFBSVIsT0FBT2dCLHFCQUFxQixDQUFDYixJQUFJQyxJQUFJSSxFQUFFRCxNQUFNLEVBQUVILElBQUs7UUFDcEUsSUFBSVUsRUFBRUMsT0FBTyxDQUFDUCxDQUFDLENBQUNKLEVBQUUsSUFBSSxLQUFLSixPQUFPUyxTQUFTLENBQUNRLG9CQUFvQixDQUFDTixJQUFJLENBQUNSLEdBQUdLLENBQUMsQ0FBQ0osRUFBRSxHQUN6RUYsQ0FBQyxDQUFDTSxDQUFDLENBQUNKLEVBQUUsQ0FBQyxHQUFHRCxDQUFDLENBQUNLLENBQUMsQ0FBQ0osRUFBRSxDQUFDO0lBQ3pCO0lBQ0osT0FBT0Y7QUFDWDtBQUVBLFNBQVNnQixTQUFTQyxDQUFDO0lBQ2YsSUFBSWhCLElBQUksT0FBT2lCLFdBQVcsY0FBY0EsT0FBT0MsUUFBUSxFQUFFQyxJQUFJbkIsS0FBS2dCLENBQUMsQ0FBQ2hCLEVBQUUsRUFBRUMsSUFBSTtJQUM1RSxJQUFJa0IsR0FBRyxPQUFPQSxFQUFFWCxJQUFJLENBQUNRO0lBQ3JCLElBQUlBLEtBQUssT0FBT0EsRUFBRVosTUFBTSxLQUFLLFVBQVUsT0FBTztRQUMxQ2dCLE1BQU07WUFDRixJQUFJSixLQUFLZixLQUFLZSxFQUFFWixNQUFNLEVBQUVZLElBQUksS0FBSztZQUNqQyxPQUFPO2dCQUFFSyxPQUFPTCxLQUFLQSxDQUFDLENBQUNmLElBQUk7Z0JBQUVxQixNQUFNLENBQUNOO1lBQUU7UUFDMUM7SUFDSjtJQUNBLE1BQU0sSUFBSU8sVUFBVXZCLElBQUksNEJBQTRCO0FBQ3hEO0FBRUEsU0FBU3dCLE9BQU9SLENBQUMsRUFBRWQsQ0FBQztJQUNoQixJQUFJaUIsSUFBSSxPQUFPRixXQUFXLGNBQWNELENBQUMsQ0FBQ0MsT0FBT0MsUUFBUSxDQUFDO0lBQzFELElBQUksQ0FBQ0MsR0FBRyxPQUFPSDtJQUNmLElBQUlmLElBQUlrQixFQUFFWCxJQUFJLENBQUNRLElBQUlTLEdBQUdDLEtBQUssRUFBRSxFQUFFZjtJQUMvQixJQUFJO1FBQ0EsTUFBTyxDQUFDVCxNQUFNLEtBQUssS0FBS0EsTUFBTSxNQUFNLENBQUMsQ0FBQ3VCLElBQUl4QixFQUFFbUIsSUFBSSxFQUFDLEVBQUdFLElBQUksQ0FBRUksR0FBR0MsSUFBSSxDQUFDRixFQUFFSixLQUFLO0lBQzdFLEVBQ0EsT0FBT08sT0FBTztRQUFFakIsSUFBSTtZQUFFaUIsT0FBT0E7UUFBTTtJQUFHLFNBQzlCO1FBQ0osSUFBSTtZQUNBLElBQUlILEtBQUssQ0FBQ0EsRUFBRUgsSUFBSSxJQUFLSCxDQUFBQSxJQUFJbEIsQ0FBQyxDQUFDLFNBQVMsR0FBR2tCLEVBQUVYLElBQUksQ0FBQ1A7UUFDbEQsU0FDUTtZQUFFLElBQUlVLEdBQUcsTUFBTUEsRUFBRWlCLEtBQUs7UUFBRTtJQUNwQztJQUNBLE9BQU9GO0FBQ1g7QUFFQSxTQUFTRyxjQUFjQyxFQUFFLEVBQUVDLElBQUksRUFBRUMsSUFBSTtJQUNqQyxJQUFJQSxRQUFRN0IsVUFBVUMsTUFBTSxLQUFLLEdBQUcsSUFBSyxJQUFJSCxJQUFJLEdBQUdnQyxJQUFJRixLQUFLM0IsTUFBTSxFQUFFc0IsSUFBSXpCLElBQUlnQyxHQUFHaEMsSUFBSztRQUNqRixJQUFJeUIsTUFBTSxDQUFFekIsQ0FBQUEsS0FBSzhCLElBQUcsR0FBSTtZQUNwQixJQUFJLENBQUNMLElBQUlBLEtBQUtRLE1BQU01QixTQUFTLENBQUM2QixLQUFLLENBQUMzQixJQUFJLENBQUN1QixNQUFNLEdBQUc5QjtZQUNsRHlCLEVBQUUsQ0FBQ3pCLEVBQUUsR0FBRzhCLElBQUksQ0FBQzlCLEVBQUU7UUFDbkI7SUFDSjtJQUNBLE9BQU82QixHQUFHTSxNQUFNLENBQUNWLE1BQU1RLE1BQU01QixTQUFTLENBQUM2QixLQUFLLENBQUMzQixJQUFJLENBQUN1QjtBQUN0RDtBQUU2RCIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1ncmlkLTIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL192aXJ0dWFsL190c2xpYi5qcz81ZTk2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxuXG5leHBvcnQgeyBfX2Fzc2lnbiwgX19yZWFkLCBfX3Jlc3QsIF9fc3ByZWFkQXJyYXksIF9fdmFsdWVzIH07XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiX19yZXN0IiwiZSIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fdmFsdWVzIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibSIsIm5leHQiLCJ2YWx1ZSIsImRvbmUiLCJUeXBlRXJyb3IiLCJfX3JlYWQiLCJyIiwiYXIiLCJwdXNoIiwiZXJyb3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwicGFjayIsImwiLCJBcnJheSIsInNsaWNlIiwiY29uY2F0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/actionTypes.js":
/*!***********************************************!*\
  !*** ./node_modules/xstate/es/actionTypes.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   after: () => (/* binding */ after),\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   cancel: () => (/* binding */ cancel),\n/* harmony export */   choose: () => (/* binding */ choose),\n/* harmony export */   doneState: () => (/* binding */ doneState),\n/* harmony export */   error: () => (/* binding */ error),\n/* harmony export */   errorExecution: () => (/* binding */ errorExecution),\n/* harmony export */   errorPlatform: () => (/* binding */ errorPlatform),\n/* harmony export */   init: () => (/* binding */ init),\n/* harmony export */   invoke: () => (/* binding */ invoke),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   nullEvent: () => (/* binding */ nullEvent),\n/* harmony export */   pure: () => (/* binding */ pure),\n/* harmony export */   raise: () => (/* binding */ raise),\n/* harmony export */   send: () => (/* binding */ send),\n/* harmony export */   start: () => (/* binding */ start),\n/* harmony export */   stop: () => (/* binding */ stop),\n/* harmony export */   update: () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n\nvar start = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Start;\nvar stop = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Stop;\nvar raise = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Raise;\nvar send = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Send;\nvar cancel = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Cancel;\nvar nullEvent = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.NullEvent;\nvar assign = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Assign;\nvar after = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.After;\nvar doneState = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.DoneState;\nvar log = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Log;\nvar init = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Init;\nvar invoke = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Invoke;\nvar errorExecution = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.ErrorExecution;\nvar errorPlatform = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.ErrorPlatform;\nvar error = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.ErrorCustom;\nvar update = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Update;\nvar choose = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Choose;\nvar pure = _types_js__WEBPACK_IMPORTED_MODULE_0__.ActionTypes.Pure;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2FjdGlvblR5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUM7QUFFekMsSUFBSUMsUUFBUUQsa0RBQVdBLENBQUNFLEtBQUs7QUFDN0IsSUFBSUMsT0FBT0gsa0RBQVdBLENBQUNJLElBQUk7QUFDM0IsSUFBSUMsUUFBUUwsa0RBQVdBLENBQUNNLEtBQUs7QUFDN0IsSUFBSUMsT0FBT1Asa0RBQVdBLENBQUNRLElBQUk7QUFDM0IsSUFBSUMsU0FBU1Qsa0RBQVdBLENBQUNVLE1BQU07QUFDL0IsSUFBSUMsWUFBWVgsa0RBQVdBLENBQUNZLFNBQVM7QUFDckMsSUFBSUMsU0FBU2Isa0RBQVdBLENBQUNjLE1BQU07QUFDL0IsSUFBSUMsUUFBUWYsa0RBQVdBLENBQUNnQixLQUFLO0FBQzdCLElBQUlDLFlBQVlqQixrREFBV0EsQ0FBQ2tCLFNBQVM7QUFDckMsSUFBSUMsTUFBTW5CLGtEQUFXQSxDQUFDb0IsR0FBRztBQUN6QixJQUFJQyxPQUFPckIsa0RBQVdBLENBQUNzQixJQUFJO0FBQzNCLElBQUlDLFNBQVN2QixrREFBV0EsQ0FBQ3dCLE1BQU07QUFDL0IsSUFBSUMsaUJBQWlCekIsa0RBQVdBLENBQUMwQixjQUFjO0FBQy9DLElBQUlDLGdCQUFnQjNCLGtEQUFXQSxDQUFDNEIsYUFBYTtBQUM3QyxJQUFJQyxRQUFRN0Isa0RBQVdBLENBQUM4QixXQUFXO0FBQ25DLElBQUlDLFNBQVMvQixrREFBV0EsQ0FBQ2dDLE1BQU07QUFDL0IsSUFBSUMsU0FBU2pDLGtEQUFXQSxDQUFDa0MsTUFBTTtBQUMvQixJQUFJQyxPQUFPbkMsa0RBQVdBLENBQUNvQyxJQUFJO0FBRXFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLWdyaWQtMi8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvYWN0aW9uVHlwZXMuanM/OGNiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb25UeXBlcyB9IGZyb20gJy4vdHlwZXMuanMnO1xuXG52YXIgc3RhcnQgPSBBY3Rpb25UeXBlcy5TdGFydDtcbnZhciBzdG9wID0gQWN0aW9uVHlwZXMuU3RvcDtcbnZhciByYWlzZSA9IEFjdGlvblR5cGVzLlJhaXNlO1xudmFyIHNlbmQgPSBBY3Rpb25UeXBlcy5TZW5kO1xudmFyIGNhbmNlbCA9IEFjdGlvblR5cGVzLkNhbmNlbDtcbnZhciBudWxsRXZlbnQgPSBBY3Rpb25UeXBlcy5OdWxsRXZlbnQ7XG52YXIgYXNzaWduID0gQWN0aW9uVHlwZXMuQXNzaWduO1xudmFyIGFmdGVyID0gQWN0aW9uVHlwZXMuQWZ0ZXI7XG52YXIgZG9uZVN0YXRlID0gQWN0aW9uVHlwZXMuRG9uZVN0YXRlO1xudmFyIGxvZyA9IEFjdGlvblR5cGVzLkxvZztcbnZhciBpbml0ID0gQWN0aW9uVHlwZXMuSW5pdDtcbnZhciBpbnZva2UgPSBBY3Rpb25UeXBlcy5JbnZva2U7XG52YXIgZXJyb3JFeGVjdXRpb24gPSBBY3Rpb25UeXBlcy5FcnJvckV4ZWN1dGlvbjtcbnZhciBlcnJvclBsYXRmb3JtID0gQWN0aW9uVHlwZXMuRXJyb3JQbGF0Zm9ybTtcbnZhciBlcnJvciA9IEFjdGlvblR5cGVzLkVycm9yQ3VzdG9tO1xudmFyIHVwZGF0ZSA9IEFjdGlvblR5cGVzLlVwZGF0ZTtcbnZhciBjaG9vc2UgPSBBY3Rpb25UeXBlcy5DaG9vc2U7XG52YXIgcHVyZSA9IEFjdGlvblR5cGVzLlB1cmU7XG5cbmV4cG9ydCB7IGFmdGVyLCBhc3NpZ24sIGNhbmNlbCwgY2hvb3NlLCBkb25lU3RhdGUsIGVycm9yLCBlcnJvckV4ZWN1dGlvbiwgZXJyb3JQbGF0Zm9ybSwgaW5pdCwgaW52b2tlLCBsb2csIG51bGxFdmVudCwgcHVyZSwgcmFpc2UsIHNlbmQsIHN0YXJ0LCBzdG9wLCB1cGRhdGUgfTtcbiJdLCJuYW1lcyI6WyJBY3Rpb25UeXBlcyIsInN0YXJ0IiwiU3RhcnQiLCJzdG9wIiwiU3RvcCIsInJhaXNlIiwiUmFpc2UiLCJzZW5kIiwiU2VuZCIsImNhbmNlbCIsIkNhbmNlbCIsIm51bGxFdmVudCIsIk51bGxFdmVudCIsImFzc2lnbiIsIkFzc2lnbiIsImFmdGVyIiwiQWZ0ZXIiLCJkb25lU3RhdGUiLCJEb25lU3RhdGUiLCJsb2ciLCJMb2ciLCJpbml0IiwiSW5pdCIsImludm9rZSIsIkludm9rZSIsImVycm9yRXhlY3V0aW9uIiwiRXJyb3JFeGVjdXRpb24iLCJlcnJvclBsYXRmb3JtIiwiRXJyb3JQbGF0Zm9ybSIsImVycm9yIiwiRXJyb3JDdXN0b20iLCJ1cGRhdGUiLCJVcGRhdGUiLCJjaG9vc2UiLCJDaG9vc2UiLCJwdXJlIiwiUHVyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/actionTypes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/actions.js":
/*!*******************************************!*\
  !*** ./node_modules/xstate/es/actions.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionTypes: () => (/* reexport module object */ _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   after: () => (/* binding */ after),\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   cancel: () => (/* binding */ cancel),\n/* harmony export */   choose: () => (/* binding */ choose),\n/* harmony export */   done: () => (/* binding */ done),\n/* harmony export */   doneInvoke: () => (/* binding */ doneInvoke),\n/* harmony export */   error: () => (/* binding */ error),\n/* harmony export */   escalate: () => (/* binding */ escalate),\n/* harmony export */   forwardTo: () => (/* binding */ forwardTo),\n/* harmony export */   getActionFunction: () => (/* binding */ getActionFunction),\n/* harmony export */   initEvent: () => (/* binding */ initEvent),\n/* harmony export */   isActionObject: () => (/* binding */ isActionObject),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   pure: () => (/* binding */ pure),\n/* harmony export */   raise: () => (/* binding */ raise),\n/* harmony export */   resolveActions: () => (/* binding */ resolveActions),\n/* harmony export */   resolveLog: () => (/* binding */ resolveLog),\n/* harmony export */   resolveRaise: () => (/* binding */ resolveRaise),\n/* harmony export */   resolveSend: () => (/* binding */ resolveSend),\n/* harmony export */   resolveStop: () => (/* binding */ resolveStop),\n/* harmony export */   respond: () => (/* binding */ respond),\n/* harmony export */   send: () => (/* binding */ send),\n/* harmony export */   sendParent: () => (/* binding */ sendParent),\n/* harmony export */   sendTo: () => (/* binding */ sendTo),\n/* harmony export */   sendUpdate: () => (/* binding */ sendUpdate),\n/* harmony export */   start: () => (/* binding */ start),\n/* harmony export */   stop: () => (/* binding */ stop),\n/* harmony export */   toActionObject: () => (/* binding */ toActionObject),\n/* harmony export */   toActionObjects: () => (/* binding */ toActionObjects),\n/* harmony export */   toActivityDefinition: () => (/* binding */ toActivityDefinition)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\n\n\n\n\n\n\nvar initEvent = /*#__PURE__*/ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toSCXMLEvent)({\n    type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.init\n});\nfunction getActionFunction(actionType, actionFunctionMap) {\n    return actionFunctionMap ? actionFunctionMap[actionType] || undefined : undefined;\n}\nfunction toActionObject(action, actionFunctionMap) {\n    var actionObject;\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action) || typeof action === \"number\") {\n        var exec = getActionFunction(action, actionFunctionMap);\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(exec)) {\n            actionObject = {\n                type: action,\n                exec: exec\n            };\n        } else if (exec) {\n            actionObject = exec;\n        } else {\n            actionObject = {\n                type: action,\n                exec: undefined\n            };\n        }\n    } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action)) {\n        actionObject = {\n            // Convert action to string if unnamed\n            type: action.name || action.toString(),\n            exec: action\n        };\n    } else {\n        var exec = getActionFunction(action.type, actionFunctionMap);\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(exec)) {\n            actionObject = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, action), {\n                exec: exec\n            });\n        } else if (exec) {\n            var actionType = exec.type || action.type;\n            actionObject = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, exec), action), {\n                type: actionType\n            });\n        } else {\n            actionObject = action;\n        }\n    }\n    return actionObject;\n}\nvar toActionObjects = function(action, actionFunctionMap) {\n    if (!action) {\n        return [];\n    }\n    var actions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(action) ? action : [\n        action\n    ];\n    return actions.map(function(subAction) {\n        return toActionObject(subAction, actionFunctionMap);\n    });\n};\nfunction toActivityDefinition(action) {\n    var actionObject = toActionObject(action);\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({\n        id: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action) ? action : actionObject.id\n    }, actionObject), {\n        type: actionObject.type\n    });\n}\n/**\r\n * Raises an event. This places the event in the internal event queue, so that\r\n * the event is immediately consumed by the machine in the current step.\r\n *\r\n * @param eventType The event to raise.\r\n */ function raise(event, options) {\n    return {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.raise,\n        event: typeof event === \"function\" ? event : (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toEventObject)(event),\n        delay: options ? options.delay : undefined,\n        id: options === null || options === void 0 ? void 0 : options.id\n    };\n}\nfunction resolveRaise(action, ctx, _event, delaysMap) {\n    var meta = {\n        _event: _event\n    };\n    var resolvedEvent = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toSCXMLEvent)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.event) ? action.event(ctx, _event.data, meta) : action.event);\n    var resolvedDelay;\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action.delay)) {\n        var configDelay = delaysMap && delaysMap[action.delay];\n        resolvedDelay = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;\n    } else {\n        resolvedDelay = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;\n    }\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, action), {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.raise,\n        _event: resolvedEvent,\n        delay: resolvedDelay\n    });\n}\n/**\r\n * Sends an event. This returns an action that will be read by an interpreter to\r\n * send the event in the next step, after the current step is finished executing.\r\n *\r\n * @deprecated Use the `sendTo(...)` action creator instead.\r\n *\r\n * @param event The event to send.\r\n * @param options Options to pass into the send event:\r\n *  - `id` - The unique send event identifier (used with `cancel()`).\r\n *  - `delay` - The number of milliseconds to delay the sending of the event.\r\n *  - `to` - The target of this event (by default, the machine the event was sent from).\r\n */ function send(event, options) {\n    return {\n        to: options ? options.to : undefined,\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.send,\n        event: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(event) ? event : (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toEventObject)(event),\n        delay: options ? options.delay : undefined,\n        // TODO: don't auto-generate IDs here like that\n        // there is too big chance of the ID collision\n        id: options && options.id !== undefined ? options.id : (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(event) ? event.name : (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getEventType)(event)\n    };\n}\nfunction resolveSend(action, ctx, _event, delaysMap) {\n    var meta = {\n        _event: _event\n    }; // TODO: helper function for resolving Expr\n    var resolvedEvent = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toSCXMLEvent)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.event) ? action.event(ctx, _event.data, meta) : action.event);\n    var resolvedDelay;\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action.delay)) {\n        var configDelay = delaysMap && delaysMap[action.delay];\n        resolvedDelay = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;\n    } else {\n        resolvedDelay = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;\n    }\n    var resolvedTarget = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.to) ? action.to(ctx, _event.data, meta) : action.to;\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, action), {\n        to: resolvedTarget,\n        _event: resolvedEvent,\n        event: resolvedEvent.data,\n        delay: resolvedDelay\n    });\n}\n/**\r\n * Sends an event to this machine's parent.\r\n *\r\n * @param event The event to send to the parent machine.\r\n * @param options Options to pass into the send event.\r\n */ function sendParent(event, options) {\n    return send(event, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: _types_js__WEBPACK_IMPORTED_MODULE_3__.SpecialTargets.Parent\n    }));\n}\n/**\r\n * Sends an event to an actor.\r\n *\r\n * @param actor The `ActorRef` to send the event to.\r\n * @param event The event to send, or an expression that evaluates to the event to send\r\n * @param options Send action options\r\n * @returns An XState send action object\r\n */ function sendTo(actor, event, options) {\n    return send(event, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: actor\n    }));\n}\n/**\r\n * Sends an update event to this machine's parent.\r\n */ function sendUpdate() {\n    return sendParent(_actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.update);\n}\n/**\r\n * Sends an event back to the sender of the original event.\r\n *\r\n * @param event The event to send back to the sender\r\n * @param options Options to pass into the send event\r\n */ function respond(event, options) {\n    return send(event, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: function(_, __, _a) {\n            var _event = _a._event;\n            return _event.origin; // TODO: handle when _event.origin is undefined\n        }\n    }));\n}\nvar defaultLogExpr = function(context, event) {\n    return {\n        context: context,\n        event: event\n    };\n};\n/**\r\n *\r\n * @param expr The expression function to evaluate which will be logged.\r\n *  Takes in 2 arguments:\r\n *  - `ctx` - the current state context\r\n *  - `event` - the event that caused this action to be executed.\r\n * @param label The label to give to the logged expression.\r\n */ function log(expr, label) {\n    if (expr === void 0) {\n        expr = defaultLogExpr;\n    }\n    return {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.log,\n        label: label,\n        expr: expr\n    };\n}\nvar resolveLog = function(action, ctx, _event) {\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, action), {\n        value: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(action.expr) ? action.expr : action.expr(ctx, _event.data, {\n            _event: _event\n        })\n    });\n};\n/**\r\n * Cancels an in-flight `send(...)` action. A canceled sent action will not\r\n * be executed, nor will its event be sent, unless it has already been sent\r\n * (e.g., if `cancel(...)` is called after the `send(...)` action's `delay`).\r\n *\r\n * @param sendId The `id` of the `send(...)` action to cancel.\r\n */ var cancel = function(sendId) {\n    return {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.cancel,\n        sendId: sendId\n    };\n};\n/**\r\n * Starts an activity.\r\n *\r\n * @param activity The activity to start.\r\n */ function start(activity) {\n    var activityDef = toActivityDefinition(activity);\n    return {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Start,\n        activity: activityDef,\n        exec: undefined\n    };\n}\n/**\r\n * Stops an activity.\r\n *\r\n * @param actorRef The activity to stop.\r\n */ function stop(actorRef) {\n    var activity = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(actorRef) ? actorRef : toActivityDefinition(actorRef);\n    return {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Stop,\n        activity: activity,\n        exec: undefined\n    };\n}\nfunction resolveStop(action, context, _event) {\n    var actorRefOrString = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(action.activity) ? action.activity(context, _event.data) : action.activity;\n    var resolvedActorRef = typeof actorRefOrString === \"string\" ? {\n        id: actorRefOrString\n    } : actorRefOrString;\n    var actionObject = {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Stop,\n        activity: resolvedActorRef\n    };\n    return actionObject;\n}\n/**\r\n * Updates the current context of the machine.\r\n *\r\n * @param assignment An object that represents the partial context to update.\r\n */ var assign = function(assignment) {\n    return {\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.assign,\n        assignment: assignment\n    };\n};\nfunction isActionObject(action) {\n    return typeof action === \"object\" && \"type\" in action;\n}\n/**\r\n * Returns an event type that represents an implicit event that\r\n * is sent after the specified `delay`.\r\n *\r\n * @param delayRef The delay in milliseconds\r\n * @param id The state node ID where this event is handled\r\n */ function after(delayRef, id) {\n    var idSuffix = id ? \"#\".concat(id) : \"\";\n    return \"\".concat(_types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.After, \"(\").concat(delayRef, \")\").concat(idSuffix);\n}\n/**\r\n * Returns an event that represents that a final state node\r\n * has been reached in the parent state node.\r\n *\r\n * @param id The final state node's parent state node `id`\r\n * @param data The data to pass into the event\r\n */ function done(id, data) {\n    var type = \"\".concat(_types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.DoneState, \".\").concat(id);\n    var eventObject = {\n        type: type,\n        data: data\n    };\n    eventObject.toString = function() {\n        return type;\n    };\n    return eventObject;\n}\n/**\r\n * Returns an event that represents that an invoked service has terminated.\r\n *\r\n * An invoked service is terminated when it has reached a top-level final state node,\r\n * but not when it is canceled.\r\n *\r\n * @param id The final state node ID\r\n * @param data The data to pass into the event\r\n */ function doneInvoke(id, data) {\n    var type = \"\".concat(_types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.DoneInvoke, \".\").concat(id);\n    var eventObject = {\n        type: type,\n        data: data\n    };\n    eventObject.toString = function() {\n        return type;\n    };\n    return eventObject;\n}\nfunction error(id, data) {\n    var type = \"\".concat(_types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.ErrorPlatform, \".\").concat(id);\n    var eventObject = {\n        type: type,\n        data: data\n    };\n    eventObject.toString = function() {\n        return type;\n    };\n    return eventObject;\n}\nfunction pure(getActions) {\n    return {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Pure,\n        get: getActions\n    };\n}\n/**\r\n * Forwards (sends) an event to a specified service.\r\n *\r\n * @param target The target service to forward the event to.\r\n * @param options Options to pass into the send action creator.\r\n */ function forwardTo(target, options) {\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_4__.IS_PRODUCTION && (!target || typeof target === \"function\")) {\n        var originalTarget_1 = target;\n        target = function() {\n            var args = [];\n            for(var _i = 0; _i < arguments.length; _i++){\n                args[_i] = arguments[_i];\n            }\n            var resolvedTarget = typeof originalTarget_1 === \"function\" ? originalTarget_1.apply(void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(args), false)) : originalTarget_1;\n            if (!resolvedTarget) {\n                throw new Error(\"Attempted to forward event to undefined actor. This risks an infinite loop in the sender.\");\n            }\n            return resolvedTarget;\n        };\n    }\n    return send(function(_, event) {\n        return event;\n    }, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: target\n    }));\n}\n/**\r\n * Escalates an error by sending it as an event to this machine's parent.\r\n *\r\n * @param errorData The error data to send, or the expression function that\r\n * takes in the `context`, `event`, and `meta`, and returns the error data to send.\r\n * @param options Options to pass into the send action creator.\r\n */ function escalate(errorData, options) {\n    return sendParent(function(context, event, meta) {\n        return {\n            type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.error,\n            data: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(errorData) ? errorData(context, event, meta) : errorData\n        };\n    }, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, options), {\n        to: _types_js__WEBPACK_IMPORTED_MODULE_3__.SpecialTargets.Parent\n    }));\n}\nfunction choose(conds) {\n    return {\n        type: _types_js__WEBPACK_IMPORTED_MODULE_3__.ActionTypes.Choose,\n        conds: conds\n    };\n}\nvar pluckAssigns = function(actionBlocks) {\n    var e_1, _a;\n    var assignActions = [];\n    try {\n        for(var actionBlocks_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()){\n            var block = actionBlocks_1_1.value;\n            var i = 0;\n            while(i < block.actions.length){\n                if (block.actions[i].type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.assign) {\n                    assignActions.push(block.actions[i]);\n                    block.actions.splice(i, 1);\n                    continue;\n                }\n                i++;\n            }\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a = actionBlocks_1.return)) _a.call(actionBlocks_1);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    return assignActions;\n};\nfunction resolveActions(machine, currentState, currentContext, _event, actionBlocks, predictableExec, preserveActionOrder) {\n    if (preserveActionOrder === void 0) {\n        preserveActionOrder = false;\n    }\n    var assignActions = preserveActionOrder ? [] : pluckAssigns(actionBlocks);\n    var updatedContext = assignActions.length ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.updateContext)(currentContext, _event, assignActions, currentState) : currentContext;\n    var preservedContexts = preserveActionOrder ? [\n        currentContext\n    ] : undefined;\n    var deferredToBlockEnd = [];\n    function handleAction(blockType, actionObject) {\n        var _a;\n        switch(actionObject.type){\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.raise:\n                {\n                    var raisedAction = resolveRaise(actionObject, updatedContext, _event, machine.options.delays);\n                    if (predictableExec && typeof raisedAction.delay === \"number\") {\n                        predictableExec(raisedAction, updatedContext, _event);\n                    }\n                    return raisedAction;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.send:\n                var sendAction = resolveSend(actionObject, updatedContext, _event, machine.options.delays); // TODO: fix ActionTypes.Init\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_4__.IS_PRODUCTION) {\n                    var configuredDelay = actionObject.delay; // warn after resolving as we can create better contextual message here\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.warn)(!(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(configuredDelay) || typeof sendAction.delay === \"number\", \"No delay reference for delay expression '\".concat(configuredDelay, \"' was found on machine '\").concat(machine.id, \"'\"));\n                }\n                if (predictableExec && sendAction.to !== _types_js__WEBPACK_IMPORTED_MODULE_3__.SpecialTargets.Internal) {\n                    if (blockType === \"entry\") {\n                        deferredToBlockEnd.push(sendAction);\n                    } else {\n                        predictableExec(sendAction, updatedContext, _event);\n                    }\n                }\n                return sendAction;\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.log:\n                {\n                    var resolved = resolveLog(actionObject, updatedContext, _event);\n                    predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, updatedContext, _event);\n                    return resolved;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.choose:\n                {\n                    var chooseAction = actionObject;\n                    var matchedActions = (_a = chooseAction.conds.find(function(condition) {\n                        var guard = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toGuard)(condition.cond, machine.options.guards);\n                        return !guard || (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.evaluateGuard)(machine, guard, updatedContext, _event, !predictableExec ? currentState : undefined);\n                    })) === null || _a === void 0 ? void 0 : _a.actions;\n                    if (!matchedActions) {\n                        return [];\n                    }\n                    var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(resolveActions(machine, currentState, updatedContext, _event, [\n                        {\n                            type: blockType,\n                            actions: toActionObjects((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toArray)(matchedActions), machine.options.actions)\n                        }\n                    ], predictableExec, preserveActionOrder), 2), resolvedActionsFromChoose = _b[0], resolvedContextFromChoose = _b[1];\n                    updatedContext = resolvedContextFromChoose;\n                    preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n                    return resolvedActionsFromChoose;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.pure:\n                {\n                    var matchedActions = actionObject.get(updatedContext, _event.data);\n                    if (!matchedActions) {\n                        return [];\n                    }\n                    var _c = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(resolveActions(machine, currentState, updatedContext, _event, [\n                        {\n                            type: blockType,\n                            actions: toActionObjects((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toArray)(matchedActions), machine.options.actions)\n                        }\n                    ], predictableExec, preserveActionOrder), 2), resolvedActionsFromPure = _c[0], resolvedContext = _c[1];\n                    updatedContext = resolvedContext;\n                    preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n                    return resolvedActionsFromPure;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.stop:\n                {\n                    var resolved = resolveStop(actionObject, updatedContext, _event);\n                    predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, currentContext, _event);\n                    return resolved;\n                }\n            case _actionTypes_js__WEBPACK_IMPORTED_MODULE_0__.assign:\n                {\n                    updatedContext = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.updateContext)(updatedContext, _event, [\n                        actionObject\n                    ], !predictableExec ? currentState : undefined);\n                    preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n                    break;\n                }\n            default:\n                var resolvedActionObject = toActionObject(actionObject, machine.options.actions);\n                var exec_1 = resolvedActionObject.exec;\n                if (predictableExec) {\n                    predictableExec(resolvedActionObject, updatedContext, _event);\n                } else if (exec_1 && preservedContexts) {\n                    var contextIndex_1 = preservedContexts.length - 1;\n                    var wrapped = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__assign)({}, resolvedActionObject), {\n                        exec: function(_ctx) {\n                            var args = [];\n                            for(var _i = 1; _i < arguments.length; _i++){\n                                args[_i - 1] = arguments[_i];\n                            }\n                            exec_1.apply(void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__spreadArray)([\n                                preservedContexts[contextIndex_1]\n                            ], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__read)(args), false));\n                        }\n                    });\n                    resolvedActionObject = wrapped;\n                }\n                return resolvedActionObject;\n        }\n    }\n    function processBlock(block) {\n        var e_2, _a;\n        var resolvedActions = [];\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_2__.__values)(block.actions), _c = _b.next(); !_c.done; _c = _b.next()){\n                var action = _c.value;\n                var resolved = handleAction(block.type, action);\n                if (resolved) {\n                    resolvedActions = resolvedActions.concat(resolved);\n                }\n            }\n        } catch (e_2_1) {\n            e_2 = {\n                error: e_2_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_2) throw e_2.error;\n            }\n        }\n        deferredToBlockEnd.forEach(function(action) {\n            predictableExec(action, updatedContext, _event);\n        });\n        deferredToBlockEnd.length = 0;\n        return resolvedActions;\n    }\n    var resolvedActions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.flatten)(actionBlocks.map(processBlock));\n    return [\n        resolvedActions,\n        updatedContext\n    ];\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2FjdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlGO0FBQ3hCO0FBQ3FKO0FBQzlKO0FBQ3pCO0FBQzhJO0FBQ3BIO0FBRWpELElBQUl3QyxZQUFZLFdBQVcsR0FBRWIsdURBQVlBLENBQUM7SUFDeENjLE1BQU1uQyxpREFBSUE7QUFDWjtBQUNBLFNBQVNvQyxrQkFBa0JDLFVBQVUsRUFBRUMsaUJBQWlCO0lBQ3RELE9BQU9BLG9CQUFvQkEsaUJBQWlCLENBQUNELFdBQVcsSUFBSUUsWUFBWUE7QUFDMUU7QUFDQSxTQUFTQyxlQUFlQyxNQUFNLEVBQUVILGlCQUFpQjtJQUMvQyxJQUFJSTtJQUVKLElBQUlwQixtREFBUUEsQ0FBQ21CLFdBQVcsT0FBT0EsV0FBVyxVQUFVO1FBQ2xELElBQUlFLE9BQU9QLGtCQUFrQkssUUFBUUg7UUFFckMsSUFBSWYscURBQVVBLENBQUNvQixPQUFPO1lBQ3BCRCxlQUFlO2dCQUNiUCxNQUFNTTtnQkFDTkUsTUFBTUE7WUFDUjtRQUNGLE9BQU8sSUFBSUEsTUFBTTtZQUNmRCxlQUFlQztRQUNqQixPQUFPO1lBQ0xELGVBQWU7Z0JBQ2JQLE1BQU1NO2dCQUNORSxNQUFNSjtZQUNSO1FBQ0Y7SUFDRixPQUFPLElBQUloQixxREFBVUEsQ0FBQ2tCLFNBQVM7UUFDN0JDLGVBQWU7WUFDYixzQ0FBc0M7WUFDdENQLE1BQU1NLE9BQU9HLElBQUksSUFBSUgsT0FBT0ksUUFBUTtZQUNwQ0YsTUFBTUY7UUFDUjtJQUNGLE9BQU87UUFDTCxJQUFJRSxPQUFPUCxrQkFBa0JLLE9BQU9OLElBQUksRUFBRUc7UUFFMUMsSUFBSWYscURBQVVBLENBQUNvQixPQUFPO1lBQ3BCRCxlQUFlaEQsMkRBQVFBLENBQUNBLDJEQUFRQSxDQUFDLENBQUMsR0FBRytDLFNBQVM7Z0JBQzVDRSxNQUFNQTtZQUNSO1FBQ0YsT0FBTyxJQUFJ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QUN6QixJQUFJMkMsS0FBS2pHO1FBRVQsSUFBSWtHLGtCQUFrQixFQUFFO1FBRXhCLElBQUk7WUFDRixJQUFLLElBQUliLEtBQUtuSywyREFBUUEsQ0FBQ29JLE1BQU1sRixPQUFPLEdBQUdvSCxLQUFLSCxHQUFHaEMsSUFBSSxJQUFJLENBQUNtQyxHQUFHL0QsSUFBSSxFQUFFK0QsS0FBS0gsR0FBR2hDLElBQUksR0FBSTtnQkFDL0UsSUFBSXZGLFNBQVMwSCxHQUFHakYsS0FBSztnQkFDckIsSUFBSXNFLFdBQVdQLGFBQWFoQixNQUFNOUYsSUFBSSxFQUFFTTtnQkFFeEMsSUFBSStHLFVBQVU7b0JBQ1pxQixrQkFBa0JBLGdCQUFnQjNFLE1BQU0sQ0FBQ3NEO2dCQUMzQztZQUNGO1FBQ0YsRUFBRSxPQUFPc0IsT0FBTztZQUNkRixNQUFNO2dCQUNKaEssT0FBT2tLO1lBQ1Q7UUFDRixTQUFVO1lBQ1IsSUFBSTtnQkFDRixJQUFJWCxNQUFNLENBQUNBLEdBQUcvRCxJQUFJLElBQUt6QixDQUFBQSxLQUFLcUYsR0FBRzFCLE1BQU0sR0FBRzNELEdBQUc0RCxJQUFJLENBQUN5QjtZQUNsRCxTQUFVO2dCQUNSLElBQUlZLEtBQUssTUFBTUEsSUFBSWhLLEtBQUs7WUFDMUI7UUFDRjtRQUVBb0ksbUJBQW1CK0IsT0FBTyxDQUFDLFNBQVV0SSxNQUFNO1lBQ3pDbUcsZ0JBQWdCbkcsUUFBUXFHLGdCQUFnQnJGO1FBQzFDO1FBQ0F1RixtQkFBbUI3QixNQUFNLEdBQUc7UUFDNUIsT0FBTzBEO0lBQ1Q7SUFFQSxJQUFJQSxrQkFBa0JsSixrREFBT0EsQ0FBQ2dHLGFBQWEzRSxHQUFHLENBQUMySDtJQUMvQyxPQUFPO1FBQUNFO1FBQWlCL0I7S0FBZTtBQUMxQztBQUU4VSIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1ncmlkLTIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2FjdGlvbnMuanM/NmM5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2Fzc2lnbiwgX19zcHJlYWRBcnJheSwgX19yZWFkLCBfX3ZhbHVlcyB9IGZyb20gJy4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IFNwZWNpYWxUYXJnZXRzLCBBY3Rpb25UeXBlcyB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgaW5pdCwgcmFpc2UgYXMgcmFpc2UkMSwgc2VuZCBhcyBzZW5kJDEsIHVwZGF0ZSwgbG9nIGFzIGxvZyQxLCBjYW5jZWwgYXMgY2FuY2VsJDEsIGFzc2lnbiBhcyBhc3NpZ24kMSwgZXJyb3IgYXMgZXJyb3IkMSwgc3RvcCBhcyBzdG9wJDEsIHB1cmUgYXMgcHVyZSQxLCBjaG9vc2UgYXMgY2hvb3NlJDEgfSBmcm9tICcuL2FjdGlvblR5cGVzLmpzJztcbmltcG9ydCAqIGFzIGFjdGlvblR5cGVzIGZyb20gJy4vYWN0aW9uVHlwZXMuanMnO1xuZXhwb3J0IHsgYWN0aW9uVHlwZXMgfTtcbmltcG9ydCB7IHRvU0NYTUxFdmVudCwgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIHRvRXZlbnRPYmplY3QsIGdldEV2ZW50VHlwZSwgdXBkYXRlQ29udGV4dCwgZmxhdHRlbiwgaXNBcnJheSwgdG9BcnJheSwgdG9HdWFyZCwgZXZhbHVhdGVHdWFyZCwgd2FybiB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgSVNfUFJPRFVDVElPTiB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuXG52YXIgaW5pdEV2ZW50ID0gLyojX19QVVJFX18qL3RvU0NYTUxFdmVudCh7XG4gIHR5cGU6IGluaXRcbn0pO1xuZnVuY3Rpb24gZ2V0QWN0aW9uRnVuY3Rpb24oYWN0aW9uVHlwZSwgYWN0aW9uRnVuY3Rpb25NYXApIHtcbiAgcmV0dXJuIGFjdGlvbkZ1bmN0aW9uTWFwID8gYWN0aW9uRnVuY3Rpb25NYXBbYWN0aW9uVHlwZV0gfHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gdG9BY3Rpb25PYmplY3QoYWN0aW9uLCBhY3Rpb25GdW5jdGlvbk1hcCkge1xuICB2YXIgYWN0aW9uT2JqZWN0O1xuXG4gIGlmIChpc1N0cmluZyhhY3Rpb24pIHx8IHR5cGVvZiBhY3Rpb24gPT09ICdudW1iZXInKSB7XG4gICAgdmFyIGV4ZWMgPSBnZXRBY3Rpb25GdW5jdGlvbihhY3Rpb24sIGFjdGlvbkZ1bmN0aW9uTWFwKTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV4ZWMpKSB7XG4gICAgICBhY3Rpb25PYmplY3QgPSB7XG4gICAgICAgIHR5cGU6IGFjdGlvbixcbiAgICAgICAgZXhlYzogZXhlY1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGV4ZWMpIHtcbiAgICAgIGFjdGlvbk9iamVjdCA9IGV4ZWM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGlvbk9iamVjdCA9IHtcbiAgICAgICAgdHlwZTogYWN0aW9uLFxuICAgICAgICBleGVjOiB1bmRlZmluZWRcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oYWN0aW9uKSkge1xuICAgIGFjdGlvbk9iamVjdCA9IHtcbiAgICAgIC8vIENvbnZlcnQgYWN0aW9uIHRvIHN0cmluZyBpZiB1bm5hbWVkXG4gICAgICB0eXBlOiBhY3Rpb24ubmFtZSB8fCBhY3Rpb24udG9TdHJpbmcoKSxcbiAgICAgIGV4ZWM6IGFjdGlvblxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmFyIGV4ZWMgPSBnZXRBY3Rpb25GdW5jdGlvbihhY3Rpb24udHlwZSwgYWN0aW9uRnVuY3Rpb25NYXApO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXhlYykpIHtcbiAgICAgIGFjdGlvbk9iamVjdCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBhY3Rpb24pLCB7XG4gICAgICAgIGV4ZWM6IGV4ZWNcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoZXhlYykge1xuICAgICAgdmFyIGFjdGlvblR5cGUgPSBleGVjLnR5cGUgfHwgYWN0aW9uLnR5cGU7XG4gICAgICBhY3Rpb25PYmplY3QgPSBfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZXhlYyksIGFjdGlvbiksIHtcbiAgICAgICAgdHlwZTogYWN0aW9uVHlwZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGlvbk9iamVjdCA9IGFjdGlvbjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYWN0aW9uT2JqZWN0O1xufVxudmFyIHRvQWN0aW9uT2JqZWN0cyA9IGZ1bmN0aW9uIChhY3Rpb24sIGFjdGlvbkZ1bmN0aW9uTWFwKSB7XG4gIGlmICghYWN0aW9uKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgdmFyIGFjdGlvbnMgPSBpc0FycmF5KGFjdGlvbikgPyBhY3Rpb24gOiBbYWN0aW9uXTtcbiAgcmV0dXJuIGFjdGlvbnMubWFwKGZ1bmN0aW9uIChzdWJBY3Rpb24pIHtcbiAgICByZXR1cm4gdG9BY3Rpb25PYmplY3Qoc3ViQWN0aW9uLCBhY3Rpb25GdW5jdGlvbk1hcCk7XG4gIH0pO1xufTtcbmZ1bmN0aW9uIHRvQWN0aXZpdHlEZWZpbml0aW9uKGFjdGlvbikge1xuICB2YXIgYWN0aW9uT2JqZWN0ID0gdG9BY3Rpb25PYmplY3QoYWN0aW9uKTtcbiAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHtcbiAgICBpZDogaXNTdHJpbmcoYWN0aW9uKSA/IGFjdGlvbiA6IGFjdGlvbk9iamVjdC5pZFxuICB9LCBhY3Rpb25PYmplY3QpLCB7XG4gICAgdHlwZTogYWN0aW9uT2JqZWN0LnR5cGVcbiAgfSk7XG59XG4vKipcclxuICogUmFpc2VzIGFuIGV2ZW50LiBUaGlzIHBsYWNlcyB0aGUgZXZlbnQgaW4gdGhlIGludGVybmFsIGV2ZW50IHF1ZXVlLCBzbyB0aGF0XHJcbiAqIHRoZSBldmVudCBpcyBpbW1lZGlhdGVseSBjb25zdW1lZCBieSB0aGUgbWFjaGluZSBpbiB0aGUgY3VycmVudCBzdGVwLlxyXG4gKlxyXG4gKiBAcGFyYW0gZXZlbnRUeXBlIFRoZSBldmVudCB0byByYWlzZS5cclxuICovXG5cbmZ1bmN0aW9uIHJhaXNlKGV2ZW50LCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogcmFpc2UkMSxcbiAgICBldmVudDogdHlwZW9mIGV2ZW50ID09PSAnZnVuY3Rpb24nID8gZXZlbnQgOiB0b0V2ZW50T2JqZWN0KGV2ZW50KSxcbiAgICBkZWxheTogb3B0aW9ucyA/IG9wdGlvbnMuZGVsYXkgOiB1bmRlZmluZWQsXG4gICAgaWQ6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5pZFxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVJhaXNlKGFjdGlvbiwgY3R4LCBfZXZlbnQsIGRlbGF5c01hcCkge1xuICB2YXIgbWV0YSA9IHtcbiAgICBfZXZlbnQ6IF9ldmVudFxuICB9O1xuICB2YXIgcmVzb2x2ZWRFdmVudCA9IHRvU0NYTUxFdmVudChpc0Z1bmN0aW9uKGFjdGlvbi5ldmVudCkgPyBhY3Rpb24uZXZlbnQoY3R4LCBfZXZlbnQuZGF0YSwgbWV0YSkgOiBhY3Rpb24uZXZlbnQpO1xuICB2YXIgcmVzb2x2ZWREZWxheTtcblxuICBpZiAoaXNTdHJpbmcoYWN0aW9uLmRlbGF5KSkge1xuICAgIHZhciBjb25maWdEZWxheSA9IGRlbGF5c01hcCAmJiBkZWxheXNNYXBbYWN0aW9uLmRlbGF5XTtcbiAgICByZXNvbHZlZERlbGF5ID0gaXNGdW5jdGlvbihjb25maWdEZWxheSkgPyBjb25maWdEZWxheShjdHgsIF9ldmVudC5kYXRhLCBtZXRhKSA6IGNvbmZpZ0RlbGF5O1xuICB9IGVsc2Uge1xuICAgIHJlc29sdmVkRGVsYXkgPSBpc0Z1bmN0aW9uKGFjdGlvbi5kZWxheSkgPyBhY3Rpb24uZGVsYXkoY3R4LCBfZXZlbnQuZGF0YSwgbWV0YSkgOiBhY3Rpb24uZGVsYXk7XG4gIH1cblxuICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGlvbiksIHtcbiAgICB0eXBlOiByYWlzZSQxLFxuICAgIF9ldmVudDogcmVzb2x2ZWRFdmVudCxcbiAgICBkZWxheTogcmVzb2x2ZWREZWxheVxuICB9KTtcbn1cbi8qKlxyXG4gKiBTZW5kcyBhbiBldmVudC4gVGhpcyByZXR1cm5zIGFuIGFjdGlvbiB0aGF0IHdpbGwgYmUgcmVhZCBieSBhbiBpbnRlcnByZXRlciB0b1xyXG4gKiBzZW5kIHRoZSBldmVudCBpbiB0aGUgbmV4dCBzdGVwLCBhZnRlciB0aGUgY3VycmVudCBzdGVwIGlzIGZpbmlzaGVkIGV4ZWN1dGluZy5cclxuICpcclxuICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBgc2VuZFRvKC4uLilgIGFjdGlvbiBjcmVhdG9yIGluc3RlYWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gc2VuZC5cclxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyB0byBwYXNzIGludG8gdGhlIHNlbmQgZXZlbnQ6XHJcbiAqICAtIGBpZGAgLSBUaGUgdW5pcXVlIHNlbmQgZXZlbnQgaWRlbnRpZmllciAodXNlZCB3aXRoIGBjYW5jZWwoKWApLlxyXG4gKiAgLSBgZGVsYXlgIC0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgdGhlIHNlbmRpbmcgb2YgdGhlIGV2ZW50LlxyXG4gKiAgLSBgdG9gIC0gVGhlIHRhcmdldCBvZiB0aGlzIGV2ZW50IChieSBkZWZhdWx0LCB0aGUgbWFjaGluZSB0aGUgZXZlbnQgd2FzIHNlbnQgZnJvbSkuXHJcbiAqL1xuXG5mdW5jdGlvbiBzZW5kKGV2ZW50LCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdG86IG9wdGlvbnMgPyBvcHRpb25zLnRvIDogdW5kZWZpbmVkLFxuICAgIHR5cGU6IHNlbmQkMSxcbiAgICBldmVudDogaXNGdW5jdGlvbihldmVudCkgPyBldmVudCA6IHRvRXZlbnRPYmplY3QoZXZlbnQpLFxuICAgIGRlbGF5OiBvcHRpb25zID8gb3B0aW9ucy5kZWxheSA6IHVuZGVmaW5lZCxcbiAgICAvLyBUT0RPOiBkb24ndCBhdXRvLWdlbmVyYXRlIElEcyBoZXJlIGxpa2UgdGhhdFxuICAgIC8vIHRoZXJlIGlzIHRvbyBiaWcgY2hhbmNlIG9mIHRoZSBJRCBjb2xsaXNpb25cbiAgICBpZDogb3B0aW9ucyAmJiBvcHRpb25zLmlkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmlkIDogaXNGdW5jdGlvbihldmVudCkgPyBldmVudC5uYW1lIDogZ2V0RXZlbnRUeXBlKGV2ZW50KVxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVNlbmQoYWN0aW9uLCBjdHgsIF9ldmVudCwgZGVsYXlzTWFwKSB7XG4gIHZhciBtZXRhID0ge1xuICAgIF9ldmVudDogX2V2ZW50XG4gIH07IC8vIFRPRE86IGhlbHBlciBmdW5jdGlvbiBmb3IgcmVzb2x2aW5nIEV4cHJcblxuICB2YXIgcmVzb2x2ZWRFdmVudCA9IHRvU0NYTUxFdmVudChpc0Z1bmN0aW9uKGFjdGlvbi5ldmVudCkgPyBhY3Rpb24uZXZlbnQoY3R4LCBfZXZlbnQuZGF0YSwgbWV0YSkgOiBhY3Rpb24uZXZlbnQpO1xuICB2YXIgcmVzb2x2ZWREZWxheTtcblxuICBpZiAoaXNTdHJpbmcoYWN0aW9uLmRlbGF5KSkge1xuICAgIHZhciBjb25maWdEZWxheSA9IGRlbGF5c01hcCAmJiBkZWxheXNNYXBbYWN0aW9uLmRlbGF5XTtcbiAgICByZXNvbHZlZERlbGF5ID0gaXNGdW5jdGlvbihjb25maWdEZWxheSkgPyBjb25maWdEZWxheShjdHgsIF9ldmVudC5kYXRhLCBtZXRhKSA6IGNvbmZpZ0RlbGF5O1xuICB9IGVsc2Uge1xuICAgIHJlc29sdmVkRGVsYXkgPSBpc0Z1bmN0aW9uKGFjdGlvbi5kZWxheSkgPyBhY3Rpb24uZGVsYXkoY3R4LCBfZXZlbnQuZGF0YSwgbWV0YSkgOiBhY3Rpb24uZGVsYXk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZWRUYXJnZXQgPSBpc0Z1bmN0aW9uKGFjdGlvbi50bykgPyBhY3Rpb24udG8oY3R4LCBfZXZlbnQuZGF0YSwgbWV0YSkgOiBhY3Rpb24udG87XG4gIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYWN0aW9uKSwge1xuICAgIHRvOiByZXNvbHZlZFRhcmdldCxcbiAgICBfZXZlbnQ6IHJlc29sdmVkRXZlbnQsXG4gICAgZXZlbnQ6IHJlc29sdmVkRXZlbnQuZGF0YSxcbiAgICBkZWxheTogcmVzb2x2ZWREZWxheVxuICB9KTtcbn1cbi8qKlxyXG4gKiBTZW5kcyBhbiBldmVudCB0byB0aGlzIG1hY2hpbmUncyBwYXJlbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gc2VuZCB0byB0aGUgcGFyZW50IG1hY2hpbmUuXHJcbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgdG8gcGFzcyBpbnRvIHRoZSBzZW5kIGV2ZW50LlxyXG4gKi9cblxuZnVuY3Rpb24gc2VuZFBhcmVudChldmVudCwgb3B0aW9ucykge1xuICByZXR1cm4gc2VuZChldmVudCwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7XG4gICAgdG86IFNwZWNpYWxUYXJnZXRzLlBhcmVudFxuICB9KSk7XG59XG4vKipcclxuICogU2VuZHMgYW4gZXZlbnQgdG8gYW4gYWN0b3IuXHJcbiAqXHJcbiAqIEBwYXJhbSBhY3RvciBUaGUgYEFjdG9yUmVmYCB0byBzZW5kIHRoZSBldmVudCB0by5cclxuICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byBzZW5kLCBvciBhbiBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIHRoZSBldmVudCB0byBzZW5kXHJcbiAqIEBwYXJhbSBvcHRpb25zIFNlbmQgYWN0aW9uIG9wdGlvbnNcclxuICogQHJldHVybnMgQW4gWFN0YXRlIHNlbmQgYWN0aW9uIG9iamVjdFxyXG4gKi9cblxuZnVuY3Rpb24gc2VuZFRvKGFjdG9yLCBldmVudCwgb3B0aW9ucykge1xuICByZXR1cm4gc2VuZChldmVudCwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7XG4gICAgdG86IGFjdG9yXG4gIH0pKTtcbn1cbi8qKlxyXG4gKiBTZW5kcyBhbiB1cGRhdGUgZXZlbnQgdG8gdGhpcyBtYWNoaW5lJ3MgcGFyZW50LlxyXG4gKi9cblxuZnVuY3Rpb24gc2VuZFVwZGF0ZSgpIHtcbiAgcmV0dXJuIHNlbmRQYXJlbnQodXBkYXRlKTtcbn1cbi8qKlxyXG4gKiBTZW5kcyBhbiBldmVudCBiYWNrIHRvIHRoZSBzZW5kZXIgb2YgdGhlIG9yaWdpbmFsIGV2ZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHRvIHNlbmQgYmFjayB0byB0aGUgc2VuZGVyXHJcbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgdG8gcGFzcyBpbnRvIHRoZSBzZW5kIGV2ZW50XHJcbiAqL1xuXG5mdW5jdGlvbiByZXNwb25kKGV2ZW50LCBvcHRpb25zKSB7XG4gIHJldHVybiBzZW5kKGV2ZW50LCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHtcbiAgICB0bzogZnVuY3Rpb24gKF8sIF9fLCBfYSkge1xuICAgICAgdmFyIF9ldmVudCA9IF9hLl9ldmVudDtcbiAgICAgIHJldHVybiBfZXZlbnQub3JpZ2luOyAvLyBUT0RPOiBoYW5kbGUgd2hlbiBfZXZlbnQub3JpZ2luIGlzIHVuZGVmaW5lZFxuICAgIH1cbiAgfSkpO1xufVxuXG52YXIgZGVmYXVsdExvZ0V4cHIgPSBmdW5jdGlvbiAoY29udGV4dCwgZXZlbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgIGV2ZW50OiBldmVudFxuICB9O1xufTtcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gZXhwciBUaGUgZXhwcmVzc2lvbiBmdW5jdGlvbiB0byBldmFsdWF0ZSB3aGljaCB3aWxsIGJlIGxvZ2dlZC5cclxuICogIFRha2VzIGluIDIgYXJndW1lbnRzOlxyXG4gKiAgLSBgY3R4YCAtIHRoZSBjdXJyZW50IHN0YXRlIGNvbnRleHRcclxuICogIC0gYGV2ZW50YCAtIHRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICogQHBhcmFtIGxhYmVsIFRoZSBsYWJlbCB0byBnaXZlIHRvIHRoZSBsb2dnZWQgZXhwcmVzc2lvbi5cclxuICovXG5cblxuZnVuY3Rpb24gbG9nKGV4cHIsIGxhYmVsKSB7XG4gIGlmIChleHByID09PSB2b2lkIDApIHtcbiAgICBleHByID0gZGVmYXVsdExvZ0V4cHI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHR5cGU6IGxvZyQxLFxuICAgIGxhYmVsOiBsYWJlbCxcbiAgICBleHByOiBleHByXG4gIH07XG59XG52YXIgcmVzb2x2ZUxvZyA9IGZ1bmN0aW9uIChhY3Rpb24sIGN0eCwgX2V2ZW50KSB7XG4gIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYWN0aW9uKSwge1xuICAgIHZhbHVlOiBpc1N0cmluZyhhY3Rpb24uZXhwcikgPyBhY3Rpb24uZXhwciA6IGFjdGlvbi5leHByKGN0eCwgX2V2ZW50LmRhdGEsIHtcbiAgICAgIF9ldmVudDogX2V2ZW50XG4gICAgfSlcbiAgfSk7XG59O1xuLyoqXHJcbiAqIENhbmNlbHMgYW4gaW4tZmxpZ2h0IGBzZW5kKC4uLilgIGFjdGlvbi4gQSBjYW5jZWxlZCBzZW50IGFjdGlvbiB3aWxsIG5vdFxyXG4gKiBiZSBleGVjdXRlZCwgbm9yIHdpbGwgaXRzIGV2ZW50IGJlIHNlbnQsIHVubGVzcyBpdCBoYXMgYWxyZWFkeSBiZWVuIHNlbnRcclxuICogKGUuZy4sIGlmIGBjYW5jZWwoLi4uKWAgaXMgY2FsbGVkIGFmdGVyIHRoZSBgc2VuZCguLi4pYCBhY3Rpb24ncyBgZGVsYXlgKS5cclxuICpcclxuICogQHBhcmFtIHNlbmRJZCBUaGUgYGlkYCBvZiB0aGUgYHNlbmQoLi4uKWAgYWN0aW9uIHRvIGNhbmNlbC5cclxuICovXG5cbnZhciBjYW5jZWwgPSBmdW5jdGlvbiAoc2VuZElkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogY2FuY2VsJDEsXG4gICAgc2VuZElkOiBzZW5kSWRcbiAgfTtcbn07XG4vKipcclxuICogU3RhcnRzIGFuIGFjdGl2aXR5LlxyXG4gKlxyXG4gKiBAcGFyYW0gYWN0aXZpdHkgVGhlIGFjdGl2aXR5IHRvIHN0YXJ0LlxyXG4gKi9cblxuZnVuY3Rpb24gc3RhcnQoYWN0aXZpdHkpIHtcbiAgdmFyIGFjdGl2aXR5RGVmID0gdG9BY3Rpdml0eURlZmluaXRpb24oYWN0aXZpdHkpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLlN0YXJ0LFxuICAgIGFjdGl2aXR5OiBhY3Rpdml0eURlZixcbiAgICBleGVjOiB1bmRlZmluZWRcbiAgfTtcbn1cbi8qKlxyXG4gKiBTdG9wcyBhbiBhY3Rpdml0eS5cclxuICpcclxuICogQHBhcmFtIGFjdG9yUmVmIFRoZSBhY3Rpdml0eSB0byBzdG9wLlxyXG4gKi9cblxuZnVuY3Rpb24gc3RvcChhY3RvclJlZikge1xuICB2YXIgYWN0aXZpdHkgPSBpc0Z1bmN0aW9uKGFjdG9yUmVmKSA/IGFjdG9yUmVmIDogdG9BY3Rpdml0eURlZmluaXRpb24oYWN0b3JSZWYpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLlN0b3AsXG4gICAgYWN0aXZpdHk6IGFjdGl2aXR5LFxuICAgIGV4ZWM6IHVuZGVmaW5lZFxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVN0b3AoYWN0aW9uLCBjb250ZXh0LCBfZXZlbnQpIHtcbiAgdmFyIGFjdG9yUmVmT3JTdHJpbmcgPSBpc0Z1bmN0aW9uKGFjdGlvbi5hY3Rpdml0eSkgPyBhY3Rpb24uYWN0aXZpdHkoY29udGV4dCwgX2V2ZW50LmRhdGEpIDogYWN0aW9uLmFjdGl2aXR5O1xuICB2YXIgcmVzb2x2ZWRBY3RvclJlZiA9IHR5cGVvZiBhY3RvclJlZk9yU3RyaW5nID09PSAnc3RyaW5nJyA/IHtcbiAgICBpZDogYWN0b3JSZWZPclN0cmluZ1xuICB9IDogYWN0b3JSZWZPclN0cmluZztcbiAgdmFyIGFjdGlvbk9iamVjdCA9IHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5TdG9wLFxuICAgIGFjdGl2aXR5OiByZXNvbHZlZEFjdG9yUmVmXG4gIH07XG4gIHJldHVybiBhY3Rpb25PYmplY3Q7XG59XG4vKipcclxuICogVXBkYXRlcyB0aGUgY3VycmVudCBjb250ZXh0IG9mIHRoZSBtYWNoaW5lLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXNzaWdubWVudCBBbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBwYXJ0aWFsIGNvbnRleHQgdG8gdXBkYXRlLlxyXG4gKi9cblxudmFyIGFzc2lnbiA9IGZ1bmN0aW9uIChhc3NpZ25tZW50KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogYXNzaWduJDEsXG4gICAgYXNzaWdubWVudDogYXNzaWdubWVudFxuICB9O1xufTtcbmZ1bmN0aW9uIGlzQWN0aW9uT2JqZWN0KGFjdGlvbikge1xuICByZXR1cm4gdHlwZW9mIGFjdGlvbiA9PT0gJ29iamVjdCcgJiYgJ3R5cGUnIGluIGFjdGlvbjtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGV2ZW50IHR5cGUgdGhhdCByZXByZXNlbnRzIGFuIGltcGxpY2l0IGV2ZW50IHRoYXRcclxuICogaXMgc2VudCBhZnRlciB0aGUgc3BlY2lmaWVkIGBkZWxheWAuXHJcbiAqXHJcbiAqIEBwYXJhbSBkZWxheVJlZiBUaGUgZGVsYXkgaW4gbWlsbGlzZWNvbmRzXHJcbiAqIEBwYXJhbSBpZCBUaGUgc3RhdGUgbm9kZSBJRCB3aGVyZSB0aGlzIGV2ZW50IGlzIGhhbmRsZWRcclxuICovXG5cbmZ1bmN0aW9uIGFmdGVyKGRlbGF5UmVmLCBpZCkge1xuICB2YXIgaWRTdWZmaXggPSBpZCA/IFwiI1wiLmNvbmNhdChpZCkgOiAnJztcbiAgcmV0dXJuIFwiXCIuY29uY2F0KEFjdGlvblR5cGVzLkFmdGVyLCBcIihcIikuY29uY2F0KGRlbGF5UmVmLCBcIilcIikuY29uY2F0KGlkU3VmZml4KTtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGV2ZW50IHRoYXQgcmVwcmVzZW50cyB0aGF0IGEgZmluYWwgc3RhdGUgbm9kZVxyXG4gKiBoYXMgYmVlbiByZWFjaGVkIGluIHRoZSBwYXJlbnQgc3RhdGUgbm9kZS5cclxuICpcclxuICogQHBhcmFtIGlkIFRoZSBmaW5hbCBzdGF0ZSBub2RlJ3MgcGFyZW50IHN0YXRlIG5vZGUgYGlkYFxyXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBwYXNzIGludG8gdGhlIGV2ZW50XHJcbiAqL1xuXG5mdW5jdGlvbiBkb25lKGlkLCBkYXRhKSB7XG4gIHZhciB0eXBlID0gXCJcIi5jb25jYXQoQWN0aW9uVHlwZXMuRG9uZVN0YXRlLCBcIi5cIikuY29uY2F0KGlkKTtcbiAgdmFyIGV2ZW50T2JqZWN0ID0ge1xuICAgIHR5cGU6IHR5cGUsXG4gICAgZGF0YTogZGF0YVxuICB9O1xuXG4gIGV2ZW50T2JqZWN0LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0eXBlO1xuICB9O1xuXG4gIHJldHVybiBldmVudE9iamVjdDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGV2ZW50IHRoYXQgcmVwcmVzZW50cyB0aGF0IGFuIGludm9rZWQgc2VydmljZSBoYXMgdGVybWluYXRlZC5cclxuICpcclxuICogQW4gaW52b2tlZCBzZXJ2aWNlIGlzIHRlcm1pbmF0ZWQgd2hlbiBpdCBoYXMgcmVhY2hlZCBhIHRvcC1sZXZlbCBmaW5hbCBzdGF0ZSBub2RlLFxyXG4gKiBidXQgbm90IHdoZW4gaXQgaXMgY2FuY2VsZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBpZCBUaGUgZmluYWwgc3RhdGUgbm9kZSBJRFxyXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBwYXNzIGludG8gdGhlIGV2ZW50XHJcbiAqL1xuXG5mdW5jdGlvbiBkb25lSW52b2tlKGlkLCBkYXRhKSB7XG4gIHZhciB0eXBlID0gXCJcIi5jb25jYXQoQWN0aW9uVHlwZXMuRG9uZUludm9rZSwgXCIuXCIpLmNvbmNhdChpZCk7XG4gIHZhciBldmVudE9iamVjdCA9IHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIGRhdGE6IGRhdGFcbiAgfTtcblxuICBldmVudE9iamVjdC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfTtcblxuICByZXR1cm4gZXZlbnRPYmplY3Q7XG59XG5mdW5jdGlvbiBlcnJvcihpZCwgZGF0YSkge1xuICB2YXIgdHlwZSA9IFwiXCIuY29uY2F0KEFjdGlvblR5cGVzLkVycm9yUGxhdGZvcm0sIFwiLlwiKS5jb25jYXQoaWQpO1xuICB2YXIgZXZlbnRPYmplY3QgPSB7XG4gICAgdHlwZTogdHlwZSxcbiAgICBkYXRhOiBkYXRhXG4gIH07XG5cbiAgZXZlbnRPYmplY3QudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH07XG5cbiAgcmV0dXJuIGV2ZW50T2JqZWN0O1xufVxuZnVuY3Rpb24gcHVyZShnZXRBY3Rpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuUHVyZSxcbiAgICBnZXQ6IGdldEFjdGlvbnNcbiAgfTtcbn1cbi8qKlxyXG4gKiBGb3J3YXJkcyAoc2VuZHMpIGFuIGV2ZW50IHRvIGEgc3BlY2lmaWVkIHNlcnZpY2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBzZXJ2aWNlIHRvIGZvcndhcmQgdGhlIGV2ZW50IHRvLlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIHRvIHBhc3MgaW50byB0aGUgc2VuZCBhY3Rpb24gY3JlYXRvci5cclxuICovXG5cbmZ1bmN0aW9uIGZvcndhcmRUbyh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgaWYgKCFJU19QUk9EVUNUSU9OICYmICghdGFyZ2V0IHx8IHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgdmFyIG9yaWdpbmFsVGFyZ2V0XzEgPSB0YXJnZXQ7XG5cbiAgICB0YXJnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICB9XG5cbiAgICAgIHZhciByZXNvbHZlZFRhcmdldCA9IHR5cGVvZiBvcmlnaW5hbFRhcmdldF8xID09PSAnZnVuY3Rpb24nID8gb3JpZ2luYWxUYXJnZXRfMS5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSwgZmFsc2UpKSA6IG9yaWdpbmFsVGFyZ2V0XzE7XG5cbiAgICAgIGlmICghcmVzb2x2ZWRUYXJnZXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGZvcndhcmQgZXZlbnQgdG8gdW5kZWZpbmVkIGFjdG9yLiBUaGlzIHJpc2tzIGFuIGluZmluaXRlIGxvb3AgaW4gdGhlIHNlbmRlci5cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNvbHZlZFRhcmdldDtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHNlbmQoZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9LCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHtcbiAgICB0bzogdGFyZ2V0XG4gIH0pKTtcbn1cbi8qKlxyXG4gKiBFc2NhbGF0ZXMgYW4gZXJyb3IgYnkgc2VuZGluZyBpdCBhcyBhbiBldmVudCB0byB0aGlzIG1hY2hpbmUncyBwYXJlbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSBlcnJvckRhdGEgVGhlIGVycm9yIGRhdGEgdG8gc2VuZCwgb3IgdGhlIGV4cHJlc3Npb24gZnVuY3Rpb24gdGhhdFxyXG4gKiB0YWtlcyBpbiB0aGUgYGNvbnRleHRgLCBgZXZlbnRgLCBhbmQgYG1ldGFgLCBhbmQgcmV0dXJucyB0aGUgZXJyb3IgZGF0YSB0byBzZW5kLlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIHRvIHBhc3MgaW50byB0aGUgc2VuZCBhY3Rpb24gY3JlYXRvci5cclxuICovXG5cbmZ1bmN0aW9uIGVzY2FsYXRlKGVycm9yRGF0YSwgb3B0aW9ucykge1xuICByZXR1cm4gc2VuZFBhcmVudChmdW5jdGlvbiAoY29udGV4dCwgZXZlbnQsIG1ldGEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogZXJyb3IkMSxcbiAgICAgIGRhdGE6IGlzRnVuY3Rpb24oZXJyb3JEYXRhKSA/IGVycm9yRGF0YShjb250ZXh0LCBldmVudCwgbWV0YSkgOiBlcnJvckRhdGFcbiAgICB9O1xuICB9LCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHtcbiAgICB0bzogU3BlY2lhbFRhcmdldHMuUGFyZW50XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIGNob29zZShjb25kcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLkNob29zZSxcbiAgICBjb25kczogY29uZHNcbiAgfTtcbn1cblxudmFyIHBsdWNrQXNzaWducyA9IGZ1bmN0aW9uIChhY3Rpb25CbG9ja3MpIHtcbiAgdmFyIGVfMSwgX2E7XG5cbiAgdmFyIGFzc2lnbkFjdGlvbnMgPSBbXTtcblxuICB0cnkge1xuICAgIGZvciAodmFyIGFjdGlvbkJsb2Nrc18xID0gX192YWx1ZXMoYWN0aW9uQmxvY2tzKSwgYWN0aW9uQmxvY2tzXzFfMSA9IGFjdGlvbkJsb2Nrc18xLm5leHQoKTsgIWFjdGlvbkJsb2Nrc18xXzEuZG9uZTsgYWN0aW9uQmxvY2tzXzFfMSA9IGFjdGlvbkJsb2Nrc18xLm5leHQoKSkge1xuICAgICAgdmFyIGJsb2NrID0gYWN0aW9uQmxvY2tzXzFfMS52YWx1ZTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgd2hpbGUgKGkgPCBibG9jay5hY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBpZiAoYmxvY2suYWN0aW9uc1tpXS50eXBlID09PSBhc3NpZ24kMSkge1xuICAgICAgICAgIGFzc2lnbkFjdGlvbnMucHVzaChibG9jay5hY3Rpb25zW2ldKTtcbiAgICAgICAgICBibG9jay5hY3Rpb25zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVfMV8xKSB7XG4gICAgZV8xID0ge1xuICAgICAgZXJyb3I6IGVfMV8xXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGFjdGlvbkJsb2Nrc18xXzEgJiYgIWFjdGlvbkJsb2Nrc18xXzEuZG9uZSAmJiAoX2EgPSBhY3Rpb25CbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGFjdGlvbkJsb2Nrc18xKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhc3NpZ25BY3Rpb25zO1xufTtcblxuZnVuY3Rpb24gcmVzb2x2ZUFjdGlvbnMobWFjaGluZSwgY3VycmVudFN0YXRlLCBjdXJyZW50Q29udGV4dCwgX2V2ZW50LCBhY3Rpb25CbG9ja3MsIHByZWRpY3RhYmxlRXhlYywgcHJlc2VydmVBY3Rpb25PcmRlcikge1xuICBpZiAocHJlc2VydmVBY3Rpb25PcmRlciA9PT0gdm9pZCAwKSB7XG4gICAgcHJlc2VydmVBY3Rpb25PcmRlciA9IGZhbHNlO1xuICB9XG5cbiAgdmFyIGFzc2lnbkFjdGlvbnMgPSBwcmVzZXJ2ZUFjdGlvbk9yZGVyID8gW10gOiBwbHVja0Fzc2lnbnMoYWN0aW9uQmxvY2tzKTtcbiAgdmFyIHVwZGF0ZWRDb250ZXh0ID0gYXNzaWduQWN0aW9ucy5sZW5ndGggPyB1cGRhdGVDb250ZXh0KGN1cnJlbnRDb250ZXh0LCBfZXZlbnQsIGFzc2lnbkFjdGlvbnMsIGN1cnJlbnRTdGF0ZSkgOiBjdXJyZW50Q29udGV4dDtcbiAgdmFyIHByZXNlcnZlZENvbnRleHRzID0gcHJlc2VydmVBY3Rpb25PcmRlciA/IFtjdXJyZW50Q29udGV4dF0gOiB1bmRlZmluZWQ7XG4gIHZhciBkZWZlcnJlZFRvQmxvY2tFbmQgPSBbXTtcblxuICBmdW5jdGlvbiBoYW5kbGVBY3Rpb24oYmxvY2tUeXBlLCBhY3Rpb25PYmplY3QpIHtcbiAgICB2YXIgX2E7XG5cbiAgICBzd2l0Y2ggKGFjdGlvbk9iamVjdC50eXBlKSB7XG4gICAgICBjYXNlIHJhaXNlJDE6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgcmFpc2VkQWN0aW9uID0gcmVzb2x2ZVJhaXNlKGFjdGlvbk9iamVjdCwgdXBkYXRlZENvbnRleHQsIF9ldmVudCwgbWFjaGluZS5vcHRpb25zLmRlbGF5cyk7XG5cbiAgICAgICAgICBpZiAocHJlZGljdGFibGVFeGVjICYmIHR5cGVvZiByYWlzZWRBY3Rpb24uZGVsYXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBwcmVkaWN0YWJsZUV4ZWMocmFpc2VkQWN0aW9uLCB1cGRhdGVkQ29udGV4dCwgX2V2ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmFpc2VkQWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2Ugc2VuZCQxOlxuICAgICAgICB2YXIgc2VuZEFjdGlvbiA9IHJlc29sdmVTZW5kKGFjdGlvbk9iamVjdCwgdXBkYXRlZENvbnRleHQsIF9ldmVudCwgbWFjaGluZS5vcHRpb25zLmRlbGF5cyk7IC8vIFRPRE86IGZpeCBBY3Rpb25UeXBlcy5Jbml0XG5cbiAgICAgICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICAgICAgdmFyIGNvbmZpZ3VyZWREZWxheSA9IGFjdGlvbk9iamVjdC5kZWxheTsgLy8gd2FybiBhZnRlciByZXNvbHZpbmcgYXMgd2UgY2FuIGNyZWF0ZSBiZXR0ZXIgY29udGV4dHVhbCBtZXNzYWdlIGhlcmVcblxuICAgICAgICAgIHdhcm4oIWlzU3RyaW5nKGNvbmZpZ3VyZWREZWxheSkgfHwgdHlwZW9mIHNlbmRBY3Rpb24uZGVsYXkgPT09ICdudW1iZXInLCAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgXCJObyBkZWxheSByZWZlcmVuY2UgZm9yIGRlbGF5IGV4cHJlc3Npb24gJ1wiLmNvbmNhdChjb25maWd1cmVkRGVsYXksIFwiJyB3YXMgZm91bmQgb24gbWFjaGluZSAnXCIpLmNvbmNhdChtYWNoaW5lLmlkLCBcIidcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZWRpY3RhYmxlRXhlYyAmJiBzZW5kQWN0aW9uLnRvICE9PSBTcGVjaWFsVGFyZ2V0cy5JbnRlcm5hbCkge1xuICAgICAgICAgIGlmIChibG9ja1R5cGUgPT09ICdlbnRyeScpIHtcbiAgICAgICAgICAgIGRlZmVycmVkVG9CbG9ja0VuZC5wdXNoKHNlbmRBY3Rpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcmVkaWN0YWJsZUV4ZWMoc2VuZEFjdGlvbiwgdXBkYXRlZENvbnRleHQsIF9ldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbmRBY3Rpb247XG5cbiAgICAgIGNhc2UgbG9nJDE6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgcmVzb2x2ZWQgPSByZXNvbHZlTG9nKGFjdGlvbk9iamVjdCwgdXBkYXRlZENvbnRleHQsIF9ldmVudCk7XG4gICAgICAgICAgcHJlZGljdGFibGVFeGVjID09PSBudWxsIHx8IHByZWRpY3RhYmxlRXhlYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJlZGljdGFibGVFeGVjKHJlc29sdmVkLCB1cGRhdGVkQ29udGV4dCwgX2V2ZW50KTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBjaG9vc2UkMTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBjaG9vc2VBY3Rpb24gPSBhY3Rpb25PYmplY3Q7XG4gICAgICAgICAgdmFyIG1hdGNoZWRBY3Rpb25zID0gKF9hID0gY2hvb3NlQWN0aW9uLmNvbmRzLmZpbmQoZnVuY3Rpb24gKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgdmFyIGd1YXJkID0gdG9HdWFyZChjb25kaXRpb24uY29uZCwgbWFjaGluZS5vcHRpb25zLmd1YXJkcyk7XG4gICAgICAgICAgICByZXR1cm4gIWd1YXJkIHx8IGV2YWx1YXRlR3VhcmQobWFjaGluZSwgZ3VhcmQsIHVwZGF0ZWRDb250ZXh0LCBfZXZlbnQsICFwcmVkaWN0YWJsZUV4ZWMgPyBjdXJyZW50U3RhdGUgOiB1bmRlZmluZWQpO1xuICAgICAgICAgIH0pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWN0aW9ucztcblxuICAgICAgICAgIGlmICghbWF0Y2hlZEFjdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQocmVzb2x2ZUFjdGlvbnMobWFjaGluZSwgY3VycmVudFN0YXRlLCB1cGRhdGVkQ29udGV4dCwgX2V2ZW50LCBbe1xuICAgICAgICAgICAgdHlwZTogYmxvY2tUeXBlLFxuICAgICAgICAgICAgYWN0aW9uczogdG9BY3Rpb25PYmplY3RzKHRvQXJyYXkobWF0Y2hlZEFjdGlvbnMpLCBtYWNoaW5lLm9wdGlvbnMuYWN0aW9ucylcbiAgICAgICAgICB9XSwgcHJlZGljdGFibGVFeGVjLCBwcmVzZXJ2ZUFjdGlvbk9yZGVyKSwgMiksXG4gICAgICAgICAgICAgIHJlc29sdmVkQWN0aW9uc0Zyb21DaG9vc2UgPSBfYlswXSxcbiAgICAgICAgICAgICAgcmVzb2x2ZWRDb250ZXh0RnJvbUNob29zZSA9IF9iWzFdO1xuXG4gICAgICAgICAgdXBkYXRlZENvbnRleHQgPSByZXNvbHZlZENvbnRleHRGcm9tQ2hvb3NlO1xuICAgICAgICAgIHByZXNlcnZlZENvbnRleHRzID09PSBudWxsIHx8IHByZXNlcnZlZENvbnRleHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcmVzZXJ2ZWRDb250ZXh0cy5wdXNoKHVwZGF0ZWRDb250ZXh0KTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRBY3Rpb25zRnJvbUNob29zZTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIHB1cmUkMTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBtYXRjaGVkQWN0aW9ucyA9IGFjdGlvbk9iamVjdC5nZXQodXBkYXRlZENvbnRleHQsIF9ldmVudC5kYXRhKTtcblxuICAgICAgICAgIGlmICghbWF0Y2hlZEFjdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX2MgPSBfX3JlYWQocmVzb2x2ZUFjdGlvbnMobWFjaGluZSwgY3VycmVudFN0YXRlLCB1cGRhdGVkQ29udGV4dCwgX2V2ZW50LCBbe1xuICAgICAgICAgICAgdHlwZTogYmxvY2tUeXBlLFxuICAgICAgICAgICAgYWN0aW9uczogdG9BY3Rpb25PYmplY3RzKHRvQXJyYXkobWF0Y2hlZEFjdGlvbnMpLCBtYWNoaW5lLm9wdGlvbnMuYWN0aW9ucylcbiAgICAgICAgICB9XSwgcHJlZGljdGFibGVFeGVjLCBwcmVzZXJ2ZUFjdGlvbk9yZGVyKSwgMiksXG4gICAgICAgICAgICAgIHJlc29sdmVkQWN0aW9uc0Zyb21QdXJlID0gX2NbMF0sXG4gICAgICAgICAgICAgIHJlc29sdmVkQ29udGV4dCA9IF9jWzFdO1xuXG4gICAgICAgICAgdXBkYXRlZENvbnRleHQgPSByZXNvbHZlZENvbnRleHQ7XG4gICAgICAgICAgcHJlc2VydmVkQ29udGV4dHMgPT09IG51bGwgfHwgcHJlc2VydmVkQ29udGV4dHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByZXNlcnZlZENvbnRleHRzLnB1c2godXBkYXRlZENvbnRleHQpO1xuICAgICAgICAgIHJldHVybiByZXNvbHZlZEFjdGlvbnNGcm9tUHVyZTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIHN0b3AkMTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciByZXNvbHZlZCA9IHJlc29sdmVTdG9wKGFjdGlvbk9iamVjdCwgdXBkYXRlZENvbnRleHQsIF9ldmVudCk7XG4gICAgICAgICAgcHJlZGljdGFibGVFeGVjID09PSBudWxsIHx8IHByZWRpY3RhYmxlRXhlYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJlZGljdGFibGVFeGVjKHJlc29sdmVkLCBjdXJyZW50Q29udGV4dCwgX2V2ZW50KTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBhc3NpZ24kMTpcbiAgICAgICAge1xuICAgICAgICAgIHVwZGF0ZWRDb250ZXh0ID0gdXBkYXRlQ29udGV4dCh1cGRhdGVkQ29udGV4dCwgX2V2ZW50LCBbYWN0aW9uT2JqZWN0XSwgIXByZWRpY3RhYmxlRXhlYyA/IGN1cnJlbnRTdGF0ZSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgcHJlc2VydmVkQ29udGV4dHMgPT09IG51bGwgfHwgcHJlc2VydmVkQ29udGV4dHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByZXNlcnZlZENvbnRleHRzLnB1c2godXBkYXRlZENvbnRleHQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhciByZXNvbHZlZEFjdGlvbk9iamVjdCA9IHRvQWN0aW9uT2JqZWN0KGFjdGlvbk9iamVjdCwgbWFjaGluZS5vcHRpb25zLmFjdGlvbnMpO1xuICAgICAgICB2YXIgZXhlY18xID0gcmVzb2x2ZWRBY3Rpb25PYmplY3QuZXhlYztcblxuICAgICAgICBpZiAocHJlZGljdGFibGVFeGVjKSB7XG4gICAgICAgICAgcHJlZGljdGFibGVFeGVjKHJlc29sdmVkQWN0aW9uT2JqZWN0LCB1cGRhdGVkQ29udGV4dCwgX2V2ZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChleGVjXzEgJiYgcHJlc2VydmVkQ29udGV4dHMpIHtcbiAgICAgICAgICB2YXIgY29udGV4dEluZGV4XzEgPSBwcmVzZXJ2ZWRDb250ZXh0cy5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgdmFyIHdyYXBwZWQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVzb2x2ZWRBY3Rpb25PYmplY3QpLCB7XG4gICAgICAgICAgICBleGVjOiBmdW5jdGlvbiAoX2N0eCkge1xuICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGV4ZWNfMS5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW3ByZXNlcnZlZENvbnRleHRzW2NvbnRleHRJbmRleF8xXV0sIF9fcmVhZChhcmdzKSwgZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJlc29sdmVkQWN0aW9uT2JqZWN0ID0gd3JhcHBlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNvbHZlZEFjdGlvbk9iamVjdDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQmxvY2soYmxvY2spIHtcbiAgICB2YXIgZV8yLCBfYTtcblxuICAgIHZhciByZXNvbHZlZEFjdGlvbnMgPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKGJsb2NrLmFjdGlvbnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgIHZhciBhY3Rpb24gPSBfYy52YWx1ZTtcbiAgICAgICAgdmFyIHJlc29sdmVkID0gaGFuZGxlQWN0aW9uKGJsb2NrLnR5cGUsIGFjdGlvbik7XG5cbiAgICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgICAgcmVzb2x2ZWRBY3Rpb25zID0gcmVzb2x2ZWRBY3Rpb25zLmNvbmNhdChyZXNvbHZlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzJfMSkge1xuICAgICAgZV8yID0ge1xuICAgICAgICBlcnJvcjogZV8yXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkZWZlcnJlZFRvQmxvY2tFbmQuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBwcmVkaWN0YWJsZUV4ZWMoYWN0aW9uLCB1cGRhdGVkQ29udGV4dCwgX2V2ZW50KTtcbiAgICB9KTtcbiAgICBkZWZlcnJlZFRvQmxvY2tFbmQubGVuZ3RoID0gMDtcbiAgICByZXR1cm4gcmVzb2x2ZWRBY3Rpb25zO1xuICB9XG5cbiAgdmFyIHJlc29sdmVkQWN0aW9ucyA9IGZsYXR0ZW4oYWN0aW9uQmxvY2tzLm1hcChwcm9jZXNzQmxvY2spKTtcbiAgcmV0dXJuIFtyZXNvbHZlZEFjdGlvbnMsIHVwZGF0ZWRDb250ZXh0XTtcbn1cblxuZXhwb3J0IHsgYWZ0ZXIsIGFzc2lnbiwgY2FuY2VsLCBjaG9vc2UsIGRvbmUsIGRvbmVJbnZva2UsIGVycm9yLCBlc2NhbGF0ZSwgZm9yd2FyZFRvLCBnZXRBY3Rpb25GdW5jdGlvbiwgaW5pdEV2ZW50LCBpc0FjdGlvbk9iamVjdCwgbG9nLCBwdXJlLCByYWlzZSwgcmVzb2x2ZUFjdGlvbnMsIHJlc29sdmVMb2csIHJlc29sdmVSYWlzZSwgcmVzb2x2ZVNlbmQsIHJlc29sdmVTdG9wLCByZXNwb25kLCBzZW5kLCBzZW5kUGFyZW50LCBzZW5kVG8sIHNlbmRVcGRhdGUsIHN0YXJ0LCBzdG9wLCB0b0FjdGlvbk9iamVjdCwgdG9BY3Rpb25PYmplY3RzLCB0b0FjdGl2aXR5RGVmaW5pdGlvbiB9O1xuIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiX19zcHJlYWRBcnJheSIsIl9fcmVhZCIsIl9fdmFsdWVzIiwiU3BlY2lhbFRhcmdldHMiLCJBY3Rpb25UeXBlcyIsImluaXQiLCJyYWlzZSIsInJhaXNlJDEiLCJzZW5kIiwic2VuZCQxIiwidXBkYXRlIiwibG9nIiwibG9nJDEiLCJjYW5jZWwiLCJjYW5jZWwkMSIsImFzc2lnbiIsImFzc2lnbiQxIiwiZXJyb3IiLCJlcnJvciQxIiwic3RvcCIsInN0b3AkMSIsInB1cmUiLCJwdXJlJDEiLCJjaG9vc2UiLCJjaG9vc2UkMSIsImFjdGlvblR5cGVzIiwidG9TQ1hNTEV2ZW50IiwiaXNTdHJpbmciLCJpc0Z1bmN0aW9uIiwidG9FdmVudE9iamVjdCIsImdldEV2ZW50VHlwZSIsInVwZGF0ZUNvbnRleHQiLCJmbGF0dGVuIiwiaXNBcnJheSIsInRvQXJyYXkiLCJ0b0d1YXJkIiwiZXZhbHVhdGVHdWFyZCIsIndhcm4iLCJJU19QUk9EVUNUSU9OIiwiaW5pdEV2ZW50IiwidHlwZSIsImdldEFjdGlvbkZ1bmN0aW9uIiwiYWN0aW9uVHlwZSIsImFjdGlvbkZ1bmN0aW9uTWFwIiwidW5kZWZpbmVkIiwidG9BY3Rpb25PYmplY3QiLCJhY3Rpb24iLCJhY3Rpb25PYmplY3QiLCJleGVjIiwibmFtZSIsInRvU3RyaW5nIiwidG9BY3Rpb25PYmplY3RzIiwiYWN0aW9ucyIsIm1hcCIsInN1YkFjdGlvbiIsInRvQWN0aXZpdHlEZWZpbml0aW9uIiwiaWQiLCJldmVudCIsIm9wdGlvbnMiLCJkZWxheSIsInJlc29sdmVSYWlzZSIsImN0eCIsIl9ldmVudCIsImRlbGF5c01hcCIsIm1ldGEiLCJyZXNvbHZlZEV2ZW50IiwiZGF0YSIsInJlc29sdmVkRGVsYXkiLCJjb25maWdEZWxheSIsInRvIiwicmVzb2x2ZVNlbmQiLCJyZXNvbHZlZFRhcmdldCIsInNlbmRQYXJlbnQiLCJQYXJlbnQiLCJzZW5kVG8iLCJhY3RvciIsInNlbmRVcGRhdGUiLCJyZXNwb25kIiwiXyIsIl9fIiwiX2EiLCJvcmlnaW4iLCJkZWZhdWx0TG9nRXhwciIsImNvbnRleHQiLCJleHByIiwibGFiZWwiLCJyZXNvbHZlTG9nIiwidmFsdWUiLCJzZW5kSWQiLCJzdGFydCIsImFjdGl2aXR5IiwiYWN0aXZpdHlEZWYiLCJTdGFydCIsImFjdG9yUmVmIiwiU3RvcCIsInJlc29sdmVTdG9wIiwiYWN0b3JSZWZPclN0cmluZyIsInJlc29sdmVkQWN0b3JSZWYiLCJhc3NpZ25tZW50IiwiaXNBY3Rpb25PYmplY3QiLCJhZnRlciIsImRlbGF5UmVmIiwiaWRTdWZmaXgiLCJjb25jYXQiLCJBZnRlciIsImRvbmUiLCJEb25lU3RhdGUiLCJldmVudE9iamVjdCIsImRvbmVJbnZva2UiLCJEb25lSW52b2tlIiwiRXJyb3JQbGF0Zm9ybSIsImdldEFjdGlvbnMiLCJQdXJlIiwiZ2V0IiwiZm9yd2FyZFRvIiwidGFyZ2V0Iiwib3JpZ2luYWxUYXJnZXRfMSIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwiRXJyb3IiLCJlc2NhbGF0ZSIsImVycm9yRGF0YSIsImNvbmRzIiwiQ2hvb3NlIiwicGx1Y2tBc3NpZ25zIiwiYWN0aW9uQmxvY2tzIiwiZV8xIiwiYXNzaWduQWN0aW9ucyIsImFjdGlvbkJsb2Nrc18xIiwiYWN0aW9uQmxvY2tzXzFfMSIsIm5leHQiLCJibG9jayIsImkiLCJwdXNoIiwic3BsaWNlIiwiZV8xXzEiLCJyZXR1cm4iLCJjYWxsIiwicmVzb2x2ZUFjdGlvbnMiLCJtYWNoaW5lIiwiY3VycmVudFN0YXRlIiwiY3VycmVudENvbnRleHQiLCJwcmVkaWN0YWJsZUV4ZWMiLCJwcmVzZXJ2ZUFjdGlvbk9yZGVyIiwidXBkYXRlZENvbnRleHQiLCJwcmVzZXJ2ZWRDb250ZXh0cyIsImRlZmVycmVkVG9CbG9ja0VuZCIsImhhbmRsZUFjdGlvbiIsImJsb2NrVHlwZSIsInJhaXNlZEFjdGlvbiIsImRlbGF5cyIsInNlbmRBY3Rpb24iLCJjb25maWd1cmVkRGVsYXkiLCJJbnRlcm5hbCIsInJlc29sdmVkIiwiY2hvb3NlQWN0aW9uIiwibWF0Y2hlZEFjdGlvbnMiLCJmaW5kIiwiY29uZGl0aW9uIiwiZ3VhcmQiLCJjb25kIiwiZ3VhcmRzIiwiX2IiLCJyZXNvbHZlZEFjdGlvbnNGcm9tQ2hvb3NlIiwicmVzb2x2ZWRDb250ZXh0RnJvbUNob29zZSIsIl9jIiwicmVzb2x2ZWRBY3Rpb25zRnJvbVB1cmUiLCJyZXNvbHZlZENvbnRleHQiLCJyZXNvbHZlZEFjdGlvbk9iamVjdCIsImV4ZWNfMSIsImNvbnRleHRJbmRleF8xIiwid3JhcHBlZCIsIl9jdHgiLCJwcm9jZXNzQmxvY2siLCJlXzIiLCJyZXNvbHZlZEFjdGlvbnMiLCJlXzJfMSIsImZvckVhY2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/actions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/behaviors.js":
/*!*********************************************!*\
  !*** ./node_modules/xstate/es/behaviors.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromPromise: () => (/* binding */ fromPromise),\n/* harmony export */   fromReducer: () => (/* binding */ fromReducer),\n/* harmony export */   spawnBehavior: () => (/* binding */ spawnBehavior)\n/* harmony export */ });\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _Actor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Actor.js */ \"(ssr)/./node_modules/xstate/es/Actor.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n\n\n\n/**\r\n * Returns an actor behavior from a reducer and its initial state.\r\n *\r\n * @param transition The pure reducer that returns the next state given the current state and event.\r\n * @param initialState The initial state of the reducer.\r\n * @returns An actor behavior\r\n */ function fromReducer(transition, initialState) {\n    return {\n        transition: transition,\n        initialState: initialState\n    };\n}\nfunction fromPromise(promiseFn) {\n    var initialState = {\n        error: undefined,\n        data: undefined,\n        status: \"pending\"\n    };\n    return {\n        transition: function(state, event, _a) {\n            var parent = _a.parent, id = _a.id, observers = _a.observers;\n            switch(event.type){\n                case \"fulfill\":\n                    parent === null || parent === void 0 ? void 0 : parent.send((0,_actions_js__WEBPACK_IMPORTED_MODULE_0__.doneInvoke)(id, event.data));\n                    return {\n                        error: undefined,\n                        data: event.data,\n                        status: \"fulfilled\"\n                    };\n                case \"reject\":\n                    parent === null || parent === void 0 ? void 0 : parent.send((0,_actions_js__WEBPACK_IMPORTED_MODULE_0__.error)(id, event.error));\n                    observers.forEach(function(observer) {\n                        observer.error(event.error);\n                    });\n                    return {\n                        error: event.error,\n                        data: undefined,\n                        status: \"rejected\"\n                    };\n                default:\n                    return state;\n            }\n        },\n        initialState: initialState,\n        start: function(_a) {\n            var self = _a.self;\n            promiseFn().then(function(data) {\n                self.send({\n                    type: \"fulfill\",\n                    data: data\n                });\n            }, function(reason) {\n                self.send({\n                    type: \"reject\",\n                    error: reason\n                });\n            });\n            return initialState;\n        }\n    };\n}\nfunction spawnBehavior(behavior, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    var state = behavior.initialState;\n    var observers = new Set();\n    var mailbox = [];\n    var flushing = false;\n    var flush = function() {\n        if (flushing) {\n            return;\n        }\n        flushing = true;\n        while(mailbox.length > 0){\n            var event_1 = mailbox.shift();\n            state = behavior.transition(state, event_1, actorCtx);\n            observers.forEach(function(observer) {\n                return observer.next(state);\n            });\n        }\n        flushing = false;\n    };\n    var actor = (0,_Actor_js__WEBPACK_IMPORTED_MODULE_1__.toActorRef)({\n        id: options.id,\n        send: function(event) {\n            mailbox.push(event);\n            flush();\n        },\n        getSnapshot: function() {\n            return state;\n        },\n        subscribe: function(next, handleError, complete) {\n            var observer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.toObserver)(next, handleError, complete);\n            observers.add(observer);\n            observer.next(state);\n            return {\n                unsubscribe: function() {\n                    observers.delete(observer);\n                }\n            };\n        }\n    });\n    var actorCtx = {\n        parent: options.parent,\n        self: actor,\n        id: options.id || \"anonymous\",\n        observers: observers\n    };\n    state = behavior.start ? behavior.start(actorCtx) : state;\n    return actor;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2JlaGF2aW9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUQ7QUFDVDtBQUNBO0FBRXhDOzs7Ozs7Q0FNQyxHQUVELFNBQVNJLFlBQVlDLFVBQVUsRUFBRUMsWUFBWTtJQUMzQyxPQUFPO1FBQ0xELFlBQVlBO1FBQ1pDLGNBQWNBO0lBQ2hCO0FBQ0Y7QUFDQSxTQUFTQyxZQUFZQyxTQUFTO0lBQzVCLElBQUlGLGVBQWU7UUFDakJOLE9BQU9TO1FBQ1BDLE1BQU1EO1FBQ05FLFFBQVE7SUFDVjtJQUNBLE9BQU87UUFDTE4sWUFBWSxTQUFVTyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsRUFBRTtZQUNwQyxJQUFJQyxTQUFTRCxHQUFHQyxNQUFNLEVBQ2xCQyxLQUFLRixHQUFHRSxFQUFFLEVBQ1ZDLFlBQVlILEdBQUdHLFNBQVM7WUFFNUIsT0FBUUosTUFBTUssSUFBSTtnQkFDaEIsS0FBSztvQkFDSEgsV0FBVyxRQUFRQSxXQUFXLEtBQUssSUFBSSxLQUFLLElBQUlBLE9BQU9JLElBQUksQ0FBQ2xCLHVEQUFVQSxDQUFDZSxJQUFJSCxNQUFNSCxJQUFJO29CQUNyRixPQUFPO3dCQUNMVixPQUFPUzt3QkFDUEMsTUFBTUcsTUFBTUgsSUFBSTt3QkFDaEJDLFFBQVE7b0JBQ1Y7Z0JBRUYsS0FBSztvQkFDSEksV0FBVyxRQUFRQSxXQUFXLEtBQUssSUFBSSxLQUFLLElBQUlBLE9BQU9JLElBQUksQ0FBQ25CLGtEQUFLQSxDQUFDZ0IsSUFBSUgsTUFBTWIsS0FBSztvQkFDakZpQixVQUFVRyxPQUFPLENBQUMsU0FBVUMsUUFBUTt3QkFDbENBLFNBQVNyQixLQUFLLENBQUNhLE1BQU1iLEtBQUs7b0JBQzVCO29CQUNBLE9BQU87d0JBQ0xBLE9BQU9hLE1BQU1iLEtBQUs7d0JBQ2xCVSxNQUFNRDt3QkFDTkUsUUFBUTtvQkFDVjtnQkFFRjtvQkFDRSxPQUFPQztZQUNYO1FBQ0Y7UUFDQU4sY0FBY0E7UUFDZGdCLE9BQU8sU0FBVVIsRUFBRTtZQUNqQixJQUFJUyxPQUFPVCxHQUFHUyxJQUFJO1lBQ2xCZixZQUFZZ0IsSUFBSSxDQUFDLFNBQVVkLElBQUk7Z0JBQzdCYSxLQUFLSixJQUFJLENBQUM7b0JBQ1JELE1BQU07b0JBQ05SLE1BQU1BO2dCQUNSO1lBQ0YsR0FBRyxTQUFVZSxNQUFNO2dCQUNqQkYsS0FBS0osSUFBSSxDQUFDO29CQUNSRCxNQUFNO29CQUNObEIsT0FBT3lCO2dCQUNUO1lBQ0Y7WUFDQSxPQUFPbkI7UUFDVDtJQUNGO0FBQ0Y7QUFDQSxTQUFTb0IsY0FBY0MsUUFBUSxFQUFFQyxPQUFPO0lBQ3RDLElBQUlBLFlBQVksS0FBSyxHQUFHO1FBQ3RCQSxVQUFVLENBQUM7SUFDYjtJQUVBLElBQUloQixRQUFRZSxTQUFTckIsWUFBWTtJQUNqQyxJQUFJVyxZQUFZLElBQUlZO0lBQ3BCLElBQUlDLFVBQVUsRUFBRTtJQUNoQixJQUFJQyxXQUFXO0lBRWYsSUFBSUMsUUFBUTtRQUNWLElBQUlELFVBQVU7WUFDWjtRQUNGO1FBRUFBLFdBQVc7UUFFWCxNQUFPRCxRQUFRRyxNQUFNLEdBQUcsRUFBRztZQUN6QixJQUFJQyxVQUFVSixRQUFRSyxLQUFLO1lBQzNCdkIsUUFBUWUsU0FBU3RCLFVBQVUsQ0FBQ08sT0FBT3NCLFNBQVNFO1lBQzVDbkIsVUFBVUcsT0FBTyxDQUFDLFNBQVVDLFFBQVE7Z0JBQ2xDLE9BQU9BLFNBQVNnQixJQUFJLENBQUN6QjtZQUN2QjtRQUNGO1FBRUFtQixXQUFXO0lBQ2I7SUFFQSxJQUFJTyxRQUFRcEMscURBQVVBLENBQUM7UUFDckJjLElBQUlZLFFBQVFaLEVBQUU7UUFDZEcsTUFBTSxTQUFVTixLQUFLO1lBQ25CaUIsUUFBUVMsSUFBSSxDQUFDMUI7WUFDYm1CO1FBQ0Y7UUFDQVEsYUFBYTtZQUNYLE9BQU81QjtRQUNUO1FBQ0E2QixXQUFXLFNBQVVKLElBQUksRUFBRUssV0FBVyxFQUFFQyxRQUFRO1lBQzlDLElBQUl0QixXQUFXbEIscURBQVVBLENBQUNrQyxNQUFNSyxhQUFhQztZQUM3QzFCLFVBQVUyQixHQUFHLENBQUN2QjtZQUNkQSxTQUFTZ0IsSUFBSSxDQUFDekI7WUFDZCxPQUFPO2dCQUNMaUMsYUFBYTtvQkFDWDVCLFVBQVU2QixNQUFNLENBQUN6QjtnQkFDbkI7WUFDRjtRQUNGO0lBQ0Y7SUFDQSxJQUFJZSxXQUFXO1FBQ2JyQixRQUFRYSxRQUFRYixNQUFNO1FBQ3RCUSxNQUFNZTtRQUNOdEIsSUFBSVksUUFBUVosRUFBRSxJQUFJO1FBQ2xCQyxXQUFXQTtJQUNiO0lBQ0FMLFFBQVFlLFNBQVNMLEtBQUssR0FBR0ssU0FBU0wsS0FBSyxDQUFDYyxZQUFZeEI7SUFDcEQsT0FBTzBCO0FBQ1Q7QUFFbUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aGUtZ3JpZC0yLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9iZWhhdmlvcnMuanM/NzNlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlcnJvciwgZG9uZUludm9rZSB9IGZyb20gJy4vYWN0aW9ucy5qcyc7XG5pbXBvcnQgeyB0b0FjdG9yUmVmIH0gZnJvbSAnLi9BY3Rvci5qcyc7XG5pbXBvcnQgeyB0b09ic2VydmVyIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGFjdG9yIGJlaGF2aW9yIGZyb20gYSByZWR1Y2VyIGFuZCBpdHMgaW5pdGlhbCBzdGF0ZS5cclxuICpcclxuICogQHBhcmFtIHRyYW5zaXRpb24gVGhlIHB1cmUgcmVkdWNlciB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgZ2l2ZW4gdGhlIGN1cnJlbnQgc3RhdGUgYW5kIGV2ZW50LlxyXG4gKiBAcGFyYW0gaW5pdGlhbFN0YXRlIFRoZSBpbml0aWFsIHN0YXRlIG9mIHRoZSByZWR1Y2VyLlxyXG4gKiBAcmV0dXJucyBBbiBhY3RvciBiZWhhdmlvclxyXG4gKi9cblxuZnVuY3Rpb24gZnJvbVJlZHVjZXIodHJhbnNpdGlvbiwgaW5pdGlhbFN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbixcbiAgICBpbml0aWFsU3RhdGU6IGluaXRpYWxTdGF0ZVxuICB9O1xufVxuZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZUZuKSB7XG4gIHZhciBpbml0aWFsU3RhdGUgPSB7XG4gICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgc3RhdHVzOiAncGVuZGluZydcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2l0aW9uOiBmdW5jdGlvbiAoc3RhdGUsIGV2ZW50LCBfYSkge1xuICAgICAgdmFyIHBhcmVudCA9IF9hLnBhcmVudCxcbiAgICAgICAgICBpZCA9IF9hLmlkLFxuICAgICAgICAgIG9ic2VydmVycyA9IF9hLm9ic2VydmVycztcblxuICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Z1bGZpbGwnOlxuICAgICAgICAgIHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5zZW5kKGRvbmVJbnZva2UoaWQsIGV2ZW50LmRhdGEpKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IGV2ZW50LmRhdGEsXG4gICAgICAgICAgICBzdGF0dXM6ICdmdWxmaWxsZWQnXG4gICAgICAgICAgfTtcblxuICAgICAgICBjYXNlICdyZWplY3QnOlxuICAgICAgICAgIHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5zZW5kKGVycm9yKGlkLCBldmVudC5lcnJvcikpO1xuICAgICAgICAgIG9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXZlbnQuZXJyb3IpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlcnJvcjogZXZlbnQuZXJyb3IsXG4gICAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdGF0dXM6ICdyZWplY3RlZCdcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5pdGlhbFN0YXRlOiBpbml0aWFsU3RhdGUsXG4gICAgc3RhcnQ6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgdmFyIHNlbGYgPSBfYS5zZWxmO1xuICAgICAgcHJvbWlzZUZuKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBzZWxmLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICdmdWxmaWxsJyxcbiAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICBzZWxmLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICdyZWplY3QnLFxuICAgICAgICAgIGVycm9yOiByZWFzb25cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbml0aWFsU3RhdGU7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gc3Bhd25CZWhhdmlvcihiZWhhdmlvciwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIHN0YXRlID0gYmVoYXZpb3IuaW5pdGlhbFN0YXRlO1xuICB2YXIgb2JzZXJ2ZXJzID0gbmV3IFNldCgpO1xuICB2YXIgbWFpbGJveCA9IFtdO1xuICB2YXIgZmx1c2hpbmcgPSBmYWxzZTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGZsdXNoaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZmx1c2hpbmcgPSB0cnVlO1xuXG4gICAgd2hpbGUgKG1haWxib3gubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGV2ZW50XzEgPSBtYWlsYm94LnNoaWZ0KCk7XG4gICAgICBzdGF0ZSA9IGJlaGF2aW9yLnRyYW5zaXRpb24oc3RhdGUsIGV2ZW50XzEsIGFjdG9yQ3R4KTtcbiAgICAgIG9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXIubmV4dChzdGF0ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmbHVzaGluZyA9IGZhbHNlO1xuICB9O1xuXG4gIHZhciBhY3RvciA9IHRvQWN0b3JSZWYoe1xuICAgIGlkOiBvcHRpb25zLmlkLFxuICAgIHNlbmQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgbWFpbGJveC5wdXNoKGV2ZW50KTtcbiAgICAgIGZsdXNoKCk7XG4gICAgfSxcbiAgICBnZXRTbmFwc2hvdDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAobmV4dCwgaGFuZGxlRXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICB2YXIgb2JzZXJ2ZXIgPSB0b09ic2VydmVyKG5leHQsIGhhbmRsZUVycm9yLCBjb21wbGV0ZSk7XG4gICAgICBvYnNlcnZlcnMuYWRkKG9ic2VydmVyKTtcbiAgICAgIG9ic2VydmVyLm5leHQoc3RhdGUpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvYnNlcnZlcnMuZGVsZXRlKG9ic2VydmVyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuICB2YXIgYWN0b3JDdHggPSB7XG4gICAgcGFyZW50OiBvcHRpb25zLnBhcmVudCxcbiAgICBzZWxmOiBhY3RvcixcbiAgICBpZDogb3B0aW9ucy5pZCB8fCAnYW5vbnltb3VzJyxcbiAgICBvYnNlcnZlcnM6IG9ic2VydmVyc1xuICB9O1xuICBzdGF0ZSA9IGJlaGF2aW9yLnN0YXJ0ID8gYmVoYXZpb3Iuc3RhcnQoYWN0b3JDdHgpIDogc3RhdGU7XG4gIHJldHVybiBhY3Rvcjtcbn1cblxuZXhwb3J0IHsgZnJvbVByb21pc2UsIGZyb21SZWR1Y2VyLCBzcGF3bkJlaGF2aW9yIH07XG4iXSwibmFtZXMiOlsiZXJyb3IiLCJkb25lSW52b2tlIiwidG9BY3RvclJlZiIsInRvT2JzZXJ2ZXIiLCJmcm9tUmVkdWNlciIsInRyYW5zaXRpb24iLCJpbml0aWFsU3RhdGUiLCJmcm9tUHJvbWlzZSIsInByb21pc2VGbiIsInVuZGVmaW5lZCIsImRhdGEiLCJzdGF0dXMiLCJzdGF0ZSIsImV2ZW50IiwiX2EiLCJwYXJlbnQiLCJpZCIsIm9ic2VydmVycyIsInR5cGUiLCJzZW5kIiwiZm9yRWFjaCIsIm9ic2VydmVyIiwic3RhcnQiLCJzZWxmIiwidGhlbiIsInJlYXNvbiIsInNwYXduQmVoYXZpb3IiLCJiZWhhdmlvciIsIm9wdGlvbnMiLCJTZXQiLCJtYWlsYm94IiwiZmx1c2hpbmciLCJmbHVzaCIsImxlbmd0aCIsImV2ZW50XzEiLCJzaGlmdCIsImFjdG9yQ3R4IiwibmV4dCIsImFjdG9yIiwicHVzaCIsImdldFNuYXBzaG90Iiwic3Vic2NyaWJlIiwiaGFuZGxlRXJyb3IiLCJjb21wbGV0ZSIsImFkZCIsInVuc3Vic2NyaWJlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/behaviors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/constants.js":
/*!*********************************************!*\
  !*** ./node_modules/xstate/es/constants.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_GUARD_TYPE: () => (/* binding */ DEFAULT_GUARD_TYPE),\n/* harmony export */   EMPTY_ACTIVITY_MAP: () => (/* binding */ EMPTY_ACTIVITY_MAP),\n/* harmony export */   STATE_DELIMITER: () => (/* binding */ STATE_DELIMITER),\n/* harmony export */   TARGETLESS_KEY: () => (/* binding */ TARGETLESS_KEY)\n/* harmony export */ });\nvar STATE_DELIMITER = \".\";\nvar EMPTY_ACTIVITY_MAP = {};\nvar DEFAULT_GUARD_TYPE = \"xstate.guard\";\nvar TARGETLESS_KEY = \"\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBSUEsa0JBQWtCO0FBQ3RCLElBQUlDLHFCQUFxQixDQUFDO0FBQzFCLElBQUlDLHFCQUFxQjtBQUN6QixJQUFJQyxpQkFBaUI7QUFFOEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aGUtZ3JpZC0yLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9jb25zdGFudHMuanM/ZTI5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU1RBVEVfREVMSU1JVEVSID0gJy4nO1xudmFyIEVNUFRZX0FDVElWSVRZX01BUCA9IHt9O1xudmFyIERFRkFVTFRfR1VBUkRfVFlQRSA9ICd4c3RhdGUuZ3VhcmQnO1xudmFyIFRBUkdFVExFU1NfS0VZID0gJyc7XG5cbmV4cG9ydCB7IERFRkFVTFRfR1VBUkRfVFlQRSwgRU1QVFlfQUNUSVZJVFlfTUFQLCBTVEFURV9ERUxJTUlURVIsIFRBUkdFVExFU1NfS0VZIH07XG4iXSwibmFtZXMiOlsiU1RBVEVfREVMSU1JVEVSIiwiRU1QVFlfQUNUSVZJVFlfTUFQIiwiREVGQVVMVF9HVUFSRF9UWVBFIiwiVEFSR0VUTEVTU19LRVkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/devTools.js":
/*!********************************************!*\
  !*** ./node_modules/xstate/es/devTools.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGlobal: () => (/* binding */ getGlobal),\n/* harmony export */   registerService: () => (/* binding */ registerService)\n/* harmony export */ });\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\nfunction getGlobal() {\n    if (typeof globalThis !== \"undefined\") {\n        return globalThis;\n    }\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    if (false) {}\n    if (typeof global !== \"undefined\") {\n        return global;\n    }\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_0__.IS_PRODUCTION) {\n        console.warn(\"XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues\");\n    }\n}\nfunction getDevTools() {\n    var global1 = getGlobal();\n    if (global1 && \"__xstate__\" in global1) {\n        return global1.__xstate__;\n    }\n    return undefined;\n}\nfunction registerService(service) {\n    if (!getGlobal()) {\n        return;\n    }\n    var devTools = getDevTools();\n    if (devTools) {\n        devTools.register(service);\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2RldlRvb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRDtBQUVqRCxTQUFTQztJQUNQLElBQUksT0FBT0MsZUFBZSxhQUFhO1FBQ3JDLE9BQU9BO0lBQ1Q7SUFFQSxJQUFJLE9BQU9DLFNBQVMsYUFBYTtRQUMvQixPQUFPQTtJQUNUO0lBRUEsSUFBSSxLQUFrQixFQUFhLEVBRWxDO0lBRUQsSUFBSSxPQUFPRSxXQUFXLGFBQWE7UUFDakMsT0FBT0E7SUFDVDtJQUVBLElBQUksQ0FBQ0wsMERBQWFBLEVBQUU7UUFDbEJNLFFBQVFDLElBQUksQ0FBQztJQUNmO0FBQ0Y7QUFFQSxTQUFTQztJQUNQLElBQUlILFVBQVNKO0lBRWIsSUFBSUksV0FBVSxnQkFBZ0JBLFNBQVE7UUFDcEMsT0FBT0EsUUFBT0ksVUFBVTtJQUMxQjtJQUVBLE9BQU9DO0FBQ1Q7QUFFQSxTQUFTQyxnQkFBZ0JDLE9BQU87SUFDOUIsSUFBSSxDQUFDWCxhQUFhO1FBQ2hCO0lBQ0Y7SUFFQSxJQUFJWSxXQUFXTDtJQUVmLElBQUlLLFVBQVU7UUFDWkEsU0FBU0MsUUFBUSxDQUFDRjtJQUNwQjtBQUNGO0FBRXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLWdyaWQtMi8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvZGV2VG9vbHMuanM/N2JiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJU19QUk9EVUNUSU9OIH0gZnJvbSAnLi9lbnZpcm9ubWVudC5qcyc7XG5cbmZ1bmN0aW9uIGdldEdsb2JhbCgpIHtcbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBnbG9iYWw7XG4gIH1cblxuICBpZiAoIUlTX1BST0RVQ1RJT04pIHtcbiAgICBjb25zb2xlLndhcm4oJ1hTdGF0ZSBjb3VsZCBub3QgZmluZCBhIGdsb2JhbCBvYmplY3QgaW4gdGhpcyBlbnZpcm9ubWVudC4gUGxlYXNlIGxldCB0aGUgbWFpbnRhaW5lcnMga25vdyBhbmQgcmFpc2UgYW4gaXNzdWUgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3N0YXRlbHlhaS94c3RhdGUvaXNzdWVzJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGV2VG9vbHMoKSB7XG4gIHZhciBnbG9iYWwgPSBnZXRHbG9iYWwoKTtcblxuICBpZiAoZ2xvYmFsICYmICdfX3hzdGF0ZV9fJyBpbiBnbG9iYWwpIHtcbiAgICByZXR1cm4gZ2xvYmFsLl9feHN0YXRlX187XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlclNlcnZpY2Uoc2VydmljZSkge1xuICBpZiAoIWdldEdsb2JhbCgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGRldlRvb2xzID0gZ2V0RGV2VG9vbHMoKTtcblxuICBpZiAoZGV2VG9vbHMpIHtcbiAgICBkZXZUb29scy5yZWdpc3RlcihzZXJ2aWNlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBnZXRHbG9iYWwsIHJlZ2lzdGVyU2VydmljZSB9O1xuIl0sIm5hbWVzIjpbIklTX1BST0RVQ1RJT04iLCJnZXRHbG9iYWwiLCJnbG9iYWxUaGlzIiwic2VsZiIsIndpbmRvdyIsImdsb2JhbCIsImNvbnNvbGUiLCJ3YXJuIiwiZ2V0RGV2VG9vbHMiLCJfX3hzdGF0ZV9fIiwidW5kZWZpbmVkIiwicmVnaXN0ZXJTZXJ2aWNlIiwic2VydmljZSIsImRldlRvb2xzIiwicmVnaXN0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/devTools.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/environment.js":
/*!***********************************************!*\
  !*** ./node_modules/xstate/es/environment.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IS_PRODUCTION: () => (/* binding */ IS_PRODUCTION)\n/* harmony export */ });\nvar IS_PRODUCTION = \"development\" === \"production\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2Vudmlyb25tZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxnQkFBZ0JDLGtCQUF5QjtBQUVwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1ncmlkLTIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2Vudmlyb25tZW50LmpzPzE1ODEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIElTX1BST0RVQ1RJT04gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xuXG5leHBvcnQgeyBJU19QUk9EVUNUSU9OIH07XG4iXSwibmFtZXMiOlsiSVNfUFJPRFVDVElPTiIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/environment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/index.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionTypes: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_10__.ActionTypes),\n/* harmony export */   Interpreter: () => (/* reexport safe */ _interpreter_js__WEBPACK_IMPORTED_MODULE_2__.Interpreter),\n/* harmony export */   InterpreterStatus: () => (/* reexport safe */ _interpreter_js__WEBPACK_IMPORTED_MODULE_2__.InterpreterStatus),\n/* harmony export */   Machine: () => (/* reexport safe */ _Machine_js__WEBPACK_IMPORTED_MODULE_3__.Machine),\n/* harmony export */   SpecialTargets: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_10__.SpecialTargets),\n/* harmony export */   State: () => (/* reexport safe */ _State_js__WEBPACK_IMPORTED_MODULE_7__.State),\n/* harmony export */   StateNode: () => (/* reexport safe */ _StateNode_js__WEBPACK_IMPORTED_MODULE_8__.StateNode),\n/* harmony export */   actions: () => (/* reexport module object */ _actions_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   cancel: () => (/* binding */ cancel),\n/* harmony export */   choose: () => (/* binding */ choose),\n/* harmony export */   createMachine: () => (/* reexport safe */ _Machine_js__WEBPACK_IMPORTED_MODULE_3__.createMachine),\n/* harmony export */   createSchema: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_6__.createSchema),\n/* harmony export */   doneInvoke: () => (/* binding */ doneInvoke),\n/* harmony export */   forwardTo: () => (/* binding */ forwardTo),\n/* harmony export */   interpret: () => (/* reexport safe */ _interpreter_js__WEBPACK_IMPORTED_MODULE_2__.interpret),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   mapState: () => (/* reexport safe */ _mapState_js__WEBPACK_IMPORTED_MODULE_4__.mapState),\n/* harmony export */   matchState: () => (/* reexport safe */ _match_js__WEBPACK_IMPORTED_MODULE_5__.matchState),\n/* harmony export */   matchesState: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.matchesState),\n/* harmony export */   pure: () => (/* binding */ pure),\n/* harmony export */   raise: () => (/* binding */ raise),\n/* harmony export */   send: () => (/* binding */ send),\n/* harmony export */   sendParent: () => (/* binding */ sendParent),\n/* harmony export */   sendTo: () => (/* binding */ sendTo),\n/* harmony export */   sendUpdate: () => (/* binding */ sendUpdate),\n/* harmony export */   spawn: () => (/* reexport safe */ _interpreter_js__WEBPACK_IMPORTED_MODULE_2__.spawn),\n/* harmony export */   spawnBehavior: () => (/* reexport safe */ _behaviors_js__WEBPACK_IMPORTED_MODULE_9__.spawnBehavior),\n/* harmony export */   stop: () => (/* binding */ stop),\n/* harmony export */   t: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_6__.t),\n/* harmony export */   toActorRef: () => (/* reexport safe */ _Actor_js__WEBPACK_IMPORTED_MODULE_1__.toActorRef),\n/* harmony export */   toEventObject: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.toEventObject),\n/* harmony export */   toObserver: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.toObserver),\n/* harmony export */   toSCXMLEvent: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.toSCXMLEvent)\n/* harmony export */ });\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _Actor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Actor.js */ \"(ssr)/./node_modules/xstate/es/Actor.js\");\n/* harmony import */ var _interpreter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./interpreter.js */ \"(ssr)/./node_modules/xstate/es/interpreter.js\");\n/* harmony import */ var _Machine_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Machine.js */ \"(ssr)/./node_modules/xstate/es/Machine.js\");\n/* harmony import */ var _mapState_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mapState.js */ \"(ssr)/./node_modules/xstate/es/mapState.js\");\n/* harmony import */ var _match_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./match.js */ \"(ssr)/./node_modules/xstate/es/match.js\");\n/* harmony import */ var _schema_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./schema.js */ \"(ssr)/./node_modules/xstate/es/schema.js\");\n/* harmony import */ var _State_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./State.js */ \"(ssr)/./node_modules/xstate/es/State.js\");\n/* harmony import */ var _StateNode_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StateNode.js */ \"(ssr)/./node_modules/xstate/es/StateNode.js\");\n/* harmony import */ var _behaviors_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./behaviors.js */ \"(ssr)/./node_modules/xstate/es/behaviors.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar assign = _actions_js__WEBPACK_IMPORTED_MODULE_0__.assign, cancel = _actions_js__WEBPACK_IMPORTED_MODULE_0__.cancel, send = _actions_js__WEBPACK_IMPORTED_MODULE_0__.send, sendTo = _actions_js__WEBPACK_IMPORTED_MODULE_0__.sendTo, sendParent = _actions_js__WEBPACK_IMPORTED_MODULE_0__.sendParent, sendUpdate = _actions_js__WEBPACK_IMPORTED_MODULE_0__.sendUpdate, forwardTo = _actions_js__WEBPACK_IMPORTED_MODULE_0__.forwardTo, doneInvoke = _actions_js__WEBPACK_IMPORTED_MODULE_0__.doneInvoke, raise = _actions_js__WEBPACK_IMPORTED_MODULE_0__.raise, log = _actions_js__WEBPACK_IMPORTED_MODULE_0__.log, pure = _actions_js__WEBPACK_IMPORTED_MODULE_0__.pure, choose = _actions_js__WEBPACK_IMPORTED_MODULE_0__.choose, stop = _actions_js__WEBPACK_IMPORTED_MODULE_0__.stop;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNFM7QUFDcFE7QUFDckI7QUFDcUI7QUFDNEM7QUFDOUI7QUFDYjtBQUNEO0FBQ007QUFDWDtBQUNRO0FBQ0k7QUFDVTtBQUMwQjtBQUVuRixJQUFJQSxTQUFTQywrQ0FBUUEsRUFDakJDLFNBQVNDLCtDQUFRQSxFQUNqQkMsT0FBT0MsNkNBQU1BLEVBQ2JDLFNBQVNDLCtDQUFRQSxFQUNqQkMsYUFBYUMsbURBQVlBLEVBQ3pCQyxhQUFhQyxtREFBWUEsRUFDekJDLFlBQVlDLGtEQUFXQSxFQUN2QkMsYUFBYUMsbURBQVlBLEVBQ3pCQyxRQUFRQyw4Q0FBT0EsRUFDZkMsTUFBTUMsNENBQUtBLEVBQ1hDLE9BQU9DLDZDQUFNQSxFQUNiQyxTQUFTQywrQ0FBUUEsRUFDakJDLE9BQU9DLDZDQUFNQTtBQUVzRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1ncmlkLTIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2luZGV4LmpzPzg4N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzaWduIGFzIGFzc2lnbiQxLCBjYW5jZWwgYXMgY2FuY2VsJDEsIHNlbmQgYXMgc2VuZCQxLCBzZW5kVG8gYXMgc2VuZFRvJDEsIHNlbmRQYXJlbnQgYXMgc2VuZFBhcmVudCQxLCBzZW5kVXBkYXRlIGFzIHNlbmRVcGRhdGUkMSwgZm9yd2FyZFRvIGFzIGZvcndhcmRUbyQxLCBkb25lSW52b2tlIGFzIGRvbmVJbnZva2UkMSwgcmFpc2UgYXMgcmFpc2UkMSwgbG9nIGFzIGxvZyQxLCBwdXJlIGFzIHB1cmUkMSwgY2hvb3NlIGFzIGNob29zZSQxLCBzdG9wIGFzIHN0b3AkMSB9IGZyb20gJy4vYWN0aW9ucy5qcyc7XG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gJy4vYWN0aW9ucy5qcyc7XG5leHBvcnQgeyBhY3Rpb25zIH07XG5leHBvcnQgeyB0b0FjdG9yUmVmIH0gZnJvbSAnLi9BY3Rvci5qcyc7XG5leHBvcnQgeyBJbnRlcnByZXRlciwgSW50ZXJwcmV0ZXJTdGF0dXMsIGludGVycHJldCwgc3Bhd24gfSBmcm9tICcuL2ludGVycHJldGVyLmpzJztcbmV4cG9ydCB7IE1hY2hpbmUsIGNyZWF0ZU1hY2hpbmUgfSBmcm9tICcuL01hY2hpbmUuanMnO1xuZXhwb3J0IHsgbWFwU3RhdGUgfSBmcm9tICcuL21hcFN0YXRlLmpzJztcbmV4cG9ydCB7IG1hdGNoU3RhdGUgfSBmcm9tICcuL21hdGNoLmpzJztcbmV4cG9ydCB7IGNyZWF0ZVNjaGVtYSwgdCB9IGZyb20gJy4vc2NoZW1hLmpzJztcbmV4cG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9TdGF0ZS5qcyc7XG5leHBvcnQgeyBTdGF0ZU5vZGUgfSBmcm9tICcuL1N0YXRlTm9kZS5qcyc7XG5leHBvcnQgeyBzcGF3bkJlaGF2aW9yIH0gZnJvbSAnLi9iZWhhdmlvcnMuanMnO1xuZXhwb3J0IHsgQWN0aW9uVHlwZXMsIFNwZWNpYWxUYXJnZXRzIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5leHBvcnQgeyBtYXRjaGVzU3RhdGUsIHRvRXZlbnRPYmplY3QsIHRvT2JzZXJ2ZXIsIHRvU0NYTUxFdmVudCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG52YXIgYXNzaWduID0gYXNzaWduJDEsXG4gICAgY2FuY2VsID0gY2FuY2VsJDEsXG4gICAgc2VuZCA9IHNlbmQkMSxcbiAgICBzZW5kVG8gPSBzZW5kVG8kMSxcbiAgICBzZW5kUGFyZW50ID0gc2VuZFBhcmVudCQxLFxuICAgIHNlbmRVcGRhdGUgPSBzZW5kVXBkYXRlJDEsXG4gICAgZm9yd2FyZFRvID0gZm9yd2FyZFRvJDEsXG4gICAgZG9uZUludm9rZSA9IGRvbmVJbnZva2UkMSxcbiAgICByYWlzZSA9IHJhaXNlJDEsXG4gICAgbG9nID0gbG9nJDEsXG4gICAgcHVyZSA9IHB1cmUkMSxcbiAgICBjaG9vc2UgPSBjaG9vc2UkMSxcbiAgICBzdG9wID0gc3RvcCQxO1xuXG5leHBvcnQgeyBhc3NpZ24sIGNhbmNlbCwgY2hvb3NlLCBkb25lSW52b2tlLCBmb3J3YXJkVG8sIGxvZywgcHVyZSwgcmFpc2UsIHNlbmQsIHNlbmRQYXJlbnQsIHNlbmRUbywgc2VuZFVwZGF0ZSwgc3RvcCB9O1xuIl0sIm5hbWVzIjpbImFzc2lnbiIsImFzc2lnbiQxIiwiY2FuY2VsIiwiY2FuY2VsJDEiLCJzZW5kIiwic2VuZCQxIiwic2VuZFRvIiwic2VuZFRvJDEiLCJzZW5kUGFyZW50Iiwic2VuZFBhcmVudCQxIiwic2VuZFVwZGF0ZSIsInNlbmRVcGRhdGUkMSIsImZvcndhcmRUbyIsImZvcndhcmRUbyQxIiwiZG9uZUludm9rZSIsImRvbmVJbnZva2UkMSIsInJhaXNlIiwicmFpc2UkMSIsImxvZyIsImxvZyQxIiwicHVyZSIsInB1cmUkMSIsImNob29zZSIsImNob29zZSQxIiwic3RvcCIsInN0b3AkMSIsImFjdGlvbnMiLCJ0b0FjdG9yUmVmIiwiSW50ZXJwcmV0ZXIiLCJJbnRlcnByZXRlclN0YXR1cyIsImludGVycHJldCIsInNwYXduIiwiTWFjaGluZSIsImNyZWF0ZU1hY2hpbmUiLCJtYXBTdGF0ZSIsIm1hdGNoU3RhdGUiLCJjcmVhdGVTY2hlbWEiLCJ0IiwiU3RhdGUiLCJTdGF0ZU5vZGUiLCJzcGF3bkJlaGF2aW9yIiwiQWN0aW9uVHlwZXMiLCJTcGVjaWFsVGFyZ2V0cyIsIm1hdGNoZXNTdGF0ZSIsInRvRXZlbnRPYmplY3QiLCJ0b09ic2VydmVyIiwidG9TQ1hNTEV2ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/interpreter.js":
/*!***********************************************!*\
  !*** ./node_modules/xstate/es/interpreter.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Interpreter: () => (/* binding */ Interpreter),\n/* harmony export */   InterpreterStatus: () => (/* binding */ InterpreterStatus),\n/* harmony export */   interpret: () => (/* binding */ interpret),\n/* harmony export */   spawn: () => (/* binding */ spawn)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n/* harmony import */ var _State_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./State.js */ \"(ssr)/./node_modules/xstate/es/State.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./actions.js */ \"(ssr)/./node_modules/xstate/es/actions.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./scheduler.js */ \"(ssr)/./node_modules/xstate/es/scheduler.js\");\n/* harmony import */ var _Actor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Actor.js */ \"(ssr)/./node_modules/xstate/es/Actor.js\");\n/* harmony import */ var _registry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./registry.js */ \"(ssr)/./node_modules/xstate/es/registry.js\");\n/* harmony import */ var _devTools_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./devTools.js */ \"(ssr)/./node_modules/xstate/es/devTools.js\");\n/* harmony import */ var _serviceScope_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./serviceScope.js */ \"(ssr)/./node_modules/xstate/es/serviceScope.js\");\n/* harmony import */ var _behaviors_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./behaviors.js */ \"(ssr)/./node_modules/xstate/es/behaviors.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DEFAULT_SPAWN_OPTIONS = {\n    sync: false,\n    autoForward: false\n};\nvar InterpreterStatus;\n(function(InterpreterStatus) {\n    InterpreterStatus[InterpreterStatus[\"NotStarted\"] = 0] = \"NotStarted\";\n    InterpreterStatus[InterpreterStatus[\"Running\"] = 1] = \"Running\";\n    InterpreterStatus[InterpreterStatus[\"Stopped\"] = 2] = \"Stopped\";\n})(InterpreterStatus || (InterpreterStatus = {}));\nvar Interpreter = /*#__PURE__*/ /** @class */ function() {\n    /**\r\n   * Creates a new Interpreter instance (i.e., service) for the given machine with the provided options, if any.\r\n   *\r\n   * @param machine The machine to be interpreted\r\n   * @param options Interpreter options\r\n   */ function Interpreter(machine, options) {\n        if (options === void 0) {\n            options = Interpreter.defaultOptions;\n        }\n        var _this = this;\n        this.machine = machine;\n        this.delayedEventsMap = {};\n        this.listeners = new Set();\n        this.contextListeners = new Set();\n        this.stopListeners = new Set();\n        this.doneListeners = new Set();\n        this.eventListeners = new Set();\n        this.sendListeners = new Set();\n        /**\r\n     * Whether the service is started.\r\n     */ this.initialized = false;\n        this.status = InterpreterStatus.NotStarted;\n        this.children = new Map();\n        this.forwardTo = new Set();\n        this._outgoingQueue = [];\n        /**\r\n     * Alias for Interpreter.prototype.start\r\n     */ this.init = this.start;\n        /**\r\n     * Sends an event to the running interpreter to trigger a transition.\r\n     *\r\n     * An array of events (batched) can be sent as well, which will send all\r\n     * batched events to the running interpreter. The listeners will be\r\n     * notified only **once** when all events are processed.\r\n     *\r\n     * @param event The event(s) to send\r\n     */ this.send = function(event1, payload) {\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(event1)) {\n                _this.batch(event1);\n                return _this.state;\n            }\n            var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toEventObject)(event1, payload));\n            if (_this.status === InterpreterStatus.Stopped) {\n                // do nothing\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, 'Event \"'.concat(_event.name, '\" was sent to stopped service \"').concat(_this.machine.id, '\". This service has already reached its final state, and will not transition.\\nEvent: ').concat(JSON.stringify(_event.data)));\n                }\n                return _this.state;\n            }\n            if (_this.status !== InterpreterStatus.Running && !_this.options.deferEvents) {\n                throw new Error('Event \"'.concat(_event.name, '\" was sent to uninitialized service \"').concat(_this.machine.id // tslint:disable-next-line:max-line-length\n                , '\". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\\nEvent: ').concat(JSON.stringify(_event.data)));\n            }\n            _this.scheduler.schedule(function() {\n                // Forward copy of event to child actors\n                _this.forward(_event);\n                var nextState = _this._nextState(_event);\n                _this.update(nextState, _event);\n            });\n            return _this._state; // TODO: deprecate (should return void)\n        // tslint:disable-next-line:semicolon\n        };\n        this.sendTo = function(event1, to, immediate) {\n            var isParent = _this.parent && (to === _types_js__WEBPACK_IMPORTED_MODULE_2__.SpecialTargets.Parent || _this.parent.id === to);\n            var target = isParent ? _this.parent : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(to) ? to === _types_js__WEBPACK_IMPORTED_MODULE_2__.SpecialTargets.Internal ? _this : _this.children.get(to) || _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.get(to) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isActor)(to) ? to : undefined;\n            if (!target) {\n                if (!isParent) {\n                    throw new Error(\"Unable to send event to child '\".concat(to, \"' from service '\").concat(_this.id, \"'.\"));\n                } // tslint:disable-next-line:no-console\n                if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"Service '\".concat(_this.id, \"' has no parent: unable to send event \").concat(event1.type));\n                }\n                return;\n            }\n            if (\"machine\" in target) {\n                // perhaps those events should be rejected in the parent\n                // but atm it doesn't have easy access to all of the information that is required to do it reliably\n                if (_this.status !== InterpreterStatus.Stopped || _this.parent !== target || // we need to send events to the parent from exit handlers of a machine that reached its final state\n                _this.state.done) {\n                    // Send SCXML events to machines\n                    var scxmlEvent = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, event1), {\n                        name: event1.name === _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.error ? \"\".concat((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.error)(_this.id)) : event1.name,\n                        origin: _this.sessionId\n                    });\n                    if (!immediate && _this.machine.config.predictableActionArguments) {\n                        _this._outgoingQueue.push([\n                            target,\n                            scxmlEvent\n                        ]);\n                    } else {\n                        target.send(scxmlEvent);\n                    }\n                }\n            } else {\n                // Send normal events to other targets\n                if (!immediate && _this.machine.config.predictableActionArguments) {\n                    _this._outgoingQueue.push([\n                        target,\n                        event1.data\n                    ]);\n                } else {\n                    target.send(event1.data);\n                }\n            }\n        };\n        this._exec = function(action, context, _event, actionFunctionMap) {\n            if (actionFunctionMap === void 0) {\n                actionFunctionMap = _this.machine.options.actions;\n            }\n            var actionOrExec = action.exec || (0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.getActionFunction)(action.type, actionFunctionMap);\n            var exec = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(actionOrExec) ? actionOrExec : actionOrExec ? actionOrExec.exec : action.exec;\n            if (exec) {\n                try {\n                    return exec(context, _event.data, !_this.machine.config.predictableActionArguments ? {\n                        action: action,\n                        state: _this.state,\n                        _event: _event\n                    } : {\n                        action: action,\n                        _event: _event\n                    });\n                } catch (err) {\n                    if (_this.parent) {\n                        _this.parent.send({\n                            type: \"xstate.error\",\n                            data: err\n                        });\n                    }\n                    throw err;\n                }\n            }\n            switch(action.type){\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.raise:\n                    {\n                        // if raise action reached the interpreter then it's a delayed one\n                        var sendAction_1 = action;\n                        _this.defer(sendAction_1);\n                        break;\n                    }\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.send:\n                    var sendAction = action;\n                    if (typeof sendAction.delay === \"number\") {\n                        _this.defer(sendAction);\n                        return;\n                    } else {\n                        if (sendAction.to) {\n                            _this.sendTo(sendAction._event, sendAction.to, _event === _actions_js__WEBPACK_IMPORTED_MODULE_6__.initEvent);\n                        } else {\n                            _this.send(sendAction._event);\n                        }\n                    }\n                    break;\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.cancel:\n                    _this.cancel(action.sendId);\n                    break;\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.start:\n                    {\n                        if (_this.status !== InterpreterStatus.Running) {\n                            return;\n                        }\n                        var activity = action.activity; // If the activity will be stopped right after it's started\n                        // (such as in transient states)\n                        // don't bother starting the activity.\n                        if (!_this.machine.config.predictableActionArguments && !_this.state.activities[activity.id || activity.type]) {\n                            break;\n                        } // Invoked services\n                        if (activity.type === _types_js__WEBPACK_IMPORTED_MODULE_2__.ActionTypes.Invoke) {\n                            var invokeSource = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toInvokeSource)(activity.src);\n                            var serviceCreator = _this.machine.options.services ? _this.machine.options.services[invokeSource.type] : undefined;\n                            var id = activity.id, data = activity.data;\n                            if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!(\"forward\" in activity), \"`forward` property is deprecated (found in invocation of '\".concat(activity.src, \"' in in machine '\").concat(_this.machine.id, \"'). \") + \"Please use `autoForward` instead.\");\n                            }\n                            var autoForward = \"autoForward\" in activity ? activity.autoForward : !!activity.forward;\n                            if (!serviceCreator) {\n                                // tslint:disable-next-line:no-console\n                                if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"No service found for invocation '\".concat(activity.src, \"' in machine '\").concat(_this.machine.id, \"'.\"));\n                                }\n                                return;\n                            }\n                            var resolvedData = data ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapContext)(data, context, _event) : undefined;\n                            if (typeof serviceCreator === \"string\") {\n                                // TODO: warn\n                                return;\n                            }\n                            var source = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(serviceCreator) ? serviceCreator(context, _event.data, {\n                                data: resolvedData,\n                                src: invokeSource,\n                                meta: activity.meta\n                            }) : serviceCreator;\n                            if (!source) {\n                                // TODO: warn?\n                                return;\n                            }\n                            var options = void 0;\n                            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(source)) {\n                                source = resolvedData ? source.withContext(resolvedData) : source;\n                                options = {\n                                    autoForward: autoForward\n                                };\n                            }\n                            _this.spawn(source, id, options);\n                        } else {\n                            _this.spawnActivity(activity);\n                        }\n                        break;\n                    }\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.stop:\n                    {\n                        _this.stopChild(action.activity.id);\n                        break;\n                    }\n                case _actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.log:\n                    var _a = action, label = _a.label, value = _a.value;\n                    if (label) {\n                        _this.logger(label, value);\n                    } else {\n                        _this.logger(value);\n                    }\n                    break;\n                default:\n                    if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"No implementation found for action type '\".concat(action.type, \"'\"));\n                    }\n                    break;\n            }\n        };\n        var resolvedOptions = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, Interpreter.defaultOptions), options);\n        var clock = resolvedOptions.clock, logger = resolvedOptions.logger, parent = resolvedOptions.parent, id = resolvedOptions.id;\n        var resolvedId = id !== undefined ? id : machine.id;\n        this.id = resolvedId;\n        this.logger = logger;\n        this.clock = clock;\n        this.parent = parent;\n        this.options = resolvedOptions;\n        this.scheduler = new _scheduler_js__WEBPACK_IMPORTED_MODULE_7__.Scheduler({\n            deferEvents: this.options.deferEvents\n        });\n        this.sessionId = _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.bookId();\n    }\n    Object.defineProperty(Interpreter.prototype, \"initialState\", {\n        get: function() {\n            var _this = this;\n            if (this._initialState) {\n                return this._initialState;\n            }\n            return (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(this, function() {\n                _this._initialState = _this.machine.initialState;\n                return _this._initialState;\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Interpreter.prototype, \"state\", {\n        /**\r\n     * @deprecated Use `.getSnapshot()` instead.\r\n     */ get: function() {\n            if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(this.status !== InterpreterStatus.NotStarted, \"Attempted to read state from uninitialized service '\".concat(this.id, \"'. Make sure the service is started first.\"));\n            }\n            return this._state;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\r\n   * Executes the actions of the given state, with that state's `context` and `event`.\r\n   *\r\n   * @param state The state whose actions will be executed\r\n   * @param actionsConfig The action implementations to use\r\n   */ Interpreter.prototype.execute = function(state, actionsConfig) {\n        var e_1, _a;\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(state.actions), _c = _b.next(); !_c.done; _c = _b.next()){\n                var action = _c.value;\n                this.exec(action, state, actionsConfig);\n            }\n        } catch (e_1_1) {\n            e_1 = {\n                error: e_1_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_1) throw e_1.error;\n            }\n        }\n    };\n    Interpreter.prototype.update = function(state, _event) {\n        var e_2, _a, e_3, _b, e_4, _c, e_5, _d;\n        var _this = this; // Attach session ID to state\n        state._sessionid = this.sessionId; // Update state\n        this._state = state; // Execute actions\n        if ((!this.machine.config.predictableActionArguments || // this is currently required to execute initial actions as the `initialState` gets cached\n        // we can't just recompute it (and execute actions while doing so) because we try to preserve identity of actors created within initial assigns\n        _event === _actions_js__WEBPACK_IMPORTED_MODULE_6__.initEvent) && this.options.execute) {\n            this.execute(this.state);\n        } else {\n            var item = void 0;\n            while(item = this._outgoingQueue.shift()){\n                item[0].send(item[1]);\n            }\n        } // Update children\n        this.children.forEach(function(child) {\n            _this.state.children[child.id] = child;\n        }); // Dev tools\n        if (this.devTools) {\n            this.devTools.send(_event.data, state);\n        } // Execute listeners\n        if (state.event) {\n            try {\n                for(var _e = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.eventListeners), _f = _e.next(); !_f.done; _f = _e.next()){\n                    var listener = _f.value;\n                    listener(state.event);\n                }\n            } catch (e_2_1) {\n                e_2 = {\n                    error: e_2_1\n                };\n            } finally{\n                try {\n                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n                } finally{\n                    if (e_2) throw e_2.error;\n                }\n            }\n        }\n        try {\n            for(var _g = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.listeners), _h = _g.next(); !_h.done; _h = _g.next()){\n                var listener = _h.value;\n                listener(state, state.event);\n            }\n        } catch (e_3_1) {\n            e_3 = {\n                error: e_3_1\n            };\n        } finally{\n            try {\n                if (_h && !_h.done && (_b = _g.return)) _b.call(_g);\n            } finally{\n                if (e_3) throw e_3.error;\n            }\n        }\n        try {\n            for(var _j = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.contextListeners), _k = _j.next(); !_k.done; _k = _j.next()){\n                var contextListener = _k.value;\n                contextListener(this.state.context, this.state.history ? this.state.history.context : undefined);\n            }\n        } catch (e_4_1) {\n            e_4 = {\n                error: e_4_1\n            };\n        } finally{\n            try {\n                if (_k && !_k.done && (_c = _j.return)) _c.call(_j);\n            } finally{\n                if (e_4) throw e_4.error;\n            }\n        }\n        if (this.state.done) {\n            // get final child state node\n            var finalChildStateNode = state.configuration.find(function(sn) {\n                return sn.type === \"final\" && sn.parent === _this.machine;\n            });\n            var doneData = finalChildStateNode && finalChildStateNode.doneData ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.mapContext)(finalChildStateNode.doneData, state.context, _event) : undefined;\n            this._doneEvent = (0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.doneInvoke)(this.id, doneData);\n            try {\n                for(var _l = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.doneListeners), _m = _l.next(); !_m.done; _m = _l.next()){\n                    var listener = _m.value;\n                    listener(this._doneEvent);\n                }\n            } catch (e_5_1) {\n                e_5 = {\n                    error: e_5_1\n                };\n            } finally{\n                try {\n                    if (_m && !_m.done && (_d = _l.return)) _d.call(_l);\n                } finally{\n                    if (e_5) throw e_5.error;\n                }\n            }\n            this._stop();\n            this._stopChildren();\n            _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.free(this.sessionId);\n        }\n    };\n    /*\r\n   * Adds a listener that is notified whenever a state transition happens. The listener is called with\r\n   * the next state and the event object that caused the state transition.\r\n   *\r\n   * @param listener The state listener\r\n   */ Interpreter.prototype.onTransition = function(listener) {\n        this.listeners.add(listener); // Send current state to listener\n        if (this.status === InterpreterStatus.Running) {\n            listener(this.state, this.state.event);\n        }\n        return this;\n    };\n    Interpreter.prototype.subscribe = function(nextListenerOrObserver, _, completeListener) {\n        var _this = this;\n        var observer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toObserver)(nextListenerOrObserver, _, completeListener);\n        this.listeners.add(observer.next); // Send current state to listener\n        if (this.status !== InterpreterStatus.NotStarted) {\n            observer.next(this.state);\n        }\n        var completeOnce = function() {\n            _this.doneListeners.delete(completeOnce);\n            _this.stopListeners.delete(completeOnce);\n            observer.complete();\n        };\n        if (this.status === InterpreterStatus.Stopped) {\n            observer.complete();\n        } else {\n            this.onDone(completeOnce);\n            this.onStop(completeOnce);\n        }\n        return {\n            unsubscribe: function() {\n                _this.listeners.delete(observer.next);\n                _this.doneListeners.delete(completeOnce);\n                _this.stopListeners.delete(completeOnce);\n            }\n        };\n    };\n    /**\r\n   * Adds an event listener that is notified whenever an event is sent to the running interpreter.\r\n   * @param listener The event listener\r\n   */ Interpreter.prototype.onEvent = function(listener) {\n        this.eventListeners.add(listener);\n        return this;\n    };\n    /**\r\n   * Adds an event listener that is notified whenever a `send` event occurs.\r\n   * @param listener The event listener\r\n   */ Interpreter.prototype.onSend = function(listener) {\n        this.sendListeners.add(listener);\n        return this;\n    };\n    /**\r\n   * Adds a context listener that is notified whenever the state context changes.\r\n   * @param listener The context listener\r\n   */ Interpreter.prototype.onChange = function(listener) {\n        this.contextListeners.add(listener);\n        return this;\n    };\n    /**\r\n   * Adds a listener that is notified when the machine is stopped.\r\n   * @param listener The listener\r\n   */ Interpreter.prototype.onStop = function(listener) {\n        this.stopListeners.add(listener);\n        return this;\n    };\n    /**\r\n   * Adds a state listener that is notified when the statechart has reached its final state.\r\n   * @param listener The state listener\r\n   */ Interpreter.prototype.onDone = function(listener) {\n        if (this.status === InterpreterStatus.Stopped && this._doneEvent) {\n            listener(this._doneEvent);\n        } else {\n            this.doneListeners.add(listener);\n        }\n        return this;\n    };\n    /**\r\n   * Removes a listener.\r\n   * @param listener The listener to remove\r\n   */ Interpreter.prototype.off = function(listener) {\n        this.listeners.delete(listener);\n        this.eventListeners.delete(listener);\n        this.sendListeners.delete(listener);\n        this.stopListeners.delete(listener);\n        this.doneListeners.delete(listener);\n        this.contextListeners.delete(listener);\n        return this;\n    };\n    /**\r\n   * Starts the interpreter from the given state, or the initial state.\r\n   * @param initialState The state to start the statechart from\r\n   */ Interpreter.prototype.start = function(initialState) {\n        var _this = this;\n        if (this.status === InterpreterStatus.Running) {\n            // Do not restart the service if it is already started\n            return this;\n        } // yes, it's a hack but we need the related cache to be populated for some things to work (like delayed transitions)\n        // this is usually called by `machine.getInitialState` but if we rehydrate from a state we might bypass this call\n        // we also don't want to call this method here as it resolves the full initial state which might involve calling assign actions\n        // and that could potentially lead to some unwanted side-effects (even such as creating some rogue actors)\n        this.machine._init();\n        _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.register(this.sessionId, this);\n        this.initialized = true;\n        this.status = InterpreterStatus.Running;\n        var resolvedState = initialState === undefined ? this.initialState : (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(this, function() {\n            return (0,_State_js__WEBPACK_IMPORTED_MODULE_9__.isStateConfig)(initialState) ? _this.machine.resolveState(initialState) : _this.machine.resolveState(_State_js__WEBPACK_IMPORTED_MODULE_9__.State.from(initialState, _this.machine.context));\n        });\n        if (this.options.devTools) {\n            this.attachDev();\n        }\n        this.scheduler.initialize(function() {\n            _this.update(resolvedState, _actions_js__WEBPACK_IMPORTED_MODULE_6__.initEvent);\n        });\n        return this;\n    };\n    Interpreter.prototype._stopChildren = function() {\n        // TODO: think about converting those to actions\n        this.children.forEach(function(child) {\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(child.stop)) {\n                child.stop();\n            }\n        });\n        this.children.clear();\n    };\n    Interpreter.prototype._stop = function() {\n        var e_6, _a, e_7, _b, e_8, _c, e_9, _d, e_10, _e;\n        try {\n            for(var _f = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.listeners), _g = _f.next(); !_g.done; _g = _f.next()){\n                var listener = _g.value;\n                this.listeners.delete(listener);\n            }\n        } catch (e_6_1) {\n            e_6 = {\n                error: e_6_1\n            };\n        } finally{\n            try {\n                if (_g && !_g.done && (_a = _f.return)) _a.call(_f);\n            } finally{\n                if (e_6) throw e_6.error;\n            }\n        }\n        try {\n            for(var _h = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.stopListeners), _j = _h.next(); !_j.done; _j = _h.next()){\n                var listener = _j.value; // call listener, then remove\n                listener();\n                this.stopListeners.delete(listener);\n            }\n        } catch (e_7_1) {\n            e_7 = {\n                error: e_7_1\n            };\n        } finally{\n            try {\n                if (_j && !_j.done && (_b = _h.return)) _b.call(_h);\n            } finally{\n                if (e_7) throw e_7.error;\n            }\n        }\n        try {\n            for(var _k = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.contextListeners), _l = _k.next(); !_l.done; _l = _k.next()){\n                var listener = _l.value;\n                this.contextListeners.delete(listener);\n            }\n        } catch (e_8_1) {\n            e_8 = {\n                error: e_8_1\n            };\n        } finally{\n            try {\n                if (_l && !_l.done && (_c = _k.return)) _c.call(_k);\n            } finally{\n                if (e_8) throw e_8.error;\n            }\n        }\n        try {\n            for(var _m = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.doneListeners), _o = _m.next(); !_o.done; _o = _m.next()){\n                var listener = _o.value;\n                this.doneListeners.delete(listener);\n            }\n        } catch (e_9_1) {\n            e_9 = {\n                error: e_9_1\n            };\n        } finally{\n            try {\n                if (_o && !_o.done && (_d = _m.return)) _d.call(_m);\n            } finally{\n                if (e_9) throw e_9.error;\n            }\n        }\n        if (!this.initialized) {\n            // Interpreter already stopped; do nothing\n            return this;\n        }\n        this.initialized = false;\n        this.status = InterpreterStatus.Stopped;\n        this._initialState = undefined;\n        try {\n            // we are going to stop within the current sync frame\n            // so we can safely just cancel this here as nothing async should be fired anyway\n            for(var _p = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(Object.keys(this.delayedEventsMap)), _q = _p.next(); !_q.done; _q = _p.next()){\n                var key = _q.value;\n                this.clock.clearTimeout(this.delayedEventsMap[key]);\n            }\n        } catch (e_10_1) {\n            e_10 = {\n                error: e_10_1\n            };\n        } finally{\n            try {\n                if (_q && !_q.done && (_e = _p.return)) _e.call(_p);\n            } finally{\n                if (e_10) throw e_10.error;\n            }\n        } // clear everything that might be enqueued\n        this.scheduler.clear();\n        this.scheduler = new _scheduler_js__WEBPACK_IMPORTED_MODULE_7__.Scheduler({\n            deferEvents: this.options.deferEvents\n        });\n    };\n    /**\r\n   * Stops the interpreter and unsubscribe all listeners.\r\n   *\r\n   * This will also notify the `onStop` listeners.\r\n   */ Interpreter.prototype.stop = function() {\n        // TODO: add warning for stopping non-root interpreters\n        var _this = this; // grab the current scheduler as it will be replaced in _stop\n        var scheduler = this.scheduler;\n        this._stop(); // let what is currently processed to be finished\n        scheduler.schedule(function() {\n            var _a;\n            if ((_a = _this._state) === null || _a === void 0 ? void 0 : _a.done) {\n                return;\n            } // it feels weird to handle this here but we need to handle this even slightly \"out of band\"\n            var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)({\n                type: \"xstate.stop\"\n            });\n            var nextState = (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(_this, function() {\n                var exitActions = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__read)(_this.state.configuration), false).sort(function(a, b) {\n                    return b.order - a.order;\n                }).map(function(stateNode) {\n                    return (0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.toActionObjects)(stateNode.onExit, _this.machine.options.actions);\n                }));\n                var _a = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__read)((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.resolveActions)(_this.machine, _this.state, _this.state.context, _event, [\n                    {\n                        type: \"exit\",\n                        actions: exitActions\n                    }\n                ], _this.machine.config.predictableActionArguments ? _this._exec : undefined, _this.machine.config.predictableActionArguments || _this.machine.config.preserveActionOrder), 2), resolvedActions = _a[0], updatedContext = _a[1];\n                var newState = new _State_js__WEBPACK_IMPORTED_MODULE_9__.State({\n                    value: _this.state.value,\n                    context: updatedContext,\n                    _event: _event,\n                    _sessionid: _this.sessionId,\n                    historyValue: undefined,\n                    history: _this.state,\n                    actions: resolvedActions.filter(function(action) {\n                        return !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isRaisableAction)(action);\n                    }),\n                    activities: {},\n                    events: [],\n                    configuration: [],\n                    transitions: [],\n                    children: {},\n                    done: _this.state.done,\n                    tags: _this.state.tags,\n                    machine: _this.machine\n                });\n                newState.changed = true;\n                return newState;\n            });\n            _this.update(nextState, _event);\n            _this._stopChildren();\n            _registry_js__WEBPACK_IMPORTED_MODULE_3__.registry.free(_this.sessionId);\n        });\n        return this;\n    };\n    Interpreter.prototype.batch = function(events) {\n        var _this = this;\n        if (this.status === InterpreterStatus.NotStarted && this.options.deferEvents) {\n            // tslint:disable-next-line:no-console\n            if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"\".concat(events.length, ' event(s) were sent to uninitialized service \"').concat(this.machine.id, '\" and are deferred. Make sure .start() is called for this service.\\nEvent: ').concat(JSON.stringify(event)));\n            }\n        } else if (this.status !== InterpreterStatus.Running) {\n            throw new Error(\"\".concat(events.length, ' event(s) were sent to uninitialized service \"').concat(this.machine.id, '\". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));\n        }\n        if (!events.length) {\n            return;\n        }\n        var exec = !!this.machine.config.predictableActionArguments && this._exec;\n        this.scheduler.schedule(function() {\n            var e_11, _a;\n            var nextState = _this.state;\n            var batchChanged = false;\n            var batchedActions = [];\n            var _loop_1 = function(event_1) {\n                var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(event_1);\n                _this.forward(_event);\n                nextState = (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(_this, function() {\n                    return _this.machine.transition(nextState, _event, undefined, exec || undefined);\n                });\n                batchedActions.push.apply(batchedActions, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__read)(_this.machine.config.predictableActionArguments ? nextState.actions : nextState.actions.map(function(a) {\n                    return (0,_State_js__WEBPACK_IMPORTED_MODULE_9__.bindActionToState)(a, nextState);\n                })), false));\n                batchChanged = batchChanged || !!nextState.changed;\n            };\n            try {\n                for(var events_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()){\n                    var event_1 = events_1_1.value;\n                    _loop_1(event_1);\n                }\n            } catch (e_11_1) {\n                e_11 = {\n                    error: e_11_1\n                };\n            } finally{\n                try {\n                    if (events_1_1 && !events_1_1.done && (_a = events_1.return)) _a.call(events_1);\n                } finally{\n                    if (e_11) throw e_11.error;\n                }\n            }\n            nextState.changed = batchChanged;\n            nextState.actions = batchedActions;\n            _this.update(nextState, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(events[events.length - 1]));\n        });\n    };\n    /**\r\n   * Returns a send function bound to this interpreter instance.\r\n   *\r\n   * @param event The event to be sent by the sender.\r\n   */ Interpreter.prototype.sender = function(event1) {\n        return this.send.bind(this, event1);\n    };\n    Interpreter.prototype._nextState = function(event1, exec) {\n        var _this = this;\n        if (exec === void 0) {\n            exec = !!this.machine.config.predictableActionArguments && this._exec;\n        }\n        var _event = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(event1);\n        if (_event.name.indexOf(_actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.errorPlatform) === 0 && !this.state.nextEvents.some(function(nextEvent) {\n            return nextEvent.indexOf(_actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.errorPlatform) === 0;\n        })) {\n            throw _event.data.data;\n        }\n        var nextState = (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.provide)(this, function() {\n            return _this.machine.transition(_this.state, _event, undefined, exec || undefined);\n        });\n        return nextState;\n    };\n    /**\r\n   * Returns the next state given the interpreter's current state and the event.\r\n   *\r\n   * This is a pure method that does _not_ update the interpreter's state.\r\n   *\r\n   * @param event The event to determine the next state\r\n   */ Interpreter.prototype.nextState = function(event1) {\n        return this._nextState(event1, false);\n    };\n    Interpreter.prototype.forward = function(event1) {\n        var e_12, _a;\n        try {\n            for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__values)(this.forwardTo), _c = _b.next(); !_c.done; _c = _b.next()){\n                var id = _c.value;\n                var child = this.children.get(id);\n                if (!child) {\n                    throw new Error(\"Unable to forward event '\".concat(event1, \"' from interpreter '\").concat(this.id, \"' to nonexistant child '\").concat(id, \"'.\"));\n                }\n                child.send(event1);\n            }\n        } catch (e_12_1) {\n            e_12 = {\n                error: e_12_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_12) throw e_12.error;\n            }\n        }\n    };\n    Interpreter.prototype.defer = function(sendAction) {\n        var _this = this;\n        var timerId = this.clock.setTimeout(function() {\n            if (\"to\" in sendAction && sendAction.to) {\n                _this.sendTo(sendAction._event, sendAction.to, true);\n            } else {\n                _this.send(sendAction._event);\n            }\n        }, sendAction.delay);\n        if (sendAction.id) {\n            this.delayedEventsMap[sendAction.id] = timerId;\n        }\n    };\n    Interpreter.prototype.cancel = function(sendId) {\n        this.clock.clearTimeout(this.delayedEventsMap[sendId]);\n        delete this.delayedEventsMap[sendId];\n    };\n    Interpreter.prototype.exec = function(action, state, actionFunctionMap) {\n        if (actionFunctionMap === void 0) {\n            actionFunctionMap = this.machine.options.actions;\n        }\n        this._exec(action, state.context, state._event, actionFunctionMap);\n    };\n    Interpreter.prototype.removeChild = function(childId) {\n        var _a;\n        this.children.delete(childId);\n        this.forwardTo.delete(childId); // this.state might not exist at the time this is called,\n        // such as when a child is added then removed while initializing the state\n        (_a = this.state) === null || _a === void 0 ? true : delete _a.children[childId];\n    };\n    Interpreter.prototype.stopChild = function(childId) {\n        var child = this.children.get(childId);\n        if (!child) {\n            return;\n        }\n        this.removeChild(childId);\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(child.stop)) {\n            child.stop();\n        }\n    };\n    Interpreter.prototype.spawn = function(entity, name, options) {\n        if (this.status !== InterpreterStatus.Running) {\n            return (0,_Actor_js__WEBPACK_IMPORTED_MODULE_10__.createDeferredActor)(entity, name);\n        }\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isPromiseLike)(entity)) {\n            return this.spawnPromise(Promise.resolve(entity), name);\n        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(entity)) {\n            return this.spawnCallback(entity, name);\n        } else if ((0,_Actor_js__WEBPACK_IMPORTED_MODULE_10__.isSpawnedActor)(entity)) {\n            return this.spawnActor(entity, name);\n        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isObservable)(entity)) {\n            return this.spawnObservable(entity, name);\n        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(entity)) {\n            return this.spawnMachine(entity, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, options), {\n                id: name\n            }));\n        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBehavior)(entity)) {\n            return this.spawnBehavior(entity, name);\n        } else {\n            throw new Error('Unable to spawn entity \"'.concat(name, '\" of type \"').concat(typeof entity, '\".'));\n        }\n    };\n    Interpreter.prototype.spawnMachine = function(machine, options) {\n        var _this = this;\n        if (options === void 0) {\n            options = {};\n        }\n        var childService = new Interpreter(machine, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, this.options), {\n            parent: this,\n            id: options.id || machine.id\n        }));\n        var resolvedOptions = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, DEFAULT_SPAWN_OPTIONS), options);\n        if (resolvedOptions.sync) {\n            childService.onTransition(function(state) {\n                _this.send(_actionTypes_js__WEBPACK_IMPORTED_MODULE_5__.update, {\n                    state: state,\n                    id: childService.id\n                });\n            });\n        }\n        var actor = childService;\n        this.children.set(childService.id, actor);\n        if (resolvedOptions.autoForward) {\n            this.forwardTo.add(childService.id);\n        }\n        childService.onDone(function(doneEvent) {\n            _this.removeChild(childService.id);\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(doneEvent, {\n                origin: childService.id\n            }));\n        }).start();\n        return actor;\n    };\n    Interpreter.prototype.spawnBehavior = function(behavior, id) {\n        var actorRef = (0,_behaviors_js__WEBPACK_IMPORTED_MODULE_11__.spawnBehavior)(behavior, {\n            id: id,\n            parent: this\n        });\n        this.children.set(id, actorRef);\n        return actorRef;\n    };\n    Interpreter.prototype.spawnPromise = function(promise, id) {\n        var _a;\n        var _this = this;\n        var canceled = false;\n        var resolvedData;\n        promise.then(function(response) {\n            if (!canceled) {\n                resolvedData = response;\n                _this.removeChild(id);\n                _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.doneInvoke)(id, response), {\n                    origin: id\n                }));\n            }\n        }, function(errorData) {\n            if (!canceled) {\n                _this.removeChild(id);\n                var errorEvent = (0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.error)(id, errorData);\n                try {\n                    // Send \"error.platform.id\" to this (parent).\n                    _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(errorEvent, {\n                        origin: id\n                    }));\n                } catch (error) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.reportUnhandledExceptionOnInvocation)(errorData, error, id);\n                    if (_this.devTools) {\n                        _this.devTools.send(errorEvent, _this.state);\n                    }\n                    if (_this.machine.strict) {\n                        // it would be better to always stop the state machine if unhandled\n                        // exception/promise rejection happens but because we don't want to\n                        // break existing code so enforce it on strict mode only especially so\n                        // because documentation says that onError is optional\n                        _this.stop();\n                    }\n                }\n            }\n        });\n        var actor = (_a = {\n            id: id,\n            send: function() {\n                return void 0;\n            },\n            subscribe: function(next, handleError, complete) {\n                var observer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toObserver)(next, handleError, complete);\n                var unsubscribed = false;\n                promise.then(function(response) {\n                    if (unsubscribed) {\n                        return;\n                    }\n                    observer.next(response);\n                    if (unsubscribed) {\n                        return;\n                    }\n                    observer.complete();\n                }, function(err) {\n                    if (unsubscribed) {\n                        return;\n                    }\n                    observer.error(err);\n                });\n                return {\n                    unsubscribe: function() {\n                        return unsubscribed = true;\n                    }\n                };\n            },\n            stop: function() {\n                canceled = true;\n            },\n            toJSON: function() {\n                return {\n                    id: id\n                };\n            },\n            getSnapshot: function() {\n                return resolvedData;\n            }\n        }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n            return this;\n        }, _a);\n        this.children.set(id, actor);\n        return actor;\n    };\n    Interpreter.prototype.spawnCallback = function(callback, id) {\n        var _a;\n        var _this = this;\n        var canceled = false;\n        var receivers = new Set();\n        var listeners = new Set();\n        var emitted;\n        var receive = function(e) {\n            emitted = e;\n            listeners.forEach(function(listener) {\n                return listener(e);\n            });\n            if (canceled) {\n                return;\n            }\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(e, {\n                origin: id\n            }));\n        };\n        var callbackStop;\n        try {\n            callbackStop = callback(receive, function(newListener) {\n                receivers.add(newListener);\n            });\n        } catch (err) {\n            this.send((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.error)(id, err));\n        }\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isPromiseLike)(callbackStop)) {\n            // it turned out to be an async function, can't reliably check this before calling `callback`\n            // because transpiled async functions are not recognizable\n            return this.spawnPromise(callbackStop, id);\n        }\n        var actor = (_a = {\n            id: id,\n            send: function(event1) {\n                return receivers.forEach(function(receiver) {\n                    return receiver(event1);\n                });\n            },\n            subscribe: function(next) {\n                var observer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toObserver)(next);\n                listeners.add(observer.next);\n                return {\n                    unsubscribe: function() {\n                        listeners.delete(observer.next);\n                    }\n                };\n            },\n            stop: function() {\n                canceled = true;\n                if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(callbackStop)) {\n                    callbackStop();\n                }\n            },\n            toJSON: function() {\n                return {\n                    id: id\n                };\n            },\n            getSnapshot: function() {\n                return emitted;\n            }\n        }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n            return this;\n        }, _a);\n        this.children.set(id, actor);\n        return actor;\n    };\n    Interpreter.prototype.spawnObservable = function(source, id) {\n        var _a;\n        var _this = this;\n        var emitted;\n        var subscription = source.subscribe(function(value) {\n            emitted = value;\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)(value, {\n                origin: id\n            }));\n        }, function(err) {\n            _this.removeChild(id);\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.error)(id, err), {\n                origin: id\n            }));\n        }, function() {\n            _this.removeChild(id);\n            _this.send((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSCXMLEvent)((0,_actions_js__WEBPACK_IMPORTED_MODULE_6__.doneInvoke)(id), {\n                origin: id\n            }));\n        });\n        var actor = (_a = {\n            id: id,\n            send: function() {\n                return void 0;\n            },\n            subscribe: function(next, handleError, complete) {\n                return source.subscribe(next, handleError, complete);\n            },\n            stop: function() {\n                return subscription.unsubscribe();\n            },\n            getSnapshot: function() {\n                return emitted;\n            },\n            toJSON: function() {\n                return {\n                    id: id\n                };\n            }\n        }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n            return this;\n        }, _a);\n        this.children.set(id, actor);\n        return actor;\n    };\n    Interpreter.prototype.spawnActor = function(actor, name) {\n        this.children.set(name, actor);\n        return actor;\n    };\n    Interpreter.prototype.spawnActivity = function(activity) {\n        var implementation = this.machine.options && this.machine.options.activities ? this.machine.options.activities[activity.type] : undefined;\n        if (!implementation) {\n            if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(false, \"No implementation found for activity '\".concat(activity.type, \"'\"));\n            } // tslint:disable-next-line:no-console\n            return;\n        } // Start implementation\n        var dispose = implementation(this.state.context, activity);\n        this.spawnEffect(activity.id, dispose);\n    };\n    Interpreter.prototype.spawnEffect = function(id, dispose) {\n        var _a;\n        this.children.set(id, (_a = {\n            id: id,\n            send: function() {\n                return void 0;\n            },\n            subscribe: function() {\n                return {\n                    unsubscribe: function() {\n                        return void 0;\n                    }\n                };\n            },\n            stop: dispose || undefined,\n            getSnapshot: function() {\n                return undefined;\n            },\n            toJSON: function() {\n                return {\n                    id: id\n                };\n            }\n        }, _a[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n            return this;\n        }, _a));\n    };\n    Interpreter.prototype.attachDev = function() {\n        var global = (0,_devTools_js__WEBPACK_IMPORTED_MODULE_12__.getGlobal)();\n        if (this.options.devTools && global) {\n            if (global.__REDUX_DEVTOOLS_EXTENSION__) {\n                var devToolsOptions = typeof this.options.devTools === \"object\" ? this.options.devTools : undefined;\n                this.devTools = global.__REDUX_DEVTOOLS_EXTENSION__.connect((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({\n                    name: this.id,\n                    autoPause: true,\n                    stateSanitizer: function(state) {\n                        return {\n                            value: state.value,\n                            context: state.context,\n                            actions: state.actions\n                        };\n                    }\n                }, devToolsOptions), {\n                    features: (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({\n                        jump: false,\n                        skip: false\n                    }, devToolsOptions ? devToolsOptions.features : undefined)\n                }), this.machine);\n                this.devTools.init(this.state);\n            } // add XState-specific dev tooling hook\n            (0,_devTools_js__WEBPACK_IMPORTED_MODULE_12__.registerService)(this);\n        }\n    };\n    Interpreter.prototype.toJSON = function() {\n        return {\n            id: this.id\n        };\n    };\n    Interpreter.prototype[_utils_js__WEBPACK_IMPORTED_MODULE_0__.symbolObservable] = function() {\n        return this;\n    };\n    Interpreter.prototype.getSnapshot = function() {\n        if (this.status === InterpreterStatus.NotStarted) {\n            return this.initialState;\n        }\n        return this._state;\n    };\n    /**\r\n   * The default interpreter options:\r\n   *\r\n   * - `clock` uses the global `setTimeout` and `clearTimeout` functions\r\n   * - `logger` uses the global `console.log()` method\r\n   */ Interpreter.defaultOptions = {\n        execute: true,\n        deferEvents: true,\n        clock: {\n            setTimeout: function(fn, ms) {\n                return setTimeout(fn, ms);\n            },\n            clearTimeout: function(id) {\n                return clearTimeout(id);\n            }\n        },\n        logger: /*#__PURE__*/ console.log.bind(console),\n        devTools: false\n    };\n    Interpreter.interpret = interpret;\n    return Interpreter;\n}();\nvar resolveSpawnOptions = function(nameOrOptions) {\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(nameOrOptions)) {\n        return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, DEFAULT_SPAWN_OPTIONS), {\n            name: nameOrOptions\n        });\n    }\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, DEFAULT_SPAWN_OPTIONS), {\n        name: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.uniqueId)()\n    }), nameOrOptions);\n};\nfunction spawn(entity, nameOrOptions) {\n    var resolvedOptions = resolveSpawnOptions(nameOrOptions);\n    return (0,_serviceScope_js__WEBPACK_IMPORTED_MODULE_8__.consume)(function(service) {\n        if (!_environment_js__WEBPACK_IMPORTED_MODULE_1__.IS_PRODUCTION) {\n            var isLazyEntity = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(entity) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(entity);\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.warn)(!!service || isLazyEntity, 'Attempted to spawn an Actor (ID: \"'.concat((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isMachine)(entity) ? entity.id : \"undefined\", '\") outside of a service. This will have no effect.'));\n        }\n        if (service) {\n            return service.spawn(entity, resolvedOptions.name, resolvedOptions);\n        } else {\n            return (0,_Actor_js__WEBPACK_IMPORTED_MODULE_10__.createDeferredActor)(entity, resolvedOptions.name);\n        }\n    });\n}\n/**\r\n * Creates a new Interpreter instance for the given machine with the provided options, if any.\r\n *\r\n * @param machine The machine to interpret\r\n * @param options Interpreter options\r\n */ function interpret(machine, options) {\n    var interpreter = new Interpreter(machine, options);\n    return interpreter;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2ludGVycHJldGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlGO0FBQ3hCO0FBQ1k7QUFDNkM7QUFDRjtBQUMvRDtBQUMrTztBQUNyUDtBQUNzQjtBQUN4QjtBQUNrQjtBQUNOO0FBQ047QUFFL0MsSUFBSXFELHdCQUF3QjtJQUMxQkMsTUFBTTtJQUNOQyxhQUFhO0FBQ2Y7QUFDQSxJQUFJQztBQUVILFVBQVVBLGlCQUFpQjtJQUMxQkEsaUJBQWlCLENBQUNBLGlCQUFpQixDQUFDLGFBQWEsR0FBRyxFQUFFLEdBQUc7SUFDekRBLGlCQUFpQixDQUFDQSxpQkFBaUIsQ0FBQyxVQUFVLEdBQUcsRUFBRSxHQUFHO0lBQ3REQSxpQkFBaUIsQ0FBQ0EsaUJBQWlCLENBQUMsVUFBVSxHQUFHLEVBQUUsR0FBRztBQUN4RCxHQUFHQSxxQkFBc0JBLENBQUFBLG9CQUFvQixDQUFDO0FBRTlDLElBQUlDLGNBQ0osV0FBVyxHQUVYLFdBQVcsR0FDWDtJQUNFOzs7OztHQUtDLEdBQ0QsU0FBU0EsWUFBWUMsT0FBTyxFQUFFQyxPQUFPO1FBQ25DLElBQUlBLFlBQVksS0FBSyxHQUFHO1lBQ3RCQSxVQUFVRixZQUFZRyxjQUFjO1FBQ3RDO1FBRUEsSUFBSUMsUUFBUSxJQUFJO1FBRWhCLElBQUksQ0FBQ0gsT0FBTyxHQUFHQTtRQUNmLElBQUksQ0FBQ0ksZ0JBQWdCLEdBQUcsQ0FBQztRQUN6QixJQUFJLENBQUNDLFNBQVMsR0FBRyxJQUFJQztRQUNyQixJQUFJLENBQUNDLGdCQUFnQixHQUFHLElBQUlEO1FBQzVCLElBQUksQ0FBQ0UsYUFBYSxHQUFHLElBQUlGO1FBQ3pCLElBQUksQ0FBQ0csYUFBYSxHQUFHLElBQUlIO1FBQ3pCLElBQUksQ0FBQ0ksY0FBYyxHQUFHLElBQUlKO1FBQzFCLElBQUksQ0FBQ0ssYUFBYSxHQUFHLElBQUlMO1FBQ3pCOztLQUVDLEdBRUQsSUFBSSxDQUFDTSxXQUFX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Q3pEO0lBQ0Y7QUFDRjtBQUNBOzs7OztDQUtDLEdBRUQsU0FBU3lQLFVBQVVwUixPQUFPLEVBQUVDLE9BQU87SUFDakMsSUFBSXdSLGNBQWMsSUFBSTFSLFlBQVlDLFNBQVNDO0lBQzNDLE9BQU93UjtBQUNUO0FBRTREIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLWdyaWQtMi8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvaW50ZXJwcmV0ZXIuanM/YWQ4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX3ZhbHVlcywgX19zcHJlYWRBcnJheSwgX19yZWFkLCBfX2Fzc2lnbiB9IGZyb20gJy4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IFNwZWNpYWxUYXJnZXRzLCBBY3Rpb25UeXBlcyB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgaXNTdGF0ZUNvbmZpZywgU3RhdGUsIGJpbmRBY3Rpb25Ub1N0YXRlIH0gZnJvbSAnLi9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBlcnJvclBsYXRmb3JtLCB1cGRhdGUsIGVycm9yIGFzIGVycm9yJDEsIGxvZywgc3RvcCwgc3RhcnQsIGNhbmNlbCwgc2VuZCwgcmFpc2UgfSBmcm9tICcuL2FjdGlvblR5cGVzLmpzJztcbmltcG9ydCB7IGluaXRFdmVudCwgZG9uZUludm9rZSwgdG9BY3Rpb25PYmplY3RzLCByZXNvbHZlQWN0aW9ucywgZXJyb3IsIGdldEFjdGlvbkZ1bmN0aW9uIH0gZnJvbSAnLi9hY3Rpb25zLmpzJztcbmltcG9ydCB7IElTX1BST0RVQ1RJT04gfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcbmltcG9ydCB7IHdhcm4sIG1hcENvbnRleHQsIHRvT2JzZXJ2ZXIsIGlzRnVuY3Rpb24sIHRvU0NYTUxFdmVudCwgZmxhdHRlbiwgaXNSYWlzYWJsZUFjdGlvbiwgaXNQcm9taXNlTGlrZSwgaXNPYnNlcnZhYmxlLCBpc01hY2hpbmUsIGlzQmVoYXZpb3IsIHJlcG9ydFVuaGFuZGxlZEV4Y2VwdGlvbk9uSW52b2NhdGlvbiwgc3ltYm9sT2JzZXJ2YWJsZSwgaXNBcnJheSwgdG9FdmVudE9iamVjdCwgaXNTdHJpbmcsIGlzQWN0b3IsIHRvSW52b2tlU291cmNlLCB1bmlxdWVJZCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGVmZXJyZWRBY3RvciwgaXNTcGF3bmVkQWN0b3IgfSBmcm9tICcuL0FjdG9yLmpzJztcbmltcG9ydCB7IHJlZ2lzdHJ5IH0gZnJvbSAnLi9yZWdpc3RyeS5qcyc7XG5pbXBvcnQgeyBnZXRHbG9iYWwsIHJlZ2lzdGVyU2VydmljZSB9IGZyb20gJy4vZGV2VG9vbHMuanMnO1xuaW1wb3J0IHsgcHJvdmlkZSwgY29uc3VtZSB9IGZyb20gJy4vc2VydmljZVNjb3BlLmpzJztcbmltcG9ydCB7IHNwYXduQmVoYXZpb3IgfSBmcm9tICcuL2JlaGF2aW9ycy5qcyc7XG5cbnZhciBERUZBVUxUX1NQQVdOX09QVElPTlMgPSB7XG4gIHN5bmM6IGZhbHNlLFxuICBhdXRvRm9yd2FyZDogZmFsc2Vcbn07XG52YXIgSW50ZXJwcmV0ZXJTdGF0dXM7XG5cbihmdW5jdGlvbiAoSW50ZXJwcmV0ZXJTdGF0dXMpIHtcbiAgSW50ZXJwcmV0ZXJTdGF0dXNbSW50ZXJwcmV0ZXJTdGF0dXNbXCJOb3RTdGFydGVkXCJdID0gMF0gPSBcIk5vdFN0YXJ0ZWRcIjtcbiAgSW50ZXJwcmV0ZXJTdGF0dXNbSW50ZXJwcmV0ZXJTdGF0dXNbXCJSdW5uaW5nXCJdID0gMV0gPSBcIlJ1bm5pbmdcIjtcbiAgSW50ZXJwcmV0ZXJTdGF0dXNbSW50ZXJwcmV0ZXJTdGF0dXNbXCJTdG9wcGVkXCJdID0gMl0gPSBcIlN0b3BwZWRcIjtcbn0pKEludGVycHJldGVyU3RhdHVzIHx8IChJbnRlcnByZXRlclN0YXR1cyA9IHt9KSk7XG5cbnZhciBJbnRlcnByZXRlciA9XG4vKiNfX1BVUkVfXyovXG5cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBJbnRlcnByZXRlciBpbnN0YW5jZSAoaS5lLiwgc2VydmljZSkgZm9yIHRoZSBnaXZlbiBtYWNoaW5lIHdpdGggdGhlIHByb3ZpZGVkIG9wdGlvbnMsIGlmIGFueS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBtYWNoaW5lIFRoZSBtYWNoaW5lIHRvIGJlIGludGVycHJldGVkXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSW50ZXJwcmV0ZXIgb3B0aW9uc1xyXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcnByZXRlcihtYWNoaW5lLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IEludGVycHJldGVyLmRlZmF1bHRPcHRpb25zO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLm1hY2hpbmUgPSBtYWNoaW5lO1xuICAgIHRoaXMuZGVsYXllZEV2ZW50c01hcCA9IHt9O1xuICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgIHRoaXMuY29udGV4dExpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLnN0b3BMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5kb25lTGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5zZW5kTGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGUgc2VydmljZSBpcyBzdGFydGVkLlxyXG4gICAgICovXG5cbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgdGhpcy5zdGF0dXMgPSBJbnRlcnByZXRlclN0YXR1cy5Ob3RTdGFydGVkO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5mb3J3YXJkVG8gPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5fb3V0Z29pbmdRdWV1ZSA9IFtdO1xuICAgIC8qKlxyXG4gICAgICogQWxpYXMgZm9yIEludGVycHJldGVyLnByb3RvdHlwZS5zdGFydFxyXG4gICAgICovXG5cbiAgICB0aGlzLmluaXQgPSB0aGlzLnN0YXJ0O1xuICAgIC8qKlxyXG4gICAgICogU2VuZHMgYW4gZXZlbnQgdG8gdGhlIHJ1bm5pbmcgaW50ZXJwcmV0ZXIgdG8gdHJpZ2dlciBhIHRyYW5zaXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQW4gYXJyYXkgb2YgZXZlbnRzIChiYXRjaGVkKSBjYW4gYmUgc2VudCBhcyB3ZWxsLCB3aGljaCB3aWxsIHNlbmQgYWxsXHJcbiAgICAgKiBiYXRjaGVkIGV2ZW50cyB0byB0aGUgcnVubmluZyBpbnRlcnByZXRlci4gVGhlIGxpc3RlbmVycyB3aWxsIGJlXHJcbiAgICAgKiBub3RpZmllZCBvbmx5ICoqb25jZSoqIHdoZW4gYWxsIGV2ZW50cyBhcmUgcHJvY2Vzc2VkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQocykgdG8gc2VuZFxyXG4gICAgICovXG5cbiAgICB0aGlzLnNlbmQgPSBmdW5jdGlvbiAoZXZlbnQsIHBheWxvYWQpIHtcbiAgICAgIGlmIChpc0FycmF5KGV2ZW50KSkge1xuICAgICAgICBfdGhpcy5iYXRjaChldmVudCk7XG5cbiAgICAgICAgcmV0dXJuIF90aGlzLnN0YXRlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2V2ZW50ID0gdG9TQ1hNTEV2ZW50KHRvRXZlbnRPYmplY3QoZXZlbnQsIHBheWxvYWQpKTtcblxuICAgICAgaWYgKF90aGlzLnN0YXR1cyA9PT0gSW50ZXJwcmV0ZXJTdGF0dXMuU3RvcHBlZCkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgICAgIHdhcm4oZmFsc2UsIFwiRXZlbnQgXFxcIlwiLmNvbmNhdChfZXZlbnQubmFtZSwgXCJcXFwiIHdhcyBzZW50IHRvIHN0b3BwZWQgc2VydmljZSBcXFwiXCIpLmNvbmNhdChfdGhpcy5tYWNoaW5lLmlkLCBcIlxcXCIuIFRoaXMgc2VydmljZSBoYXMgYWxyZWFkeSByZWFjaGVkIGl0cyBmaW5hbCBzdGF0ZSwgYW5kIHdpbGwgbm90IHRyYW5zaXRpb24uXFxuRXZlbnQ6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoX2V2ZW50LmRhdGEpKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3RoaXMuc3RhdGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5zdGF0dXMgIT09IEludGVycHJldGVyU3RhdHVzLlJ1bm5pbmcgJiYgIV90aGlzLm9wdGlvbnMuZGVmZXJFdmVudHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgXFxcIlwiLmNvbmNhdChfZXZlbnQubmFtZSwgXCJcXFwiIHdhcyBzZW50IHRvIHVuaW5pdGlhbGl6ZWQgc2VydmljZSBcXFwiXCIpLmNvbmNhdChfdGhpcy5tYWNoaW5lLmlkIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgLCBcIlxcXCIuIE1ha2Ugc3VyZSAuc3RhcnQoKSBpcyBjYWxsZWQgZm9yIHRoaXMgc2VydmljZSwgb3Igc2V0IHsgZGVmZXJFdmVudHM6IHRydWUgfSBpbiB0aGUgc2VydmljZSBvcHRpb25zLlxcbkV2ZW50OiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KF9ldmVudC5kYXRhKSkpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGb3J3YXJkIGNvcHkgb2YgZXZlbnQgdG8gY2hpbGQgYWN0b3JzXG4gICAgICAgIF90aGlzLmZvcndhcmQoX2V2ZW50KTtcblxuICAgICAgICB2YXIgbmV4dFN0YXRlID0gX3RoaXMuX25leHRTdGF0ZShfZXZlbnQpO1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZShuZXh0U3RhdGUsIF9ldmVudCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIF90aGlzLl9zdGF0ZTsgLy8gVE9ETzogZGVwcmVjYXRlIChzaG91bGQgcmV0dXJuIHZvaWQpXG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6c2VtaWNvbG9uXG4gICAgfTtcblxuICAgIHRoaXMuc2VuZFRvID0gZnVuY3Rpb24gKGV2ZW50LCB0bywgaW1tZWRpYXRlKSB7XG4gICAgICB2YXIgaXNQYXJlbnQgPSBfdGhpcy5wYXJlbnQgJiYgKHRvID09PSBTcGVjaWFsVGFyZ2V0cy5QYXJlbnQgfHwgX3RoaXMucGFyZW50LmlkID09PSB0byk7XG4gICAgICB2YXIgdGFyZ2V0ID0gaXNQYXJlbnQgPyBfdGhpcy5wYXJlbnQgOiBpc1N0cmluZyh0bykgPyB0byA9PT0gU3BlY2lhbFRhcmdldHMuSW50ZXJuYWwgPyBfdGhpcyA6IF90aGlzLmNoaWxkcmVuLmdldCh0bykgfHwgcmVnaXN0cnkuZ2V0KHRvKSA6IGlzQWN0b3IodG8pID8gdG8gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIGlmICghaXNQYXJlbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gc2VuZCBldmVudCB0byBjaGlsZCAnXCIuY29uY2F0KHRvLCBcIicgZnJvbSBzZXJ2aWNlICdcIikuY29uY2F0KF90aGlzLmlkLCBcIicuXCIpKTtcbiAgICAgICAgfSAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuXG5cbiAgICAgICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICAgICAgd2FybihmYWxzZSwgXCJTZXJ2aWNlICdcIi5jb25jYXQoX3RoaXMuaWQsIFwiJyBoYXMgbm8gcGFyZW50OiB1bmFibGUgdG8gc2VuZCBldmVudCBcIikuY29uY2F0KGV2ZW50LnR5cGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCdtYWNoaW5lJyBpbiB0YXJnZXQpIHtcbiAgICAgICAgLy8gcGVyaGFwcyB0aG9zZSBldmVudHMgc2hvdWxkIGJlIHJlamVjdGVkIGluIHRoZSBwYXJlbnRcbiAgICAgICAgLy8gYnV0IGF0bSBpdCBkb2Vzbid0IGhhdmUgZWFzeSBhY2Nlc3MgdG8gYWxsIG9mIHRoZSBpbmZvcm1hdGlvbiB0aGF0IGlzIHJlcXVpcmVkIHRvIGRvIGl0IHJlbGlhYmx5XG4gICAgICAgIGlmIChfdGhpcy5zdGF0dXMgIT09IEludGVycHJldGVyU3RhdHVzLlN0b3BwZWQgfHwgX3RoaXMucGFyZW50ICE9PSB0YXJnZXQgfHwgLy8gd2UgbmVlZCB0byBzZW5kIGV2ZW50cyB0byB0aGUgcGFyZW50IGZyb20gZXhpdCBoYW5kbGVycyBvZiBhIG1hY2hpbmUgdGhhdCByZWFjaGVkIGl0cyBmaW5hbCBzdGF0ZVxuICAgICAgICBfdGhpcy5zdGF0ZS5kb25lKSB7XG4gICAgICAgICAgLy8gU2VuZCBTQ1hNTCBldmVudHMgdG8gbWFjaGluZXNcbiAgICAgICAgICB2YXIgc2N4bWxFdmVudCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBldmVudCksIHtcbiAgICAgICAgICAgIG5hbWU6IGV2ZW50Lm5hbWUgPT09IGVycm9yJDEgPyBcIlwiLmNvbmNhdChlcnJvcihfdGhpcy5pZCkpIDogZXZlbnQubmFtZSxcbiAgICAgICAgICAgIG9yaWdpbjogX3RoaXMuc2Vzc2lvbklkXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIWltbWVkaWF0ZSAmJiBfdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cykge1xuICAgICAgICAgICAgX3RoaXMuX291dGdvaW5nUXVldWUucHVzaChbdGFyZ2V0LCBzY3htbEV2ZW50XSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5zZW5kKHNjeG1sRXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2VuZCBub3JtYWwgZXZlbnRzIHRvIG90aGVyIHRhcmdldHNcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUgJiYgX3RoaXMubWFjaGluZS5jb25maWcucHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHMpIHtcbiAgICAgICAgICBfdGhpcy5fb3V0Z29pbmdRdWV1ZS5wdXNoKFt0YXJnZXQsIGV2ZW50LmRhdGFdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXQuc2VuZChldmVudC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9leGVjID0gZnVuY3Rpb24gKGFjdGlvbiwgY29udGV4dCwgX2V2ZW50LCBhY3Rpb25GdW5jdGlvbk1hcCkge1xuICAgICAgaWYgKGFjdGlvbkZ1bmN0aW9uTWFwID09PSB2b2lkIDApIHtcbiAgICAgICAgYWN0aW9uRnVuY3Rpb25NYXAgPSBfdGhpcy5tYWNoaW5lLm9wdGlvbnMuYWN0aW9ucztcbiAgICAgIH1cblxuICAgICAgdmFyIGFjdGlvbk9yRXhlYyA9IGFjdGlvbi5leGVjIHx8IGdldEFjdGlvbkZ1bmN0aW9uKGFjdGlvbi50eXBlLCBhY3Rpb25GdW5jdGlvbk1hcCk7XG4gICAgICB2YXIgZXhlYyA9IGlzRnVuY3Rpb24oYWN0aW9uT3JFeGVjKSA/IGFjdGlvbk9yRXhlYyA6IGFjdGlvbk9yRXhlYyA/IGFjdGlvbk9yRXhlYy5leGVjIDogYWN0aW9uLmV4ZWM7XG5cbiAgICAgIGlmIChleGVjKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGV4ZWMoY29udGV4dCwgX2V2ZW50LmRhdGEsICFfdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyA/IHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgc3RhdGU6IF90aGlzLnN0YXRlLFxuICAgICAgICAgICAgX2V2ZW50OiBfZXZlbnRcbiAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBfZXZlbnQ6IF9ldmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoX3RoaXMucGFyZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5wYXJlbnQuc2VuZCh7XG4gICAgICAgICAgICAgIHR5cGU6ICd4c3RhdGUuZXJyb3InLFxuICAgICAgICAgICAgICBkYXRhOiBlcnJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgcmFpc2U6XG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgcmFpc2UgYWN0aW9uIHJlYWNoZWQgdGhlIGludGVycHJldGVyIHRoZW4gaXQncyBhIGRlbGF5ZWQgb25lXG4gICAgICAgICAgICB2YXIgc2VuZEFjdGlvbl8xID0gYWN0aW9uO1xuXG4gICAgICAgICAgICBfdGhpcy5kZWZlcihzZW5kQWN0aW9uXzEpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBzZW5kOlxuICAgICAgICAgIHZhciBzZW5kQWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBzZW5kQWN0aW9uLmRlbGF5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgX3RoaXMuZGVmZXIoc2VuZEFjdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNlbmRBY3Rpb24udG8pIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2VuZFRvKHNlbmRBY3Rpb24uX2V2ZW50LCBzZW5kQWN0aW9uLnRvLCBfZXZlbnQgPT09IGluaXRFdmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBfdGhpcy5zZW5kKHNlbmRBY3Rpb24uX2V2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIGNhbmNlbDpcbiAgICAgICAgICBfdGhpcy5jYW5jZWwoYWN0aW9uLnNlbmRJZCk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIHN0YXJ0OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0dXMgIT09IEludGVycHJldGVyU3RhdHVzLlJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYWN0aXZpdHkgPSBhY3Rpb24uYWN0aXZpdHk7IC8vIElmIHRoZSBhY3Rpdml0eSB3aWxsIGJlIHN0b3BwZWQgcmlnaHQgYWZ0ZXIgaXQncyBzdGFydGVkXG4gICAgICAgICAgICAvLyAoc3VjaCBhcyBpbiB0cmFuc2llbnQgc3RhdGVzKVxuICAgICAgICAgICAgLy8gZG9uJ3QgYm90aGVyIHN0YXJ0aW5nIHRoZSBhY3Rpdml0eS5cblxuICAgICAgICAgICAgaWYgKCAvLyBpbiB2NCB3aXRoIGBwcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50c2AgaW52b2tlcyBhcmUgY2FsbGVkIGVhZ2VybHkgd2hlbiB0aGUgYHRoaXMuc3RhdGVgIHN0aWxsIHBvaW50cyB0byB0aGUgcHJldmlvdXMgc3RhdGVcbiAgICAgICAgICAgICFfdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyAmJiAhX3RoaXMuc3RhdGUuYWN0aXZpdGllc1thY3Rpdml0eS5pZCB8fCBhY3Rpdml0eS50eXBlXSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gLy8gSW52b2tlZCBzZXJ2aWNlc1xuXG5cbiAgICAgICAgICAgIGlmIChhY3Rpdml0eS50eXBlID09PSBBY3Rpb25UeXBlcy5JbnZva2UpIHtcbiAgICAgICAgICAgICAgdmFyIGludm9rZVNvdXJjZSA9IHRvSW52b2tlU291cmNlKGFjdGl2aXR5LnNyYyk7XG4gICAgICAgICAgICAgIHZhciBzZXJ2aWNlQ3JlYXRvciA9IF90aGlzLm1hY2hpbmUub3B0aW9ucy5zZXJ2aWNlcyA/IF90aGlzLm1hY2hpbmUub3B0aW9ucy5zZXJ2aWNlc1tpbnZva2VTb3VyY2UudHlwZV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIHZhciBpZCA9IGFjdGl2aXR5LmlkLFxuICAgICAgICAgICAgICAgICAgZGF0YSA9IGFjdGl2aXR5LmRhdGE7XG5cbiAgICAgICAgICAgICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICAgICAgICAgICAgd2FybighKCdmb3J3YXJkJyBpbiBhY3Rpdml0eSksIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICBcImBmb3J3YXJkYCBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkIChmb3VuZCBpbiBpbnZvY2F0aW9uIG9mICdcIi5jb25jYXQoYWN0aXZpdHkuc3JjLCBcIicgaW4gaW4gbWFjaGluZSAnXCIpLmNvbmNhdChfdGhpcy5tYWNoaW5lLmlkLCBcIicpLiBcIikgKyBcIlBsZWFzZSB1c2UgYGF1dG9Gb3J3YXJkYCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBhdXRvRm9yd2FyZCA9ICdhdXRvRm9yd2FyZCcgaW4gYWN0aXZpdHkgPyBhY3Rpdml0eS5hdXRvRm9yd2FyZCA6ICEhYWN0aXZpdHkuZm9yd2FyZDtcblxuICAgICAgICAgICAgICBpZiAoIXNlcnZpY2VDcmVhdG9yKSB7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBpZiAoIUlTX1BST0RVQ1RJT04pIHtcbiAgICAgICAgICAgICAgICAgIHdhcm4oZmFsc2UsIFwiTm8gc2VydmljZSBmb3VuZCBmb3IgaW52b2NhdGlvbiAnXCIuY29uY2F0KGFjdGl2aXR5LnNyYywgXCInIGluIG1hY2hpbmUgJ1wiKS5jb25jYXQoX3RoaXMubWFjaGluZS5pZCwgXCInLlwiKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIHJlc29sdmVkRGF0YSA9IGRhdGEgPyBtYXBDb250ZXh0KGRhdGEsIGNvbnRleHQsIF9ldmVudCkgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXJ2aWNlQ3JlYXRvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB3YXJuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGlzRnVuY3Rpb24oc2VydmljZUNyZWF0b3IpID8gc2VydmljZUNyZWF0b3IoY29udGV4dCwgX2V2ZW50LmRhdGEsIHtcbiAgICAgICAgICAgICAgICBkYXRhOiByZXNvbHZlZERhdGEsXG4gICAgICAgICAgICAgICAgc3JjOiBpbnZva2VTb3VyY2UsXG4gICAgICAgICAgICAgICAgbWV0YTogYWN0aXZpdHkubWV0YVxuICAgICAgICAgICAgICB9KSA6IHNlcnZpY2VDcmVhdG9yO1xuXG4gICAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogd2Fybj9cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHZvaWQgMDtcblxuICAgICAgICAgICAgICBpZiAoaXNNYWNoaW5lKHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSByZXNvbHZlZERhdGEgPyBzb3VyY2Uud2l0aENvbnRleHQocmVzb2x2ZWREYXRhKSA6IHNvdXJjZTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgYXV0b0ZvcndhcmQ6IGF1dG9Gb3J3YXJkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLnNwYXduKHNvdXJjZSwgaWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuc3Bhd25BY3Rpdml0eShhY3Rpdml0eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIHN0b3A6XG4gICAgICAgICAge1xuICAgICAgICAgICAgX3RoaXMuc3RvcENoaWxkKGFjdGlvbi5hY3Rpdml0eS5pZCk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIGxvZzpcbiAgICAgICAgICB2YXIgX2EgPSBhY3Rpb24sXG4gICAgICAgICAgICAgIGxhYmVsID0gX2EubGFiZWwsXG4gICAgICAgICAgICAgIHZhbHVlID0gX2EudmFsdWU7XG5cbiAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlcihsYWJlbCwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIodmFsdWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICAgICAgICB3YXJuKGZhbHNlLCBcIk5vIGltcGxlbWVudGF0aW9uIGZvdW5kIGZvciBhY3Rpb24gdHlwZSAnXCIuY29uY2F0KGFjdGlvbi50eXBlLCBcIidcIikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcmVzb2x2ZWRPcHRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIEludGVycHJldGVyLmRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG5cbiAgICB2YXIgY2xvY2sgPSByZXNvbHZlZE9wdGlvbnMuY2xvY2ssXG4gICAgICAgIGxvZ2dlciA9IHJlc29sdmVkT3B0aW9ucy5sb2dnZXIsXG4gICAgICAgIHBhcmVudCA9IHJlc29sdmVkT3B0aW9ucy5wYXJlbnQsXG4gICAgICAgIGlkID0gcmVzb2x2ZWRPcHRpb25zLmlkO1xuICAgIHZhciByZXNvbHZlZElkID0gaWQgIT09IHVuZGVmaW5lZCA/IGlkIDogbWFjaGluZS5pZDtcbiAgICB0aGlzLmlkID0gcmVzb2x2ZWRJZDtcbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICB0aGlzLmNsb2NrID0gY2xvY2s7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gcmVzb2x2ZWRPcHRpb25zO1xuICAgIHRoaXMuc2NoZWR1bGVyID0gbmV3IFNjaGVkdWxlcih7XG4gICAgICBkZWZlckV2ZW50czogdGhpcy5vcHRpb25zLmRlZmVyRXZlbnRzXG4gICAgfSk7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSByZWdpc3RyeS5ib29rSWQoKTtcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcnByZXRlci5wcm90b3R5cGUsIFwiaW5pdGlhbFN0YXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pbml0aWFsU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxTdGF0ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb3ZpZGUodGhpcywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5faW5pdGlhbFN0YXRlID0gX3RoaXMubWFjaGluZS5pbml0aWFsU3RhdGU7XG4gICAgICAgIHJldHVybiBfdGhpcy5faW5pdGlhbFN0YXRlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcnByZXRlci5wcm90b3R5cGUsIFwic3RhdGVcIiwge1xuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGAuZ2V0U25hcHNob3QoKWAgaW5zdGVhZC5cclxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICAgIHdhcm4odGhpcy5zdGF0dXMgIT09IEludGVycHJldGVyU3RhdHVzLk5vdFN0YXJ0ZWQsIFwiQXR0ZW1wdGVkIHRvIHJlYWQgc3RhdGUgZnJvbSB1bmluaXRpYWxpemVkIHNlcnZpY2UgJ1wiLmNvbmNhdCh0aGlzLmlkLCBcIicuIE1ha2Ugc3VyZSB0aGUgc2VydmljZSBpcyBzdGFydGVkIGZpcnN0LlwiKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgLyoqXHJcbiAgICogRXhlY3V0ZXMgdGhlIGFjdGlvbnMgb2YgdGhlIGdpdmVuIHN0YXRlLCB3aXRoIHRoYXQgc3RhdGUncyBgY29udGV4dGAgYW5kIGBldmVudGAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc3RhdGUgVGhlIHN0YXRlIHdob3NlIGFjdGlvbnMgd2lsbCBiZSBleGVjdXRlZFxyXG4gICAqIEBwYXJhbSBhY3Rpb25zQ29uZmlnIFRoZSBhY3Rpb24gaW1wbGVtZW50YXRpb25zIHRvIHVzZVxyXG4gICAqL1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb25zQ29uZmlnKSB7XG4gICAgdmFyIGVfMSwgX2E7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhzdGF0ZS5hY3Rpb25zKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICB2YXIgYWN0aW9uID0gX2MudmFsdWU7XG4gICAgICAgIHRoaXMuZXhlYyhhY3Rpb24sIHN0YXRlLCBhY3Rpb25zQ29uZmlnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzFfMSkge1xuICAgICAgZV8xID0ge1xuICAgICAgICBlcnJvcjogZV8xXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgX2V2ZW50KSB7XG4gICAgdmFyIGVfMiwgX2EsIGVfMywgX2IsIGVfNCwgX2MsIGVfNSwgX2Q7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyBBdHRhY2ggc2Vzc2lvbiBJRCB0byBzdGF0ZVxuXG5cbiAgICBzdGF0ZS5fc2Vzc2lvbmlkID0gdGhpcy5zZXNzaW9uSWQ7IC8vIFVwZGF0ZSBzdGF0ZVxuXG4gICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTsgLy8gRXhlY3V0ZSBhY3Rpb25zXG5cbiAgICBpZiAoKCF0aGlzLm1hY2hpbmUuY29uZmlnLnByZWRpY3RhYmxlQWN0aW9uQXJndW1lbnRzIHx8IC8vIHRoaXMgaXMgY3VycmVudGx5IHJlcXVpcmVkIHRvIGV4ZWN1dGUgaW5pdGlhbCBhY3Rpb25zIGFzIHRoZSBgaW5pdGlhbFN0YXRlYCBnZXRzIGNhY2hlZFxuICAgIC8vIHdlIGNhbid0IGp1c3QgcmVjb21wdXRlIGl0IChhbmQgZXhlY3V0ZSBhY3Rpb25zIHdoaWxlIGRvaW5nIHNvKSBiZWNhdXNlIHdlIHRyeSB0byBwcmVzZXJ2ZSBpZGVudGl0eSBvZiBhY3RvcnMgY3JlYXRlZCB3aXRoaW4gaW5pdGlhbCBhc3NpZ25zXG4gICAgX2V2ZW50ID09PSBpbml0RXZlbnQpICYmIHRoaXMub3B0aW9ucy5leGVjdXRlKSB7XG4gICAgICB0aGlzLmV4ZWN1dGUodGhpcy5zdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpdGVtID0gdm9pZCAwO1xuXG4gICAgICB3aGlsZSAoaXRlbSA9IHRoaXMuX291dGdvaW5nUXVldWUuc2hpZnQoKSkge1xuICAgICAgICBpdGVtWzBdLnNlbmQoaXRlbVsxXSk7XG4gICAgICB9XG4gICAgfSAvLyBVcGRhdGUgY2hpbGRyZW5cblxuXG4gICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgX3RoaXMuc3RhdGUuY2hpbGRyZW5bY2hpbGQuaWRdID0gY2hpbGQ7XG4gICAgfSk7IC8vIERldiB0b29sc1xuXG4gICAgaWYgKHRoaXMuZGV2VG9vbHMpIHtcbiAgICAgIHRoaXMuZGV2VG9vbHMuc2VuZChfZXZlbnQuZGF0YSwgc3RhdGUpO1xuICAgIH0gLy8gRXhlY3V0ZSBsaXN0ZW5lcnNcblxuXG4gICAgaWYgKHN0YXRlLmV2ZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfZSA9IF9fdmFsdWVzKHRoaXMuZXZlbnRMaXN0ZW5lcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGxpc3RlbmVyID0gX2YudmFsdWU7XG4gICAgICAgICAgbGlzdGVuZXIoc3RhdGUuZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlXzJfMSkge1xuICAgICAgICBlXzIgPSB7XG4gICAgICAgICAgZXJyb3I6IGVfMl8xXG4gICAgICAgIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2EgPSBfZS5yZXR1cm4pKSBfYS5jYWxsKF9lKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2cgPSBfX3ZhbHVlcyh0aGlzLmxpc3RlbmVycyksIF9oID0gX2cubmV4dCgpOyAhX2guZG9uZTsgX2ggPSBfZy5uZXh0KCkpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gX2gudmFsdWU7XG4gICAgICAgIGxpc3RlbmVyKHN0YXRlLCBzdGF0ZS5ldmVudCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV8zXzEpIHtcbiAgICAgIGVfMyA9IHtcbiAgICAgICAgZXJyb3I6IGVfM18xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX2ggJiYgIV9oLmRvbmUgJiYgKF9iID0gX2cucmV0dXJuKSkgX2IuY2FsbChfZyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9qID0gX192YWx1ZXModGhpcy5jb250ZXh0TGlzdGVuZXJzKSwgX2sgPSBfai5uZXh0KCk7ICFfay5kb25lOyBfayA9IF9qLm5leHQoKSkge1xuICAgICAgICB2YXIgY29udGV4dExpc3RlbmVyID0gX2sudmFsdWU7XG4gICAgICAgIGNvbnRleHRMaXN0ZW5lcih0aGlzLnN0YXRlLmNvbnRleHQsIHRoaXMuc3RhdGUuaGlzdG9yeSA/IHRoaXMuc3RhdGUuaGlzdG9yeS5jb250ZXh0IDogdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzRfMSkge1xuICAgICAgZV80ID0ge1xuICAgICAgICBlcnJvcjogZV80XzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfayAmJiAhX2suZG9uZSAmJiAoX2MgPSBfai5yZXR1cm4pKSBfYy5jYWxsKF9qKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5kb25lKSB7XG4gICAgICAvLyBnZXQgZmluYWwgY2hpbGQgc3RhdGUgbm9kZVxuICAgICAgdmFyIGZpbmFsQ2hpbGRTdGF0ZU5vZGUgPSBzdGF0ZS5jb25maWd1cmF0aW9uLmZpbmQoZnVuY3Rpb24gKHNuKSB7XG4gICAgICAgIHJldHVybiBzbi50eXBlID09PSAnZmluYWwnICYmIHNuLnBhcmVudCA9PT0gX3RoaXMubWFjaGluZTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGRvbmVEYXRhID0gZmluYWxDaGlsZFN0YXRlTm9kZSAmJiBmaW5hbENoaWxkU3RhdGVOb2RlLmRvbmVEYXRhID8gbWFwQ29udGV4dChmaW5hbENoaWxkU3RhdGVOb2RlLmRvbmVEYXRhLCBzdGF0ZS5jb250ZXh0LCBfZXZlbnQpIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fZG9uZUV2ZW50ID0gZG9uZUludm9rZSh0aGlzLmlkLCBkb25lRGF0YSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9sID0gX192YWx1ZXModGhpcy5kb25lTGlzdGVuZXJzKSwgX20gPSBfbC5uZXh0KCk7ICFfbS5kb25lOyBfbSA9IF9sLm5leHQoKSkge1xuICAgICAgICAgIHZhciBsaXN0ZW5lciA9IF9tLnZhbHVlO1xuICAgICAgICAgIGxpc3RlbmVyKHRoaXMuX2RvbmVFdmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVfNV8xKSB7XG4gICAgICAgIGVfNSA9IHtcbiAgICAgICAgICBlcnJvcjogZV81XzFcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKF9tICYmICFfbS5kb25lICYmIChfZCA9IF9sLnJldHVybikpIF9kLmNhbGwoX2wpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChlXzUpIHRocm93IGVfNS5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9zdG9wKCk7XG5cbiAgICAgIHRoaXMuX3N0b3BDaGlsZHJlbigpO1xuXG4gICAgICByZWdpc3RyeS5mcmVlKHRoaXMuc2Vzc2lvbklkKTtcbiAgICB9XG4gIH07XG4gIC8qXHJcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgaXMgbm90aWZpZWQgd2hlbmV2ZXIgYSBzdGF0ZSB0cmFuc2l0aW9uIGhhcHBlbnMuIFRoZSBsaXN0ZW5lciBpcyBjYWxsZWQgd2l0aFxyXG4gICAqIHRoZSBuZXh0IHN0YXRlIGFuZCB0aGUgZXZlbnQgb2JqZWN0IHRoYXQgY2F1c2VkIHRoZSBzdGF0ZSB0cmFuc2l0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBzdGF0ZSBsaXN0ZW5lclxyXG4gICAqL1xuXG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLm9uVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHRoaXMubGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7IC8vIFNlbmQgY3VycmVudCBzdGF0ZSB0byBsaXN0ZW5lclxuXG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBJbnRlcnByZXRlclN0YXR1cy5SdW5uaW5nKSB7XG4gICAgICBsaXN0ZW5lcih0aGlzLnN0YXRlLCB0aGlzLnN0YXRlLmV2ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG5leHRMaXN0ZW5lck9yT2JzZXJ2ZXIsIF8sIC8vIFRPRE86IGVycm9yIGxpc3RlbmVyXG4gIGNvbXBsZXRlTGlzdGVuZXIpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIG9ic2VydmVyID0gdG9PYnNlcnZlcihuZXh0TGlzdGVuZXJPck9ic2VydmVyLCBfLCBjb21wbGV0ZUxpc3RlbmVyKTtcbiAgICB0aGlzLmxpc3RlbmVycy5hZGQob2JzZXJ2ZXIubmV4dCk7IC8vIFNlbmQgY3VycmVudCBzdGF0ZSB0byBsaXN0ZW5lclxuXG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBJbnRlcnByZXRlclN0YXR1cy5Ob3RTdGFydGVkKSB7XG4gICAgICBvYnNlcnZlci5uZXh0KHRoaXMuc3RhdGUpO1xuICAgIH1cblxuICAgIHZhciBjb21wbGV0ZU9uY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5kb25lTGlzdGVuZXJzLmRlbGV0ZShjb21wbGV0ZU9uY2UpO1xuXG4gICAgICBfdGhpcy5zdG9wTGlzdGVuZXJzLmRlbGV0ZShjb21wbGV0ZU9uY2UpO1xuXG4gICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEludGVycHJldGVyU3RhdHVzLlN0b3BwZWQpIHtcbiAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub25Eb25lKGNvbXBsZXRlT25jZSk7XG4gICAgICB0aGlzLm9uU3RvcChjb21wbGV0ZU9uY2UpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5saXN0ZW5lcnMuZGVsZXRlKG9ic2VydmVyLm5leHQpO1xuXG4gICAgICAgIF90aGlzLmRvbmVMaXN0ZW5lcnMuZGVsZXRlKGNvbXBsZXRlT25jZSk7XG5cbiAgICAgICAgX3RoaXMuc3RvcExpc3RlbmVycy5kZWxldGUoY29tcGxldGVPbmNlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICAvKipcclxuICAgKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaXMgbm90aWZpZWQgd2hlbmV2ZXIgYW4gZXZlbnQgaXMgc2VudCB0byB0aGUgcnVubmluZyBpbnRlcnByZXRlci5cclxuICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGV2ZW50IGxpc3RlbmVyXHJcbiAgICovXG5cblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUub25FdmVudCA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXHJcbiAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGlzIG5vdGlmaWVkIHdoZW5ldmVyIGEgYHNlbmRgIGV2ZW50IG9jY3Vycy5cclxuICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGV2ZW50IGxpc3RlbmVyXHJcbiAgICovXG5cblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUub25TZW5kID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgdGhpcy5zZW5kTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxyXG4gICAqIEFkZHMgYSBjb250ZXh0IGxpc3RlbmVyIHRoYXQgaXMgbm90aWZpZWQgd2hlbmV2ZXIgdGhlIHN0YXRlIGNvbnRleHQgY2hhbmdlcy5cclxuICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNvbnRleHQgbGlzdGVuZXJcclxuICAgKi9cblxuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHRoaXMuY29udGV4dExpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcclxuICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCBpcyBub3RpZmllZCB3aGVuIHRoZSBtYWNoaW5lIGlzIHN0b3BwZWQuXHJcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBsaXN0ZW5lclxyXG4gICAqL1xuXG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLm9uU3RvcCA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHRoaXMuc3RvcExpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcclxuICAgKiBBZGRzIGEgc3RhdGUgbGlzdGVuZXIgdGhhdCBpcyBub3RpZmllZCB3aGVuIHRoZSBzdGF0ZWNoYXJ0IGhhcyByZWFjaGVkIGl0cyBmaW5hbCBzdGF0ZS5cclxuICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIHN0YXRlIGxpc3RlbmVyXHJcbiAgICovXG5cblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUub25Eb25lID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBJbnRlcnByZXRlclN0YXR1cy5TdG9wcGVkICYmIHRoaXMuX2RvbmVFdmVudCkge1xuICAgICAgbGlzdGVuZXIodGhpcy5fZG9uZUV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb25lTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgYSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIHRvIHJlbW92ZVxyXG4gICAqL1xuXG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIHRoaXMuc2VuZExpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIHRoaXMuc3RvcExpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIHRoaXMuZG9uZUxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIHRoaXMuY29udGV4dExpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcclxuICAgKiBTdGFydHMgdGhlIGludGVycHJldGVyIGZyb20gdGhlIGdpdmVuIHN0YXRlLCBvciB0aGUgaW5pdGlhbCBzdGF0ZS5cclxuICAgKiBAcGFyYW0gaW5pdGlhbFN0YXRlIFRoZSBzdGF0ZSB0byBzdGFydCB0aGUgc3RhdGVjaGFydCBmcm9tXHJcbiAgICovXG5cblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gSW50ZXJwcmV0ZXJTdGF0dXMuUnVubmluZykge1xuICAgICAgLy8gRG8gbm90IHJlc3RhcnQgdGhlIHNlcnZpY2UgaWYgaXQgaXMgYWxyZWFkeSBzdGFydGVkXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IC8vIHllcywgaXQncyBhIGhhY2sgYnV0IHdlIG5lZWQgdGhlIHJlbGF0ZWQgY2FjaGUgdG8gYmUgcG9wdWxhdGVkIGZvciBzb21lIHRoaW5ncyB0byB3b3JrIChsaWtlIGRlbGF5ZWQgdHJhbnNpdGlvbnMpXG4gICAgLy8gdGhpcyBpcyB1c3VhbGx5IGNhbGxlZCBieSBgbWFjaGluZS5nZXRJbml0aWFsU3RhdGVgIGJ1dCBpZiB3ZSByZWh5ZHJhdGUgZnJvbSBhIHN0YXRlIHdlIG1pZ2h0IGJ5cGFzcyB0aGlzIGNhbGxcbiAgICAvLyB3ZSBhbHNvIGRvbid0IHdhbnQgdG8gY2FsbCB0aGlzIG1ldGhvZCBoZXJlIGFzIGl0IHJlc29sdmVzIHRoZSBmdWxsIGluaXRpYWwgc3RhdGUgd2hpY2ggbWlnaHQgaW52b2x2ZSBjYWxsaW5nIGFzc2lnbiBhY3Rpb25zXG4gICAgLy8gYW5kIHRoYXQgY291bGQgcG90ZW50aWFsbHkgbGVhZCB0byBzb21lIHVud2FudGVkIHNpZGUtZWZmZWN0cyAoZXZlbiBzdWNoIGFzIGNyZWF0aW5nIHNvbWUgcm9ndWUgYWN0b3JzKVxuXG5cbiAgICB0aGlzLm1hY2hpbmUuX2luaXQoKTtcblxuICAgIHJlZ2lzdHJ5LnJlZ2lzdGVyKHRoaXMuc2Vzc2lvbklkLCB0aGlzKTtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXR1cyA9IEludGVycHJldGVyU3RhdHVzLlJ1bm5pbmc7XG4gICAgdmFyIHJlc29sdmVkU3RhdGUgPSBpbml0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCA/IHRoaXMuaW5pdGlhbFN0YXRlIDogcHJvdmlkZSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaXNTdGF0ZUNvbmZpZyhpbml0aWFsU3RhdGUpID8gX3RoaXMubWFjaGluZS5yZXNvbHZlU3RhdGUoaW5pdGlhbFN0YXRlKSA6IF90aGlzLm1hY2hpbmUucmVzb2x2ZVN0YXRlKFN0YXRlLmZyb20oaW5pdGlhbFN0YXRlLCBfdGhpcy5tYWNoaW5lLmNvbnRleHQpKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGV2VG9vbHMpIHtcbiAgICAgIHRoaXMuYXR0YWNoRGV2KCk7XG4gICAgfVxuXG4gICAgdGhpcy5zY2hlZHVsZXIuaW5pdGlhbGl6ZShmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy51cGRhdGUocmVzb2x2ZWRTdGF0ZSwgaW5pdEV2ZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuX3N0b3BDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUT0RPOiB0aGluayBhYm91dCBjb252ZXJ0aW5nIHRob3NlIHRvIGFjdGlvbnNcbiAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihjaGlsZC5zdG9wKSkge1xuICAgICAgICBjaGlsZC5zdG9wKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jaGlsZHJlbi5jbGVhcigpO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5fc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZV82LCBfYSwgZV83LCBfYiwgZV84LCBfYywgZV85LCBfZCwgZV8xMCwgX2U7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2YgPSBfX3ZhbHVlcyh0aGlzLmxpc3RlbmVycyksIF9nID0gX2YubmV4dCgpOyAhX2cuZG9uZTsgX2cgPSBfZi5uZXh0KCkpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gX2cudmFsdWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV82XzEpIHtcbiAgICAgIGVfNiA9IHtcbiAgICAgICAgZXJyb3I6IGVfNl8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX2cgJiYgIV9nLmRvbmUgJiYgKF9hID0gX2YucmV0dXJuKSkgX2EuY2FsbChfZik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZV82KSB0aHJvdyBlXzYuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9oID0gX192YWx1ZXModGhpcy5zdG9wTGlzdGVuZXJzKSwgX2ogPSBfaC5uZXh0KCk7ICFfai5kb25lOyBfaiA9IF9oLm5leHQoKSkge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSBfai52YWx1ZTsgLy8gY2FsbCBsaXN0ZW5lciwgdGhlbiByZW1vdmVcblxuICAgICAgICBsaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLnN0b3BMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzdfMSkge1xuICAgICAgZV83ID0ge1xuICAgICAgICBlcnJvcjogZV83XzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfaiAmJiAhX2ouZG9uZSAmJiAoX2IgPSBfaC5yZXR1cm4pKSBfYi5jYWxsKF9oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzcpIHRocm93IGVfNy5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2sgPSBfX3ZhbHVlcyh0aGlzLmNvbnRleHRMaXN0ZW5lcnMpLCBfbCA9IF9rLm5leHQoKTsgIV9sLmRvbmU7IF9sID0gX2submV4dCgpKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IF9sLnZhbHVlO1xuICAgICAgICB0aGlzLmNvbnRleHRMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzhfMSkge1xuICAgICAgZV84ID0ge1xuICAgICAgICBlcnJvcjogZV84XzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfbCAmJiAhX2wuZG9uZSAmJiAoX2MgPSBfay5yZXR1cm4pKSBfYy5jYWxsKF9rKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzgpIHRocm93IGVfOC5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX20gPSBfX3ZhbHVlcyh0aGlzLmRvbmVMaXN0ZW5lcnMpLCBfbyA9IF9tLm5leHQoKTsgIV9vLmRvbmU7IF9vID0gX20ubmV4dCgpKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IF9vLnZhbHVlO1xuICAgICAgICB0aGlzLmRvbmVMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzlfMSkge1xuICAgICAgZV85ID0ge1xuICAgICAgICBlcnJvcjogZV85XzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfbyAmJiAhX28uZG9uZSAmJiAoX2QgPSBfbS5yZXR1cm4pKSBfZC5jYWxsKF9tKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzkpIHRocm93IGVfOS5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIC8vIEludGVycHJldGVyIGFscmVhZHkgc3RvcHBlZDsgZG8gbm90aGluZ1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMuc3RhdHVzID0gSW50ZXJwcmV0ZXJTdGF0dXMuU3RvcHBlZDtcbiAgICB0aGlzLl9pbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgLy8gd2UgYXJlIGdvaW5nIHRvIHN0b3Agd2l0aGluIHRoZSBjdXJyZW50IHN5bmMgZnJhbWVcbiAgICAgIC8vIHNvIHdlIGNhbiBzYWZlbHkganVzdCBjYW5jZWwgdGhpcyBoZXJlIGFzIG5vdGhpbmcgYXN5bmMgc2hvdWxkIGJlIGZpcmVkIGFueXdheVxuICAgICAgZm9yICh2YXIgX3AgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyh0aGlzLmRlbGF5ZWRFdmVudHNNYXApKSwgX3EgPSBfcC5uZXh0KCk7ICFfcS5kb25lOyBfcSA9IF9wLm5leHQoKSkge1xuICAgICAgICB2YXIga2V5ID0gX3EudmFsdWU7XG4gICAgICAgIHRoaXMuY2xvY2suY2xlYXJUaW1lb3V0KHRoaXMuZGVsYXllZEV2ZW50c01hcFtrZXldKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzEwXzEpIHtcbiAgICAgIGVfMTAgPSB7XG4gICAgICAgIGVycm9yOiBlXzEwXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChfcSAmJiAhX3EuZG9uZSAmJiAoX2UgPSBfcC5yZXR1cm4pKSBfZS5jYWxsKF9wKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzEwKSB0aHJvdyBlXzEwLmVycm9yO1xuICAgICAgfVxuICAgIH0gLy8gY2xlYXIgZXZlcnl0aGluZyB0aGF0IG1pZ2h0IGJlIGVucXVldWVkXG5cblxuICAgIHRoaXMuc2NoZWR1bGVyLmNsZWFyKCk7XG4gICAgdGhpcy5zY2hlZHVsZXIgPSBuZXcgU2NoZWR1bGVyKHtcbiAgICAgIGRlZmVyRXZlbnRzOiB0aGlzLm9wdGlvbnMuZGVmZXJFdmVudHNcbiAgICB9KTtcbiAgfTtcbiAgLyoqXHJcbiAgICogU3RvcHMgdGhlIGludGVycHJldGVyIGFuZCB1bnN1YnNjcmliZSBhbGwgbGlzdGVuZXJzLlxyXG4gICAqXHJcbiAgICogVGhpcyB3aWxsIGFsc28gbm90aWZ5IHRoZSBgb25TdG9wYCBsaXN0ZW5lcnMuXHJcbiAgICovXG5cblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUT0RPOiBhZGQgd2FybmluZyBmb3Igc3RvcHBpbmcgbm9uLXJvb3QgaW50ZXJwcmV0ZXJzXG4gICAgdmFyIF90aGlzID0gdGhpczsgLy8gZ3JhYiB0aGUgY3VycmVudCBzY2hlZHVsZXIgYXMgaXQgd2lsbCBiZSByZXBsYWNlZCBpbiBfc3RvcFxuXG5cbiAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG5cbiAgICB0aGlzLl9zdG9wKCk7IC8vIGxldCB3aGF0IGlzIGN1cnJlbnRseSBwcm9jZXNzZWQgdG8gYmUgZmluaXNoZWRcblxuXG4gICAgc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgaWYgKChfYSA9IF90aGlzLl9zdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRvbmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpdCBmZWVscyB3ZWlyZCB0byBoYW5kbGUgdGhpcyBoZXJlIGJ1dCB3ZSBuZWVkIHRvIGhhbmRsZSB0aGlzIGV2ZW4gc2xpZ2h0bHkgXCJvdXQgb2YgYmFuZFwiXG5cblxuICAgICAgdmFyIF9ldmVudCA9IHRvU0NYTUxFdmVudCh7XG4gICAgICAgIHR5cGU6ICd4c3RhdGUuc3RvcCdcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbmV4dFN0YXRlID0gcHJvdmlkZShfdGhpcywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXhpdEFjdGlvbnMgPSBmbGF0dGVuKF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChfdGhpcy5zdGF0ZS5jb25maWd1cmF0aW9uKSwgZmFsc2UpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gYi5vcmRlciAtIGEub3JkZXI7XG4gICAgICAgIH0pLm1hcChmdW5jdGlvbiAoc3RhdGVOb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIHRvQWN0aW9uT2JqZWN0cyhzdGF0ZU5vZGUub25FeGl0LCBfdGhpcy5tYWNoaW5lLm9wdGlvbnMuYWN0aW9ucyk7XG4gICAgICAgIH0pKTtcblxuICAgICAgICB2YXIgX2EgPSBfX3JlYWQocmVzb2x2ZUFjdGlvbnMoX3RoaXMubWFjaGluZSwgX3RoaXMuc3RhdGUsIF90aGlzLnN0YXRlLmNvbnRleHQsIF9ldmVudCwgW3tcbiAgICAgICAgICB0eXBlOiAnZXhpdCcsXG4gICAgICAgICAgYWN0aW9uczogZXhpdEFjdGlvbnNcbiAgICAgICAgfV0sIF90aGlzLm1hY2hpbmUuY29uZmlnLnByZWRpY3RhYmxlQWN0aW9uQXJndW1lbnRzID8gX3RoaXMuX2V4ZWMgOiB1bmRlZmluZWQsIF90aGlzLm1hY2hpbmUuY29uZmlnLnByZWRpY3RhYmxlQWN0aW9uQXJndW1lbnRzIHx8IF90aGlzLm1hY2hpbmUuY29uZmlnLnByZXNlcnZlQWN0aW9uT3JkZXIpLCAyKSxcbiAgICAgICAgICAgIHJlc29sdmVkQWN0aW9ucyA9IF9hWzBdLFxuICAgICAgICAgICAgdXBkYXRlZENvbnRleHQgPSBfYVsxXTtcblxuICAgICAgICB2YXIgbmV3U3RhdGUgPSBuZXcgU3RhdGUoe1xuICAgICAgICAgIHZhbHVlOiBfdGhpcy5zdGF0ZS52YWx1ZSxcbiAgICAgICAgICBjb250ZXh0OiB1cGRhdGVkQ29udGV4dCxcbiAgICAgICAgICBfZXZlbnQ6IF9ldmVudCxcbiAgICAgICAgICBfc2Vzc2lvbmlkOiBfdGhpcy5zZXNzaW9uSWQsXG4gICAgICAgICAgaGlzdG9yeVZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgaGlzdG9yeTogX3RoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aW9uczogcmVzb2x2ZWRBY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gIWlzUmFpc2FibGVBY3Rpb24oYWN0aW9uKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBhY3Rpdml0aWVzOiB7fSxcbiAgICAgICAgICBldmVudHM6IFtdLFxuICAgICAgICAgIGNvbmZpZ3VyYXRpb246IFtdLFxuICAgICAgICAgIHRyYW5zaXRpb25zOiBbXSxcbiAgICAgICAgICBjaGlsZHJlbjoge30sXG4gICAgICAgICAgZG9uZTogX3RoaXMuc3RhdGUuZG9uZSxcbiAgICAgICAgICB0YWdzOiBfdGhpcy5zdGF0ZS50YWdzLFxuICAgICAgICAgIG1hY2hpbmU6IF90aGlzLm1hY2hpbmVcbiAgICAgICAgfSk7XG4gICAgICAgIG5ld1N0YXRlLmNoYW5nZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMudXBkYXRlKG5leHRTdGF0ZSwgX2V2ZW50KTtcblxuICAgICAgX3RoaXMuX3N0b3BDaGlsZHJlbigpO1xuXG4gICAgICByZWdpc3RyeS5mcmVlKF90aGlzLnNlc3Npb25JZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLmJhdGNoID0gZnVuY3Rpb24gKGV2ZW50cykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEludGVycHJldGVyU3RhdHVzLk5vdFN0YXJ0ZWQgJiYgdGhpcy5vcHRpb25zLmRlZmVyRXZlbnRzKSB7XG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICAgIHdhcm4oZmFsc2UsIFwiXCIuY29uY2F0KGV2ZW50cy5sZW5ndGgsIFwiIGV2ZW50KHMpIHdlcmUgc2VudCB0byB1bmluaXRpYWxpemVkIHNlcnZpY2UgXFxcIlwiKS5jb25jYXQodGhpcy5tYWNoaW5lLmlkLCBcIlxcXCIgYW5kIGFyZSBkZWZlcnJlZC4gTWFrZSBzdXJlIC5zdGFydCgpIGlzIGNhbGxlZCBmb3IgdGhpcyBzZXJ2aWNlLlxcbkV2ZW50OiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGV2ZW50KSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgIT09IEludGVycHJldGVyU3RhdHVzLlJ1bm5pbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvciggLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgXCJcIi5jb25jYXQoZXZlbnRzLmxlbmd0aCwgXCIgZXZlbnQocykgd2VyZSBzZW50IHRvIHVuaW5pdGlhbGl6ZWQgc2VydmljZSBcXFwiXCIpLmNvbmNhdCh0aGlzLm1hY2hpbmUuaWQsIFwiXFxcIi4gTWFrZSBzdXJlIC5zdGFydCgpIGlzIGNhbGxlZCBmb3IgdGhpcyBzZXJ2aWNlLCBvciBzZXQgeyBkZWZlckV2ZW50czogdHJ1ZSB9IGluIHRoZSBzZXJ2aWNlIG9wdGlvbnMuXCIpKTtcbiAgICB9XG5cbiAgICBpZiAoIWV2ZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZXhlYyA9ICEhdGhpcy5tYWNoaW5lLmNvbmZpZy5wcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyAmJiB0aGlzLl9leGVjO1xuICAgIHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlXzExLCBfYTtcblxuICAgICAgdmFyIG5leHRTdGF0ZSA9IF90aGlzLnN0YXRlO1xuICAgICAgdmFyIGJhdGNoQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdmFyIGJhdGNoZWRBY3Rpb25zID0gW107XG5cbiAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGV2ZW50XzEpIHtcbiAgICAgICAgdmFyIF9ldmVudCA9IHRvU0NYTUxFdmVudChldmVudF8xKTtcblxuICAgICAgICBfdGhpcy5mb3J3YXJkKF9ldmVudCk7XG5cbiAgICAgICAgbmV4dFN0YXRlID0gcHJvdmlkZShfdGhpcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5tYWNoaW5lLnRyYW5zaXRpb24obmV4dFN0YXRlLCBfZXZlbnQsIHVuZGVmaW5lZCwgZXhlYyB8fCB1bmRlZmluZWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgYmF0Y2hlZEFjdGlvbnMucHVzaC5hcHBseShiYXRjaGVkQWN0aW9ucywgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKF90aGlzLm1hY2hpbmUuY29uZmlnLnByZWRpY3RhYmxlQWN0aW9uQXJndW1lbnRzID8gbmV4dFN0YXRlLmFjdGlvbnMgOiBuZXh0U3RhdGUuYWN0aW9ucy5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICByZXR1cm4gYmluZEFjdGlvblRvU3RhdGUoYSwgbmV4dFN0YXRlKTtcbiAgICAgICAgfSkpLCBmYWxzZSkpO1xuICAgICAgICBiYXRjaENoYW5nZWQgPSBiYXRjaENoYW5nZWQgfHwgISFuZXh0U3RhdGUuY2hhbmdlZDtcbiAgICAgIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIGV2ZW50c18xID0gX192YWx1ZXMoZXZlbnRzKSwgZXZlbnRzXzFfMSA9IGV2ZW50c18xLm5leHQoKTsgIWV2ZW50c18xXzEuZG9uZTsgZXZlbnRzXzFfMSA9IGV2ZW50c18xLm5leHQoKSkge1xuICAgICAgICAgIHZhciBldmVudF8xID0gZXZlbnRzXzFfMS52YWx1ZTtcblxuICAgICAgICAgIF9sb29wXzEoZXZlbnRfMSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVfMTFfMSkge1xuICAgICAgICBlXzExID0ge1xuICAgICAgICAgIGVycm9yOiBlXzExXzFcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGV2ZW50c18xXzEgJiYgIWV2ZW50c18xXzEuZG9uZSAmJiAoX2EgPSBldmVudHNfMS5yZXR1cm4pKSBfYS5jYWxsKGV2ZW50c18xKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoZV8xMSkgdGhyb3cgZV8xMS5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXh0U3RhdGUuY2hhbmdlZCA9IGJhdGNoQ2hhbmdlZDtcbiAgICAgIG5leHRTdGF0ZS5hY3Rpb25zID0gYmF0Y2hlZEFjdGlvbnM7XG5cbiAgICAgIF90aGlzLnVwZGF0ZShuZXh0U3RhdGUsIHRvU0NYTUxFdmVudChldmVudHNbZXZlbnRzLmxlbmd0aCAtIDFdKSk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBzZW5kIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgaW50ZXJwcmV0ZXIgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHRvIGJlIHNlbnQgYnkgdGhlIHNlbmRlci5cclxuICAgKi9cblxuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5zZW5kZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5zZW5kLmJpbmQodGhpcywgZXZlbnQpO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5fbmV4dFN0YXRlID0gZnVuY3Rpb24gKGV2ZW50LCBleGVjKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChleGVjID09PSB2b2lkIDApIHtcbiAgICAgIGV4ZWMgPSAhIXRoaXMubWFjaGluZS5jb25maWcucHJlZGljdGFibGVBY3Rpb25Bcmd1bWVudHMgJiYgdGhpcy5fZXhlYztcbiAgICB9XG5cbiAgICB2YXIgX2V2ZW50ID0gdG9TQ1hNTEV2ZW50KGV2ZW50KTtcblxuICAgIGlmIChfZXZlbnQubmFtZS5pbmRleE9mKGVycm9yUGxhdGZvcm0pID09PSAwICYmICF0aGlzLnN0YXRlLm5leHRFdmVudHMuc29tZShmdW5jdGlvbiAobmV4dEV2ZW50KSB7XG4gICAgICByZXR1cm4gbmV4dEV2ZW50LmluZGV4T2YoZXJyb3JQbGF0Zm9ybSkgPT09IDA7XG4gICAgfSkpIHtcbiAgICAgIHRocm93IF9ldmVudC5kYXRhLmRhdGE7XG4gICAgfVxuXG4gICAgdmFyIG5leHRTdGF0ZSA9IHByb3ZpZGUodGhpcywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLm1hY2hpbmUudHJhbnNpdGlvbihfdGhpcy5zdGF0ZSwgX2V2ZW50LCB1bmRlZmluZWQsIGV4ZWMgfHwgdW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV4dFN0YXRlO1xuICB9O1xuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBuZXh0IHN0YXRlIGdpdmVuIHRoZSBpbnRlcnByZXRlcidzIGN1cnJlbnQgc3RhdGUgYW5kIHRoZSBldmVudC5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgYSBwdXJlIG1ldGhvZCB0aGF0IGRvZXMgX25vdF8gdXBkYXRlIHRoZSBpbnRlcnByZXRlcidzIHN0YXRlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byBkZXRlcm1pbmUgdGhlIG5leHQgc3RhdGVcclxuICAgKi9cblxuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5uZXh0U3RhdGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fbmV4dFN0YXRlKGV2ZW50LCBmYWxzZSk7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLmZvcndhcmQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZV8xMiwgX2E7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLmZvcndhcmRUbyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgdmFyIGlkID0gX2MudmFsdWU7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW4uZ2V0KGlkKTtcblxuICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZvcndhcmQgZXZlbnQgJ1wiLmNvbmNhdChldmVudCwgXCInIGZyb20gaW50ZXJwcmV0ZXIgJ1wiKS5jb25jYXQodGhpcy5pZCwgXCInIHRvIG5vbmV4aXN0YW50IGNoaWxkICdcIikuY29uY2F0KGlkLCBcIicuXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLnNlbmQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfMTJfMSkge1xuICAgICAgZV8xMiA9IHtcbiAgICAgICAgZXJyb3I6IGVfMTJfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfMTIpIHRocm93IGVfMTIuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5kZWZlciA9IGZ1bmN0aW9uIChzZW5kQWN0aW9uKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciB0aW1lcklkID0gdGhpcy5jbG9jay5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgndG8nIGluIHNlbmRBY3Rpb24gJiYgc2VuZEFjdGlvbi50bykge1xuICAgICAgICBfdGhpcy5zZW5kVG8oc2VuZEFjdGlvbi5fZXZlbnQsIHNlbmRBY3Rpb24udG8sIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2VuZChzZW5kQWN0aW9uLl9ldmVudCk7XG4gICAgICB9XG4gICAgfSwgc2VuZEFjdGlvbi5kZWxheSk7XG5cbiAgICBpZiAoc2VuZEFjdGlvbi5pZCkge1xuICAgICAgdGhpcy5kZWxheWVkRXZlbnRzTWFwW3NlbmRBY3Rpb24uaWRdID0gdGltZXJJZDtcbiAgICB9XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uIChzZW5kSWQpIHtcbiAgICB0aGlzLmNsb2NrLmNsZWFyVGltZW91dCh0aGlzLmRlbGF5ZWRFdmVudHNNYXBbc2VuZElkXSk7XG4gICAgZGVsZXRlIHRoaXMuZGVsYXllZEV2ZW50c01hcFtzZW5kSWRdO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKGFjdGlvbiwgc3RhdGUsIGFjdGlvbkZ1bmN0aW9uTWFwKSB7XG4gICAgaWYgKGFjdGlvbkZ1bmN0aW9uTWFwID09PSB2b2lkIDApIHtcbiAgICAgIGFjdGlvbkZ1bmN0aW9uTWFwID0gdGhpcy5tYWNoaW5lLm9wdGlvbnMuYWN0aW9ucztcbiAgICB9XG5cbiAgICB0aGlzLl9leGVjKGFjdGlvbiwgc3RhdGUuY29udGV4dCwgc3RhdGUuX2V2ZW50LCBhY3Rpb25GdW5jdGlvbk1hcCk7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKGNoaWxkSWQpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB0aGlzLmNoaWxkcmVuLmRlbGV0ZShjaGlsZElkKTtcbiAgICB0aGlzLmZvcndhcmRUby5kZWxldGUoY2hpbGRJZCk7IC8vIHRoaXMuc3RhdGUgbWlnaHQgbm90IGV4aXN0IGF0IHRoZSB0aW1lIHRoaXMgaXMgY2FsbGVkLFxuICAgIC8vIHN1Y2ggYXMgd2hlbiBhIGNoaWxkIGlzIGFkZGVkIHRoZW4gcmVtb3ZlZCB3aGlsZSBpbml0aWFsaXppbmcgdGhlIHN0YXRlXG5cbiAgICAoX2EgPSB0aGlzLnN0YXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdHJ1ZSA6IGRlbGV0ZSBfYS5jaGlsZHJlbltjaGlsZElkXTtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3RvcENoaWxkID0gZnVuY3Rpb24gKGNoaWxkSWQpIHtcbiAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuLmdldChjaGlsZElkKTtcblxuICAgIGlmICghY2hpbGQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkSWQpO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oY2hpbGQuc3RvcCkpIHtcbiAgICAgIGNoaWxkLnN0b3AoKTtcbiAgICB9XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNwYXduID0gZnVuY3Rpb24gKGVudGl0eSwgbmFtZSwgb3B0aW9ucykge1xuICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gSW50ZXJwcmV0ZXJTdGF0dXMuUnVubmluZykge1xuICAgICAgcmV0dXJuIGNyZWF0ZURlZmVycmVkQWN0b3IoZW50aXR5LCBuYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoaXNQcm9taXNlTGlrZShlbnRpdHkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGF3blByb21pc2UoUHJvbWlzZS5yZXNvbHZlKGVudGl0eSksIG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihlbnRpdHkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGF3bkNhbGxiYWNrKGVudGl0eSwgbmFtZSk7XG4gICAgfSBlbHNlIGlmIChpc1NwYXduZWRBY3RvcihlbnRpdHkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGF3bkFjdG9yKGVudGl0eSwgbmFtZSk7XG4gICAgfSBlbHNlIGlmIChpc09ic2VydmFibGUoZW50aXR5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Bhd25PYnNlcnZhYmxlKGVudGl0eSwgbmFtZSk7XG4gICAgfSBlbHNlIGlmIChpc01hY2hpbmUoZW50aXR5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Bhd25NYWNoaW5lKGVudGl0eSwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7XG4gICAgICAgIGlkOiBuYW1lXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIGlmIChpc0JlaGF2aW9yKGVudGl0eSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYXduQmVoYXZpb3IoZW50aXR5LCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHNwYXduIGVudGl0eSBcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIiBvZiB0eXBlIFxcXCJcIikuY29uY2F0KHR5cGVvZiBlbnRpdHksIFwiXFxcIi5cIikpO1xuICAgIH1cbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3Bhd25NYWNoaW5lID0gZnVuY3Rpb24gKG1hY2hpbmUsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBjaGlsZFNlcnZpY2UgPSBuZXcgSW50ZXJwcmV0ZXIobWFjaGluZSwgX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIHtcbiAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgIGlkOiBvcHRpb25zLmlkIHx8IG1hY2hpbmUuaWRcbiAgICB9KSk7XG5cbiAgICB2YXIgcmVzb2x2ZWRPcHRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIERFRkFVTFRfU1BBV05fT1BUSU9OUyksIG9wdGlvbnMpO1xuXG4gICAgaWYgKHJlc29sdmVkT3B0aW9ucy5zeW5jKSB7XG4gICAgICBjaGlsZFNlcnZpY2Uub25UcmFuc2l0aW9uKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBfdGhpcy5zZW5kKHVwZGF0ZSwge1xuICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgICBpZDogY2hpbGRTZXJ2aWNlLmlkXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGFjdG9yID0gY2hpbGRTZXJ2aWNlO1xuICAgIHRoaXMuY2hpbGRyZW4uc2V0KGNoaWxkU2VydmljZS5pZCwgYWN0b3IpO1xuXG4gICAgaWYgKHJlc29sdmVkT3B0aW9ucy5hdXRvRm9yd2FyZCkge1xuICAgICAgdGhpcy5mb3J3YXJkVG8uYWRkKGNoaWxkU2VydmljZS5pZCk7XG4gICAgfVxuXG4gICAgY2hpbGRTZXJ2aWNlLm9uRG9uZShmdW5jdGlvbiAoZG9uZUV2ZW50KSB7XG4gICAgICBfdGhpcy5yZW1vdmVDaGlsZChjaGlsZFNlcnZpY2UuaWQpO1xuXG4gICAgICBfdGhpcy5zZW5kKHRvU0NYTUxFdmVudChkb25lRXZlbnQsIHtcbiAgICAgICAgb3JpZ2luOiBjaGlsZFNlcnZpY2UuaWRcbiAgICAgIH0pKTtcbiAgICB9KS5zdGFydCgpO1xuICAgIHJldHVybiBhY3RvcjtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3Bhd25CZWhhdmlvciA9IGZ1bmN0aW9uIChiZWhhdmlvciwgaWQpIHtcbiAgICB2YXIgYWN0b3JSZWYgPSBzcGF3bkJlaGF2aW9yKGJlaGF2aW9yLCB7XG4gICAgICBpZDogaWQsXG4gICAgICBwYXJlbnQ6IHRoaXNcbiAgICB9KTtcbiAgICB0aGlzLmNoaWxkcmVuLnNldChpZCwgYWN0b3JSZWYpO1xuICAgIHJldHVybiBhY3RvclJlZjtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3Bhd25Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2UsIGlkKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjYW5jZWxlZCA9IGZhbHNlO1xuICAgIHZhciByZXNvbHZlZERhdGE7XG4gICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKCFjYW5jZWxlZCkge1xuICAgICAgICByZXNvbHZlZERhdGEgPSByZXNwb25zZTtcblxuICAgICAgICBfdGhpcy5yZW1vdmVDaGlsZChpZCk7XG5cbiAgICAgICAgX3RoaXMuc2VuZCh0b1NDWE1MRXZlbnQoZG9uZUludm9rZShpZCwgcmVzcG9uc2UpLCB7XG4gICAgICAgICAgb3JpZ2luOiBpZFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycm9yRGF0YSkge1xuICAgICAgaWYgKCFjYW5jZWxlZCkge1xuICAgICAgICBfdGhpcy5yZW1vdmVDaGlsZChpZCk7XG5cbiAgICAgICAgdmFyIGVycm9yRXZlbnQgPSBlcnJvcihpZCwgZXJyb3JEYXRhKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFNlbmQgXCJlcnJvci5wbGF0Zm9ybS5pZFwiIHRvIHRoaXMgKHBhcmVudCkuXG4gICAgICAgICAgX3RoaXMuc2VuZCh0b1NDWE1MRXZlbnQoZXJyb3JFdmVudCwge1xuICAgICAgICAgICAgb3JpZ2luOiBpZFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZXBvcnRVbmhhbmRsZWRFeGNlcHRpb25Pbkludm9jYXRpb24oZXJyb3JEYXRhLCBlcnJvciwgaWQpO1xuXG4gICAgICAgICAgaWYgKF90aGlzLmRldlRvb2xzKSB7XG4gICAgICAgICAgICBfdGhpcy5kZXZUb29scy5zZW5kKGVycm9yRXZlbnQsIF90aGlzLnN0YXRlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoX3RoaXMubWFjaGluZS5zdHJpY3QpIHtcbiAgICAgICAgICAgIC8vIGl0IHdvdWxkIGJlIGJldHRlciB0byBhbHdheXMgc3RvcCB0aGUgc3RhdGUgbWFjaGluZSBpZiB1bmhhbmRsZWRcbiAgICAgICAgICAgIC8vIGV4Y2VwdGlvbi9wcm9taXNlIHJlamVjdGlvbiBoYXBwZW5zIGJ1dCBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgICAgIC8vIGJyZWFrIGV4aXN0aW5nIGNvZGUgc28gZW5mb3JjZSBpdCBvbiBzdHJpY3QgbW9kZSBvbmx5IGVzcGVjaWFsbHkgc29cbiAgICAgICAgICAgIC8vIGJlY2F1c2UgZG9jdW1lbnRhdGlvbiBzYXlzIHRoYXQgb25FcnJvciBpcyBvcHRpb25hbFxuICAgICAgICAgICAgX3RoaXMuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBhY3RvciA9IChfYSA9IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIHNlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChuZXh0LCBoYW5kbGVFcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gdG9PYnNlcnZlcihuZXh0LCBoYW5kbGVFcnJvciwgY29tcGxldGUpO1xuICAgICAgICB2YXIgdW5zdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAodW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb2JzZXJ2ZXIubmV4dChyZXNwb25zZSk7XG5cbiAgICAgICAgICBpZiAodW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmICh1bnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FuY2VsZWQgPSB0cnVlO1xuICAgICAgfSxcbiAgICAgIHRvSlNPTjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBpZFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGdldFNuYXBzaG90OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlZERhdGE7XG4gICAgICB9XG4gICAgfSwgX2Fbc3ltYm9sT2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfYSk7XG4gICAgdGhpcy5jaGlsZHJlbi5zZXQoaWQsIGFjdG9yKTtcbiAgICByZXR1cm4gYWN0b3I7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNwYXduQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGlkKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjYW5jZWxlZCA9IGZhbHNlO1xuICAgIHZhciByZWNlaXZlcnMgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZW1pdHRlZDtcblxuICAgIHZhciByZWNlaXZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGVtaXR0ZWQgPSBlO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcihlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY2FuY2VsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZW5kKHRvU0NYTUxFdmVudChlLCB7XG4gICAgICAgIG9yaWdpbjogaWRcbiAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgdmFyIGNhbGxiYWNrU3RvcDtcblxuICAgIHRyeSB7XG4gICAgICBjYWxsYmFja1N0b3AgPSBjYWxsYmFjayhyZWNlaXZlLCBmdW5jdGlvbiAobmV3TGlzdGVuZXIpIHtcbiAgICAgICAgcmVjZWl2ZXJzLmFkZChuZXdMaXN0ZW5lcik7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuc2VuZChlcnJvcihpZCwgZXJyKSk7XG4gICAgfVxuXG4gICAgaWYgKGlzUHJvbWlzZUxpa2UoY2FsbGJhY2tTdG9wKSkge1xuICAgICAgLy8gaXQgdHVybmVkIG91dCB0byBiZSBhbiBhc3luYyBmdW5jdGlvbiwgY2FuJ3QgcmVsaWFibHkgY2hlY2sgdGhpcyBiZWZvcmUgY2FsbGluZyBgY2FsbGJhY2tgXG4gICAgICAvLyBiZWNhdXNlIHRyYW5zcGlsZWQgYXN5bmMgZnVuY3Rpb25zIGFyZSBub3QgcmVjb2duaXphYmxlXG4gICAgICByZXR1cm4gdGhpcy5zcGF3blByb21pc2UoY2FsbGJhY2tTdG9wLCBpZCk7XG4gICAgfVxuXG4gICAgdmFyIGFjdG9yID0gKF9hID0ge1xuICAgICAgaWQ6IGlkLFxuICAgICAgc2VuZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiByZWNlaXZlcnMuZm9yRWFjaChmdW5jdGlvbiAocmVjZWl2ZXIpIHtcbiAgICAgICAgICByZXR1cm4gcmVjZWl2ZXIoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IHRvT2JzZXJ2ZXIobmV4dCk7XG4gICAgICAgIGxpc3RlbmVycy5hZGQob2JzZXJ2ZXIubmV4dCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5kZWxldGUob2JzZXJ2ZXIubmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FuY2VsZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrU3RvcCkpIHtcbiAgICAgICAgICBjYWxsYmFja1N0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRvSlNPTjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBpZFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGdldFNuYXBzaG90OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBlbWl0dGVkO1xuICAgICAgfVxuICAgIH0sIF9hW3N5bWJvbE9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX2EpO1xuICAgIHRoaXMuY2hpbGRyZW4uc2V0KGlkLCBhY3Rvcik7XG4gICAgcmV0dXJuIGFjdG9yO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5zcGF3bk9ic2VydmFibGUgPSBmdW5jdGlvbiAoc291cmNlLCBpZCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZW1pdHRlZDtcbiAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGVtaXR0ZWQgPSB2YWx1ZTtcblxuICAgICAgX3RoaXMuc2VuZCh0b1NDWE1MRXZlbnQodmFsdWUsIHtcbiAgICAgICAgb3JpZ2luOiBpZFxuICAgICAgfSkpO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIF90aGlzLnJlbW92ZUNoaWxkKGlkKTtcblxuICAgICAgX3RoaXMuc2VuZCh0b1NDWE1MRXZlbnQoZXJyb3IoaWQsIGVyciksIHtcbiAgICAgICAgb3JpZ2luOiBpZFxuICAgICAgfSkpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJlbW92ZUNoaWxkKGlkKTtcblxuICAgICAgX3RoaXMuc2VuZCh0b1NDWE1MRXZlbnQoZG9uZUludm9rZShpZCksIHtcbiAgICAgICAgb3JpZ2luOiBpZFxuICAgICAgfSkpO1xuICAgIH0pO1xuICAgIHZhciBhY3RvciA9IChfYSA9IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIHNlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChuZXh0LCBoYW5kbGVFcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV4dCwgaGFuZGxlRXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgIH0sXG4gICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH0sXG4gICAgICBnZXRTbmFwc2hvdDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZW1pdHRlZDtcbiAgICAgIH0sXG4gICAgICB0b0pTT046IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogaWRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCBfYVtzeW1ib2xPYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9hKTtcbiAgICB0aGlzLmNoaWxkcmVuLnNldChpZCwgYWN0b3IpO1xuICAgIHJldHVybiBhY3RvcjtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3Bhd25BY3RvciA9IGZ1bmN0aW9uIChhY3RvciwgbmFtZSkge1xuICAgIHRoaXMuY2hpbGRyZW4uc2V0KG5hbWUsIGFjdG9yKTtcbiAgICByZXR1cm4gYWN0b3I7XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNwYXduQWN0aXZpdHkgPSBmdW5jdGlvbiAoYWN0aXZpdHkpIHtcbiAgICB2YXIgaW1wbGVtZW50YXRpb24gPSB0aGlzLm1hY2hpbmUub3B0aW9ucyAmJiB0aGlzLm1hY2hpbmUub3B0aW9ucy5hY3Rpdml0aWVzID8gdGhpcy5tYWNoaW5lLm9wdGlvbnMuYWN0aXZpdGllc1thY3Rpdml0eS50eXBlXSA6IHVuZGVmaW5lZDtcblxuICAgIGlmICghaW1wbGVtZW50YXRpb24pIHtcbiAgICAgIGlmICghSVNfUFJPRFVDVElPTikge1xuICAgICAgICB3YXJuKGZhbHNlLCBcIk5vIGltcGxlbWVudGF0aW9uIGZvdW5kIGZvciBhY3Rpdml0eSAnXCIuY29uY2F0KGFjdGl2aXR5LnR5cGUsIFwiJ1wiKSk7XG4gICAgICB9IC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG5cblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gU3RhcnQgaW1wbGVtZW50YXRpb25cblxuXG4gICAgdmFyIGRpc3Bvc2UgPSBpbXBsZW1lbnRhdGlvbih0aGlzLnN0YXRlLmNvbnRleHQsIGFjdGl2aXR5KTtcbiAgICB0aGlzLnNwYXduRWZmZWN0KGFjdGl2aXR5LmlkLCBkaXNwb3NlKTtcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuc3Bhd25FZmZlY3QgPSBmdW5jdGlvbiAoaWQsIGRpc3Bvc2UpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB0aGlzLmNoaWxkcmVuLnNldChpZCwgKF9hID0ge1xuICAgICAgaWQ6IGlkLFxuICAgICAgc2VuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfSxcbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBzdG9wOiBkaXNwb3NlIHx8IHVuZGVmaW5lZCxcbiAgICAgIGdldFNuYXBzaG90OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9LFxuICAgICAgdG9KU09OOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGlkXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgX2Fbc3ltYm9sT2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfYSkpO1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZS5hdHRhY2hEZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdsb2JhbCA9IGdldEdsb2JhbCgpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kZXZUb29scyAmJiBnbG9iYWwpIHtcbiAgICAgIGlmIChnbG9iYWwuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fXykge1xuICAgICAgICB2YXIgZGV2VG9vbHNPcHRpb25zID0gdHlwZW9mIHRoaXMub3B0aW9ucy5kZXZUb29scyA9PT0gJ29iamVjdCcgPyB0aGlzLm9wdGlvbnMuZGV2VG9vbHMgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGV2VG9vbHMgPSBnbG9iYWwuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fXy5jb25uZWN0KF9fYXNzaWduKF9fYXNzaWduKHtcbiAgICAgICAgICBuYW1lOiB0aGlzLmlkLFxuICAgICAgICAgIGF1dG9QYXVzZTogdHJ1ZSxcbiAgICAgICAgICBzdGF0ZVNhbml0aXplcjogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB2YWx1ZTogc3RhdGUudmFsdWUsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IHN0YXRlLmNvbnRleHQsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IHN0YXRlLmFjdGlvbnNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9LCBkZXZUb29sc09wdGlvbnMpLCB7XG4gICAgICAgICAgZmVhdHVyZXM6IF9fYXNzaWduKHtcbiAgICAgICAgICAgIGp1bXA6IGZhbHNlLFxuICAgICAgICAgICAgc2tpcDogZmFsc2VcbiAgICAgICAgICB9LCBkZXZUb29sc09wdGlvbnMgPyBkZXZUb29sc09wdGlvbnMuZmVhdHVyZXMgOiB1bmRlZmluZWQpXG4gICAgICAgIH0pLCB0aGlzLm1hY2hpbmUpO1xuICAgICAgICB0aGlzLmRldlRvb2xzLmluaXQodGhpcy5zdGF0ZSk7XG4gICAgICB9IC8vIGFkZCBYU3RhdGUtc3BlY2lmaWMgZGV2IHRvb2xpbmcgaG9va1xuXG5cbiAgICAgIHJlZ2lzdGVyU2VydmljZSh0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWRcbiAgICB9O1xuICB9O1xuXG4gIEludGVycHJldGVyLnByb3RvdHlwZVtzeW1ib2xPYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBJbnRlcnByZXRlci5wcm90b3R5cGUuZ2V0U25hcHNob3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBJbnRlcnByZXRlclN0YXR1cy5Ob3RTdGFydGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbml0aWFsU3RhdGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICB9O1xuICAvKipcclxuICAgKiBUaGUgZGVmYXVsdCBpbnRlcnByZXRlciBvcHRpb25zOlxyXG4gICAqXHJcbiAgICogLSBgY2xvY2tgIHVzZXMgdGhlIGdsb2JhbCBgc2V0VGltZW91dGAgYW5kIGBjbGVhclRpbWVvdXRgIGZ1bmN0aW9uc1xyXG4gICAqIC0gYGxvZ2dlcmAgdXNlcyB0aGUgZ2xvYmFsIGBjb25zb2xlLmxvZygpYCBtZXRob2RcclxuICAgKi9cblxuXG4gIEludGVycHJldGVyLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIGV4ZWN1dGU6IHRydWUsXG4gICAgZGVmZXJFdmVudHM6IHRydWUsXG4gICAgY2xvY2s6IHtcbiAgICAgIHNldFRpbWVvdXQ6IGZ1bmN0aW9uIChmbiwgbXMpIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZm4sIG1zKTtcbiAgICAgIH0sXG4gICAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxvZ2dlcjogLyojX19QVVJFX18qL2NvbnNvbGUubG9nLmJpbmQoY29uc29sZSksXG4gICAgZGV2VG9vbHM6IGZhbHNlXG4gIH07XG4gIEludGVycHJldGVyLmludGVycHJldCA9IGludGVycHJldDtcbiAgcmV0dXJuIEludGVycHJldGVyO1xufSgpO1xuXG52YXIgcmVzb2x2ZVNwYXduT3B0aW9ucyA9IGZ1bmN0aW9uIChuYW1lT3JPcHRpb25zKSB7XG4gIGlmIChpc1N0cmluZyhuYW1lT3JPcHRpb25zKSkge1xuICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgREVGQVVMVF9TUEFXTl9PUFRJT05TKSwge1xuICAgICAgbmFtZTogbmFtZU9yT3B0aW9uc1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBERUZBVUxUX1NQQVdOX09QVElPTlMpLCB7XG4gICAgbmFtZTogdW5pcXVlSWQoKVxuICB9KSwgbmFtZU9yT3B0aW9ucyk7XG59O1xuXG5mdW5jdGlvbiBzcGF3bihlbnRpdHksIG5hbWVPck9wdGlvbnMpIHtcbiAgdmFyIHJlc29sdmVkT3B0aW9ucyA9IHJlc29sdmVTcGF3bk9wdGlvbnMobmFtZU9yT3B0aW9ucyk7XG4gIHJldHVybiBjb25zdW1lKGZ1bmN0aW9uIChzZXJ2aWNlKSB7XG4gICAgaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gICAgICB2YXIgaXNMYXp5RW50aXR5ID0gaXNNYWNoaW5lKGVudGl0eSkgfHwgaXNGdW5jdGlvbihlbnRpdHkpO1xuICAgICAgd2FybighIXNlcnZpY2UgfHwgaXNMYXp5RW50aXR5LCBcIkF0dGVtcHRlZCB0byBzcGF3biBhbiBBY3RvciAoSUQ6IFxcXCJcIi5jb25jYXQoaXNNYWNoaW5lKGVudGl0eSkgPyBlbnRpdHkuaWQgOiAndW5kZWZpbmVkJywgXCJcXFwiKSBvdXRzaWRlIG9mIGEgc2VydmljZS4gVGhpcyB3aWxsIGhhdmUgbm8gZWZmZWN0LlwiKSk7XG4gICAgfVxuXG4gICAgaWYgKHNlcnZpY2UpIHtcbiAgICAgIHJldHVybiBzZXJ2aWNlLnNwYXduKGVudGl0eSwgcmVzb2x2ZWRPcHRpb25zLm5hbWUsIHJlc29sdmVkT3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjcmVhdGVEZWZlcnJlZEFjdG9yKGVudGl0eSwgcmVzb2x2ZWRPcHRpb25zLm5hbWUpO1xuICAgIH1cbiAgfSk7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBJbnRlcnByZXRlciBpbnN0YW5jZSBmb3IgdGhlIGdpdmVuIG1hY2hpbmUgd2l0aCB0aGUgcHJvdmlkZWQgb3B0aW9ucywgaWYgYW55LlxyXG4gKlxyXG4gKiBAcGFyYW0gbWFjaGluZSBUaGUgbWFjaGluZSB0byBpbnRlcnByZXRcclxuICogQHBhcmFtIG9wdGlvbnMgSW50ZXJwcmV0ZXIgb3B0aW9uc1xyXG4gKi9cblxuZnVuY3Rpb24gaW50ZXJwcmV0KG1hY2hpbmUsIG9wdGlvbnMpIHtcbiAgdmFyIGludGVycHJldGVyID0gbmV3IEludGVycHJldGVyKG1hY2hpbmUsIG9wdGlvbnMpO1xuICByZXR1cm4gaW50ZXJwcmV0ZXI7XG59XG5cbmV4cG9ydCB7IEludGVycHJldGVyLCBJbnRlcnByZXRlclN0YXR1cywgaW50ZXJwcmV0LCBzcGF3biB9O1xuIl0sIm5hbWVzIjpbIl9fdmFsdWVzIiwiX19zcHJlYWRBcnJheSIsIl9fcmVhZCIsIl9fYXNzaWduIiwiU3BlY2lhbFRhcmdldHMiLCJBY3Rpb25UeXBlcyIsImlzU3RhdGVDb25maWciLCJTdGF0ZSIsImJpbmRBY3Rpb25Ub1N0YXRlIiwiZXJyb3JQbGF0Zm9ybSIsInVwZGF0ZSIsImVycm9yIiwiZXJyb3IkMSIsImxvZyIsInN0b3AiLCJzdGFydCIsImNhbmNlbCIsInNlbmQiLCJyYWlzZSIsImluaXRFdmVudCIsImRvbmVJbnZva2UiLCJ0b0FjdGlvbk9iamVjdHMiLCJyZXNvbHZlQWN0aW9ucyIsImdldEFjdGlvbkZ1bmN0aW9uIiwiSVNfUFJPRFVDVElPTiIsIndhcm4iLCJtYXBDb250ZXh0IiwidG9PYnNlcnZlciIsImlzRnVuY3Rpb24iLCJ0b1NDWE1MRXZlbnQiLCJmbGF0dGVuIiwiaXNSYWlzYWJsZUFjdGlvbiIsImlzUHJvbWlzZUxpa2UiLCJpc09ic2VydmFibGUiLCJpc01hY2hpbmUiLCJpc0JlaGF2aW9yIiwicmVwb3J0VW5oYW5kbGVkRXhjZXB0aW9uT25JbnZvY2F0aW9uIiwic3ltYm9sT2JzZXJ2YWJsZSIsImlzQXJyYXkiLCJ0b0V2ZW50T2JqZWN0IiwiaXNTdHJpbmciLCJpc0FjdG9yIiwidG9JbnZva2VTb3VyY2UiLCJ1bmlxdWVJZCIsIlNjaGVkdWxlciIsImNyZWF0ZURlZmVycmVkQWN0b3IiLCJpc1NwYXduZWRBY3RvciIsInJlZ2lzdHJ5IiwiZ2V0R2xvYmFsIiwicmVnaXN0ZXJTZXJ2aWNlIiwicHJvdmlkZSIsImNvbnN1bWUiLCJzcGF3bkJlaGF2aW9yIiwiREVGQVVMVF9TUEFXTl9PUFRJT05TIiwic3luYyIsImF1dG9Gb3J3YXJkIiwiSW50ZXJwcmV0ZXJTdGF0dXMiLCJJbnRlcnByZXRlciIsIm1hY2hpbmUiLCJvcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJfdGhpcyIsImRlbGF5ZWRFdmVudHNNYXAiLCJsaXN0ZW5lcnMiLCJTZXQiLCJjb250ZXh0TGlzdGVuZXJzIiwic3RvcExpc3RlbmVycyIsImRvbmVMaXN0ZW5lcnMiLCJldmVudExpc3RlbmVycyIsInNlbmRMaXN0ZW5lcnMiLCJpbml0aWFsaXplZCIsInN0YXR1cyIsIk5vdFN0YXJ0ZWQiLCJjaGlsZHJlbiIsIk1hcCIsImZvcndhcmRUbyIsIl9vdXRnb2luZ1F1ZXVlIiwiaW5pdCIsImV2ZW50IiwicGF5bG9hZCIsImJhdGNoIiwic3RhdGUiLCJfZXZlbnQiLCJTdG9wcGVkIiwiY29uY2F0IiwibmFtZSIsImlkIiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJSdW5uaW5nIiwiZGVmZXJFdmVudHMiLCJFcnJvciIsInNjaGVkdWxlciIsInNjaGVkdWxlIiwiZm9yd2FyZCIsIm5leHRTdGF0ZSIsIl9uZXh0U3RhdGUiLCJfc3RhdGUiLCJzZW5kVG8iLCJ0byIsImltbWVkaWF0ZSIsImlzUGFyZW50IiwicGFyZW50IiwiUGFyZW50IiwidGFyZ2V0IiwiSW50ZXJuYWwiLCJnZXQiLCJ1bmRlZmluZWQiLCJ0eXBlIiwiZG9uZSIsInNjeG1sRXZlbnQiLCJvcmlnaW4iLCJzZXNzaW9uSWQiLCJjb25maWciLCJwcmVkaWN0YWJsZUFjdGlvbkFyZ3VtZW50cyIsInB1c2giLCJfZXhlYyIsImFjdGlvbiIsImNvbnRleHQiLCJhY3Rpb25GdW5jdGlvbk1hcCIsImFjdGlvbnMiLCJhY3Rpb25PckV4ZWMiLCJleGVjIiwiZXJyIiwic2VuZEFjdGlvbl8xIiwiZGVmZXIiLCJzZW5kQWN0aW9uIiwiZGVsYXkiLCJzZW5kSWQiLCJhY3Rpdml0eSIsImFjdGl2aXRpZXMiLCJJbnZva2UiLCJpbnZva2VTb3VyY2UiLCJzcmMiLCJzZXJ2aWNlQ3JlYXRvciIsInNlcnZpY2VzIiwicmVzb2x2ZWREYXRhIiwic291cmNlIiwibWV0YSIsIndpdGhDb250ZXh0Iiwic3Bhd24iLCJzcGF3bkFjdGl2aXR5Iiwic3RvcENoaWxkIiwiX2EiLCJsYWJlbCIsInZhbHVlIiwibG9nZ2VyIiwicmVzb2x2ZWRPcHRpb25zIiwiY2xvY2siLCJyZXNvbHZlZElkIiwiYm9va0lkIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b3R5cGUiLCJfaW5pdGlhbFN0YXRlIiwiaW5pdGlhbFN0YXRlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImV4ZWN1dGUiLCJhY3Rpb25zQ29uZmlnIiwiZV8xIiwiX2IiLCJfYyIsIm5leHQiLCJlXzFfMSIsInJldHVybiIsImNhbGwiLCJlXzIiLCJlXzMiLCJlXzQiLCJlXzUiLCJfZCIsIl9zZXNzaW9uaWQiLCJpdGVtIiwic2hpZnQiLCJmb3JFYWNoIiwiY2hpbGQiLCJkZXZUb29scyIsIl9lIiwiX2YiLCJsaXN0ZW5lciIsImVfMl8xIiwiX2ciLCJfaCIsImVfM18xIiwiX2oiLCJfayIsImNvbnRleHRMaXN0ZW5lciIsImhpc3RvcnkiLCJlXzRfMSIsImZpbmFsQ2hpbGRTdGF0ZU5vZGUiLCJjb25maWd1cmF0aW9uIiwiZmluZCIsInNuIiwiZG9uZURhdGEiLCJfZG9uZUV2ZW50IiwiX2wiLCJfbSIsImVfNV8xIiwiX3N0b3AiLCJfc3RvcENoaWxkcmVuIiwiZnJlZSIsIm9uVHJhbnNpdGlvbiIsImFkZCIsInN1YnNjcmliZSIsIm5leHRMaXN0ZW5lck9yT2JzZXJ2ZXIiLCJfIiwiY29tcGxldGVMaXN0ZW5lciIsIm9ic2VydmVyIiwiY29tcGxldGVPbmNlIiwiZGVsZXRlIiwiY29tcGxldGUiLCJvbkRvbmUiLCJvblN0b3AiLCJ1bnN1YnNjcmliZSIsIm9uRXZlbnQiLCJvblNlbmQiLCJvbkNoYW5nZSIsIm9mZiIsIl9pbml0IiwicmVnaXN0ZXIiLCJyZXNvbHZlZFN0YXRlIiwicmVzb2x2ZVN0YXRlIiwiZnJvbSIsImF0dGFjaERldiIsImluaXRpYWxpemUiLCJjbGVhciIsImVfNiIsImVfNyIsImVfOCIsImVfOSIsImVfMTAiLCJlXzZfMSIsImVfN18xIiwiZV84XzEiLCJfbyIsImVfOV8xIiwiX3AiLCJrZXlzIiwiX3EiLCJrZXkiLCJjbGVhclRpbWVvdXQiLCJlXzEwXzEiLCJleGl0QWN0aW9ucyIsInNvcnQiLCJhIiwiYiIsIm9yZGVyIiwibWFwIiwic3RhdGVOb2RlIiwib25FeGl0IiwicHJlc2VydmVBY3Rpb25PcmRlciIsInJlc29sdmVkQWN0aW9ucyIsInVwZGF0ZWRDb250ZXh0IiwibmV3U3RhdGUiLCJoaXN0b3J5VmFsdWUiLCJmaWx0ZXIiLCJldmVudHMiLCJ0cmFuc2l0aW9ucyIsInRhZ3MiLCJjaGFuZ2VkIiwibGVuZ3RoIiwiZV8xMSIsImJhdGNoQ2hhbmdlZCIsImJhdGNoZWRBY3Rpb25zIiwiX2xvb3BfMSIsImV2ZW50XzEiLCJ0cmFuc2l0aW9uIiwiYXBwbHkiLCJldmVudHNfMSIsImV2ZW50c18xXzEiLCJlXzExXzEiLCJzZW5kZXIiLCJiaW5kIiwiaW5kZXhPZiIsIm5leHRFdmVudHMiLCJzb21lIiwibmV4dEV2ZW50IiwiZV8xMiIsImVfMTJfMSIsInRpbWVySWQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2hpbGQiLCJjaGlsZElkIiwiZW50aXR5Iiwic3Bhd25Qcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzcGF3bkNhbGxiYWNrIiwic3Bhd25BY3RvciIsInNwYXduT2JzZXJ2YWJsZSIsInNwYXduTWFjaGluZSIsImNoaWxkU2VydmljZSIsImFjdG9yIiwic2V0IiwiZG9uZUV2ZW50IiwiYmVoYXZpb3IiLCJhY3RvclJlZiIsInByb21pc2UiLCJjYW5jZWxlZCIsInRoZW4iLCJyZXNwb25zZSIsImVycm9yRGF0YSIsImVycm9yRXZlbnQiLCJzdHJpY3QiLCJoYW5kbGVFcnJvciIsInVuc3Vic2NyaWJlZCIsInRvSlNPTiIsImdldFNuYXBzaG90IiwiY2FsbGJhY2siLCJyZWNlaXZlcnMiLCJlbWl0dGVkIiwicmVjZWl2ZSIsImUiLCJjYWxsYmFja1N0b3AiLCJuZXdMaXN0ZW5lciIsInJlY2VpdmVyIiwic3Vic2NyaXB0aW9uIiwiaW1wbGVtZW50YXRpb24iLCJkaXNwb3NlIiwic3Bhd25FZmZlY3QiLCJnbG9iYWwiLCJfX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9fIiwiZGV2VG9vbHNPcHRpb25zIiwiY29ubmVjdCIsImF1dG9QYXVzZSIsInN0YXRlU2FuaXRpemVyIiwiZmVhdHVyZXMiLCJqdW1wIiwic2tpcCIsImZuIiwibXMiLCJjb25zb2xlIiwiaW50ZXJwcmV0IiwicmVzb2x2ZVNwYXduT3B0aW9ucyIsIm5hbWVPck9wdGlvbnMiLCJzZXJ2aWNlIiwiaXNMYXp5RW50aXR5IiwiaW50ZXJwcmV0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/interpreter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/invokeUtils.js":
/*!***********************************************!*\
  !*** ./node_modules/xstate/es/invokeUtils.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toInvokeDefinition: () => (/* binding */ toInvokeDefinition),\n/* harmony export */   toInvokeSource: () => (/* binding */ toInvokeSource)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n\n\n\n\n\nfunction toInvokeSource(src) {\n    if (typeof src === \"string\") {\n        var simpleSrc = {\n            type: src\n        };\n        simpleSrc.toString = function() {\n            return src;\n        }; // v4 compat - TODO: remove in v5\n        return simpleSrc;\n    }\n    return src;\n}\nfunction toInvokeDefinition(invokeConfig) {\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)({\n        type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_1__.invoke\n    }, invokeConfig), {\n        toJSON: function() {\n            invokeConfig.onDone;\n            invokeConfig.onError;\n            var invokeDef = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__rest)(invokeConfig, [\n                \"onDone\",\n                \"onError\"\n            ]);\n            return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, invokeDef), {\n                type: _actionTypes_js__WEBPACK_IMPORTED_MODULE_1__.invoke,\n                src: toInvokeSource(invokeConfig.src)\n            });\n        }\n    });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2ludm9rZVV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0Q7QUFDcEM7QUFDc0I7QUFDdEI7QUFDTTtBQUUxQixTQUFTRyxlQUFlQyxHQUFHO0lBQ3pCLElBQUksT0FBT0EsUUFBUSxVQUFVO1FBQzNCLElBQUlDLFlBQVk7WUFDZEMsTUFBTUY7UUFDUjtRQUVBQyxVQUFVRSxRQUFRLEdBQUc7WUFDbkIsT0FBT0g7UUFDVCxHQUFHLGlDQUFpQztRQUdwQyxPQUFPQztJQUNUO0lBRUEsT0FBT0Q7QUFDVDtBQUNBLFNBQVNJLG1CQUFtQkMsWUFBWTtJQUN0QyxPQUFPVCwyREFBUUEsQ0FBQ0EsMkRBQVFBLENBQUM7UUFDdkJNLE1BQU1KLG1EQUFNQTtJQUNkLEdBQUdPLGVBQWU7UUFDaEJDLFFBQVE7WUFDTkQsYUFBYUUsTUFBTTtZQUNmRixhQUFhRyxPQUFPO1lBQ3BCLElBQUlDLFlBQVlaLHlEQUFNQSxDQUFDUSxjQUFjO2dCQUFDO2dCQUFVO2FBQVU7WUFFOUQsT0FBT1QsMkRBQVFBLENBQUNBLDJEQUFRQSxDQUFDLENBQUMsR0FBR2EsWUFBWTtnQkFDdkNQLE1BQU1KLG1EQUFNQTtnQkFDWkUsS0FBS0QsZUFBZU0sYUFBYUwsR0FBRztZQUN0QztRQUNGO0lBQ0Y7QUFDRjtBQUU4QyIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1ncmlkLTIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL2ludm9rZVV0aWxzLmpzP2Y4N2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hc3NpZ24sIF9fcmVzdCB9IGZyb20gJy4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCAnLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBpbnZva2UgfSBmcm9tICcuL2FjdGlvblR5cGVzLmpzJztcbmltcG9ydCAnLi91dGlscy5qcyc7XG5pbXBvcnQgJy4vZW52aXJvbm1lbnQuanMnO1xuXG5mdW5jdGlvbiB0b0ludm9rZVNvdXJjZShzcmMpIHtcbiAgaWYgKHR5cGVvZiBzcmMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIHNpbXBsZVNyYyA9IHtcbiAgICAgIHR5cGU6IHNyY1xuICAgIH07XG5cbiAgICBzaW1wbGVTcmMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc3JjO1xuICAgIH07IC8vIHY0IGNvbXBhdCAtIFRPRE86IHJlbW92ZSBpbiB2NVxuXG5cbiAgICByZXR1cm4gc2ltcGxlU3JjO1xuICB9XG5cbiAgcmV0dXJuIHNyYztcbn1cbmZ1bmN0aW9uIHRvSW52b2tlRGVmaW5pdGlvbihpbnZva2VDb25maWcpIHtcbiAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHtcbiAgICB0eXBlOiBpbnZva2VcbiAgfSwgaW52b2tlQ29uZmlnKSwge1xuICAgIHRvSlNPTjogZnVuY3Rpb24gKCkge1xuICAgICAgaW52b2tlQ29uZmlnLm9uRG9uZTtcbiAgICAgICAgICBpbnZva2VDb25maWcub25FcnJvcjtcbiAgICAgICAgICB2YXIgaW52b2tlRGVmID0gX19yZXN0KGludm9rZUNvbmZpZywgW1wib25Eb25lXCIsIFwib25FcnJvclwiXSk7XG5cbiAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgaW52b2tlRGVmKSwge1xuICAgICAgICB0eXBlOiBpbnZva2UsXG4gICAgICAgIHNyYzogdG9JbnZva2VTb3VyY2UoaW52b2tlQ29uZmlnLnNyYylcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCB7IHRvSW52b2tlRGVmaW5pdGlvbiwgdG9JbnZva2VTb3VyY2UgfTtcbiJdLCJuYW1lcyI6WyJfX2Fzc2lnbiIsIl9fcmVzdCIsImludm9rZSIsInRvSW52b2tlU291cmNlIiwic3JjIiwic2ltcGxlU3JjIiwidHlwZSIsInRvU3RyaW5nIiwidG9JbnZva2VEZWZpbml0aW9uIiwiaW52b2tlQ29uZmlnIiwidG9KU09OIiwib25Eb25lIiwib25FcnJvciIsImludm9rZURlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/invokeUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/mapState.js":
/*!********************************************!*\
  !*** ./node_modules/xstate/es/mapState.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mapState: () => (/* binding */ mapState)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n\n\nfunction mapState(stateMap, stateId) {\n    var e_1, _a;\n    var foundStateId;\n    try {\n        for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__values)(Object.keys(stateMap)), _c = _b.next(); !_c.done; _c = _b.next()){\n            var mappedStateId = _c.value;\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.matchesState)(mappedStateId, stateId) && (!foundStateId || stateId.length > foundStateId.length)) {\n                foundStateId = mappedStateId;\n            }\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    return stateMap[foundStateId];\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL21hcFN0YXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDtBQUNOO0FBRTFDLFNBQVNFLFNBQVNDLFFBQVEsRUFBRUMsT0FBTztJQUNqQyxJQUFJQyxLQUFLQztJQUVULElBQUlDO0lBRUosSUFBSTtRQUNGLElBQUssSUFBSUMsS0FBS1IsMkRBQVFBLENBQUNTLE9BQU9DLElBQUksQ0FBQ1AsWUFBWVEsS0FBS0gsR0FBR0ksSUFBSSxJQUFJLENBQUNELEdBQUdFLElBQUksRUFBRUYsS0FBS0gsR0FBR0ksSUFBSSxHQUFJO1lBQ3ZGLElBQUlFLGdCQUFnQkgsR0FBR0ksS0FBSztZQUU1QixJQUFJZCx1REFBWUEsQ0FBQ2EsZUFBZVYsWUFBYSxFQUFDRyxnQkFBZ0JILFFBQVFZLE1BQU0sR0FBR1QsYUFBYVMsTUFBTSxHQUFHO2dCQUNuR1QsZUFBZU87WUFDakI7UUFDRjtJQUNGLEVBQUUsT0FBT0csT0FBTztRQUNkWixNQUFNO1lBQ0phLE9BQU9EO1FBQ1Q7SUFDRixTQUFVO1FBQ1IsSUFBSTtZQUNGLElBQUlOLE1BQU0sQ0FBQ0EsR0FBR0UsSUFBSSxJQUFLUCxDQUFBQSxLQUFLRSxHQUFHVyxNQUFNLEdBQUdiLEdBQUdjLElBQUksQ0FBQ1o7UUFDbEQsU0FBVTtZQUNSLElBQUlILEtBQUssTUFBTUEsSUFBSWEsS0FBSztRQUMxQjtJQUNGO0lBRUEsT0FBT2YsUUFBUSxDQUFDSSxhQUFhO0FBQy9CO0FBRW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLWdyaWQtMi8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvbWFwU3RhdGUuanM/YjllNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX3ZhbHVlcyB9IGZyb20gJy4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IG1hdGNoZXNTdGF0ZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5mdW5jdGlvbiBtYXBTdGF0ZShzdGF0ZU1hcCwgc3RhdGVJZCkge1xuICB2YXIgZV8xLCBfYTtcblxuICB2YXIgZm91bmRTdGF0ZUlkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyhzdGF0ZU1hcCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICB2YXIgbWFwcGVkU3RhdGVJZCA9IF9jLnZhbHVlO1xuXG4gICAgICBpZiAobWF0Y2hlc1N0YXRlKG1hcHBlZFN0YXRlSWQsIHN0YXRlSWQpICYmICghZm91bmRTdGF0ZUlkIHx8IHN0YXRlSWQubGVuZ3RoID4gZm91bmRTdGF0ZUlkLmxlbmd0aCkpIHtcbiAgICAgICAgZm91bmRTdGF0ZUlkID0gbWFwcGVkU3RhdGVJZDtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVfMV8xKSB7XG4gICAgZV8xID0ge1xuICAgICAgZXJyb3I6IGVfMV8xXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0YXRlTWFwW2ZvdW5kU3RhdGVJZF07XG59XG5cbmV4cG9ydCB7IG1hcFN0YXRlIH07XG4iXSwibmFtZXMiOlsiX192YWx1ZXMiLCJtYXRjaGVzU3RhdGUiLCJtYXBTdGF0ZSIsInN0YXRlTWFwIiwic3RhdGVJZCIsImVfMSIsIl9hIiwiZm91bmRTdGF0ZUlkIiwiX2IiLCJPYmplY3QiLCJrZXlzIiwiX2MiLCJuZXh0IiwiZG9uZSIsIm1hcHBlZFN0YXRlSWQiLCJ2YWx1ZSIsImxlbmd0aCIsImVfMV8xIiwiZXJyb3IiLCJyZXR1cm4iLCJjYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/mapState.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/match.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/match.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   matchState: () => (/* binding */ matchState)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _State_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./State.js */ \"(ssr)/./node_modules/xstate/es/State.js\");\n\n\nfunction matchState(state, patterns, defaultValue) {\n    var e_1, _a;\n    var resolvedState = _State_js__WEBPACK_IMPORTED_MODULE_0__.State.from(state, state instanceof _State_js__WEBPACK_IMPORTED_MODULE_0__.State ? state.context : undefined);\n    try {\n        for(var patterns_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(patterns), patterns_1_1 = patterns_1.next(); !patterns_1_1.done; patterns_1_1 = patterns_1.next()){\n            var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(patterns_1_1.value, 2), stateValue = _b[0], getValue = _b[1];\n            if (resolvedState.matches(stateValue)) {\n                return getValue(resolvedState);\n            }\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (patterns_1_1 && !patterns_1_1.done && (_a = patterns_1.return)) _a.call(patterns_1);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    return defaultValue(resolvedState);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL21hdGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3RDtBQUNyQjtBQUVuQyxTQUFTRyxXQUFXQyxLQUFLLEVBQUVDLFFBQVEsRUFBRUMsWUFBWTtJQUMvQyxJQUFJQyxLQUFLQztJQUVULElBQUlDLGdCQUFnQlAsNENBQUtBLENBQUNRLElBQUksQ0FBQ04sT0FBT0EsaUJBQWlCRiw0Q0FBS0EsR0FBR0UsTUFBTU8sT0FBTyxHQUFHQztJQUUvRSxJQUFJO1FBQ0YsSUFBSyxJQUFJQyxhQUFhYiwyREFBUUEsQ0FBQ0ssV0FBV1MsZUFBZUQsV0FBV0UsSUFBSSxJQUFJLENBQUNELGFBQWFFLElBQUksRUFBRUYsZUFBZUQsV0FBV0UsSUFBSSxHQUFJO1lBQ2hJLElBQUlFLEtBQUtoQix5REFBTUEsQ0FBQ2EsYUFBYUksS0FBSyxFQUFFLElBQ2hDQyxhQUFhRixFQUFFLENBQUMsRUFBRSxFQUNsQkcsV0FBV0gsRUFBRSxDQUFDLEVBQUU7WUFFcEIsSUFBSVIsY0FBY1ksT0FBTyxDQUFDRixhQUFhO2dCQUNyQyxPQUFPQyxTQUFTWDtZQUNsQjtRQUNGO0lBQ0YsRUFBRSxPQUFPYSxPQUFPO1FBQ2RmLE1BQU07WUFDSmdCLE9BQU9EO1FBQ1Q7SUFDRixTQUFVO1FBQ1IsSUFBSTtZQUNGLElBQUlSLGdCQUFnQixDQUFDQSxhQUFhRSxJQUFJLElBQUtSLENBQUFBLEtBQUtLLFdBQVdXLE1BQU0sR0FBR2hCLEdBQUdpQixJQUFJLENBQUNaO1FBQzlFLFNBQVU7WUFDUixJQUFJTixLQUFLLE1BQU1BLElBQUlnQixLQUFLO1FBQzFCO0lBQ0Y7SUFFQSxPQUFPakIsYUFBYUc7QUFDdEI7QUFFc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aGUtZ3JpZC0yLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9tYXRjaC5qcz80ZTExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fdmFsdWVzLCBfX3JlYWQgfSBmcm9tICcuL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vU3RhdGUuanMnO1xuXG5mdW5jdGlvbiBtYXRjaFN0YXRlKHN0YXRlLCBwYXR0ZXJucywgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBlXzEsIF9hO1xuXG4gIHZhciByZXNvbHZlZFN0YXRlID0gU3RhdGUuZnJvbShzdGF0ZSwgc3RhdGUgaW5zdGFuY2VvZiBTdGF0ZSA/IHN0YXRlLmNvbnRleHQgOiB1bmRlZmluZWQpO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgcGF0dGVybnNfMSA9IF9fdmFsdWVzKHBhdHRlcm5zKSwgcGF0dGVybnNfMV8xID0gcGF0dGVybnNfMS5uZXh0KCk7ICFwYXR0ZXJuc18xXzEuZG9uZTsgcGF0dGVybnNfMV8xID0gcGF0dGVybnNfMS5uZXh0KCkpIHtcbiAgICAgIHZhciBfYiA9IF9fcmVhZChwYXR0ZXJuc18xXzEudmFsdWUsIDIpLFxuICAgICAgICAgIHN0YXRlVmFsdWUgPSBfYlswXSxcbiAgICAgICAgICBnZXRWYWx1ZSA9IF9iWzFdO1xuXG4gICAgICBpZiAocmVzb2x2ZWRTdGF0ZS5tYXRjaGVzKHN0YXRlVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBnZXRWYWx1ZShyZXNvbHZlZFN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVfMV8xKSB7XG4gICAgZV8xID0ge1xuICAgICAgZXJyb3I6IGVfMV8xXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHBhdHRlcm5zXzFfMSAmJiAhcGF0dGVybnNfMV8xLmRvbmUgJiYgKF9hID0gcGF0dGVybnNfMS5yZXR1cm4pKSBfYS5jYWxsKHBhdHRlcm5zXzEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZShyZXNvbHZlZFN0YXRlKTtcbn1cblxuZXhwb3J0IHsgbWF0Y2hTdGF0ZSB9O1xuIl0sIm5hbWVzIjpbIl9fdmFsdWVzIiwiX19yZWFkIiwiU3RhdGUiLCJtYXRjaFN0YXRlIiwic3RhdGUiLCJwYXR0ZXJucyIsImRlZmF1bHRWYWx1ZSIsImVfMSIsIl9hIiwicmVzb2x2ZWRTdGF0ZSIsImZyb20iLCJjb250ZXh0IiwidW5kZWZpbmVkIiwicGF0dGVybnNfMSIsInBhdHRlcm5zXzFfMSIsIm5leHQiLCJkb25lIiwiX2IiLCJ2YWx1ZSIsInN0YXRlVmFsdWUiLCJnZXRWYWx1ZSIsIm1hdGNoZXMiLCJlXzFfMSIsImVycm9yIiwicmV0dXJuIiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/match.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/registry.js":
/*!********************************************!*\
  !*** ./node_modules/xstate/es/registry.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registry: () => (/* binding */ registry)\n/* harmony export */ });\nvar children = /*#__PURE__*/ new Map();\nvar sessionIdIndex = 0;\nvar registry = {\n    bookId: function() {\n        return \"x:\".concat(sessionIdIndex++);\n    },\n    register: function(id, actor) {\n        children.set(id, actor);\n        return id;\n    },\n    get: function(id) {\n        return children.get(id);\n    },\n    free: function(id) {\n        children.delete(id);\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3JlZ2lzdHJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxXQUFXLFdBQVcsR0FBRSxJQUFJQztBQUNoQyxJQUFJQyxpQkFBaUI7QUFDckIsSUFBSUMsV0FBVztJQUNiQyxRQUFRO1FBQ04sT0FBTyxLQUFLQyxNQUFNLENBQUNIO0lBQ3JCO0lBQ0FJLFVBQVUsU0FBVUMsRUFBRSxFQUFFQyxLQUFLO1FBQzNCUixTQUFTUyxHQUFHLENBQUNGLElBQUlDO1FBQ2pCLE9BQU9EO0lBQ1Q7SUFDQUcsS0FBSyxTQUFVSCxFQUFFO1FBQ2YsT0FBT1AsU0FBU1UsR0FBRyxDQUFDSDtJQUN0QjtJQUNBSSxNQUFNLFNBQVVKLEVBQUU7UUFDaEJQLFNBQVNZLE1BQU0sQ0FBQ0w7SUFDbEI7QUFDRjtBQUVvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1ncmlkLTIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3JlZ2lzdHJ5LmpzPzcwOTYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNoaWxkcmVuID0gLyojX19QVVJFX18qL25ldyBNYXAoKTtcbnZhciBzZXNzaW9uSWRJbmRleCA9IDA7XG52YXIgcmVnaXN0cnkgPSB7XG4gIGJvb2tJZDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIng6XCIuY29uY2F0KHNlc3Npb25JZEluZGV4KyspO1xuICB9LFxuICByZWdpc3RlcjogZnVuY3Rpb24gKGlkLCBhY3Rvcikge1xuICAgIGNoaWxkcmVuLnNldChpZCwgYWN0b3IpO1xuICAgIHJldHVybiBpZDtcbiAgfSxcbiAgZ2V0OiBmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gY2hpbGRyZW4uZ2V0KGlkKTtcbiAgfSxcbiAgZnJlZTogZnVuY3Rpb24gKGlkKSB7XG4gICAgY2hpbGRyZW4uZGVsZXRlKGlkKTtcbiAgfVxufTtcblxuZXhwb3J0IHsgcmVnaXN0cnkgfTtcbiJdLCJuYW1lcyI6WyJjaGlsZHJlbiIsIk1hcCIsInNlc3Npb25JZEluZGV4IiwicmVnaXN0cnkiLCJib29rSWQiLCJjb25jYXQiLCJyZWdpc3RlciIsImlkIiwiYWN0b3IiLCJzZXQiLCJnZXQiLCJmcmVlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/registry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/scheduler.js":
/*!*********************************************!*\
  !*** ./node_modules/xstate/es/scheduler.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Scheduler: () => (/* binding */ Scheduler)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n\nvar defaultOptions = {\n    deferEvents: false\n};\nvar Scheduler = /*#__PURE__*/ /** @class */ function() {\n    function Scheduler(options) {\n        this.processingEvent = false;\n        this.queue = [];\n        this.initialized = false;\n        this.options = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, defaultOptions), options);\n    }\n    Scheduler.prototype.initialize = function(callback) {\n        this.initialized = true;\n        if (callback) {\n            if (!this.options.deferEvents) {\n                this.schedule(callback);\n                return;\n            }\n            this.process(callback);\n        }\n        this.flushEvents();\n    };\n    Scheduler.prototype.schedule = function(task) {\n        if (!this.initialized || this.processingEvent) {\n            this.queue.push(task);\n            return;\n        }\n        if (this.queue.length !== 0) {\n            throw new Error(\"Event queue should be empty when it is not processing events\");\n        }\n        this.process(task);\n        this.flushEvents();\n    };\n    Scheduler.prototype.clear = function() {\n        this.queue = [];\n    };\n    Scheduler.prototype.flushEvents = function() {\n        var nextCallback = this.queue.shift();\n        while(nextCallback){\n            this.process(nextCallback);\n            nextCallback = this.queue.shift();\n        }\n    };\n    Scheduler.prototype.process = function(callback) {\n        this.processingEvent = true;\n        try {\n            callback();\n        } catch (e) {\n            // there is no use to keep the future events\n            // as the situation is not anymore the same\n            this.clear();\n            throw e;\n        } finally{\n            this.processingEvent = false;\n        }\n    };\n    return Scheduler;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3NjaGVkdWxlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRDtBQUVoRCxJQUFJQyxpQkFBaUI7SUFDbkJDLGFBQWE7QUFDZjtBQUVBLElBQUlDLFlBQ0osV0FBVyxHQUVYLFdBQVcsR0FDWDtJQUNFLFNBQVNBLFVBQVVDLE9BQU87UUFDeEIsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSSxDQUFDQyxLQUFLLEdBQUcsRUFBRTtRQUNmLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0gsT0FBTyxHQUFHSiwyREFBUUEsQ0FBQ0EsMkRBQVFBLENBQUMsQ0FBQyxHQUFHQyxpQkFBaUJHO0lBQ3hEO0lBRUFELFVBQVVLLFNBQVMsQ0FBQ0MsVUFBVSxHQUFHLFNBQVVDLFFBQVE7UUFDakQsSUFBSSxDQUFDSCxXQUFXLEdBQUc7UUFFbkIsSUFBSUcsVUFBVTtZQUNaLElBQUksQ0FBQyxJQUFJLENBQUNOLE9BQU8sQ0FBQ0YsV0FBVyxFQUFFO2dCQUM3QixJQUFJLENBQUNTLFFBQVEsQ0FBQ0Q7Z0JBQ2Q7WUFDRjtZQUVBLElBQUksQ0FBQ0UsT0FBTyxDQUFDRjtRQUNmO1FBRUEsSUFBSSxDQUFDRyxXQUFXO0lBQ2xCO0lBRUFWLFVBQVVLLFNBQVMsQ0FBQ0csUUFBUSxHQUFHLFNBQVVHLElBQUk7UUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQ1AsV0FBVyxJQUFJLElBQUksQ0FBQ0YsZUFBZSxFQUFFO1lBQzdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDUyxJQUFJLENBQUNEO1lBQ2hCO1FBQ0Y7UUFFQSxJQUFJLElBQUksQ0FBQ1IsS0FBSyxDQUFDVSxNQUFNLEtBQUssR0FBRztZQUMzQixNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFFQSxJQUFJLENBQUNMLE9BQU8sQ0FBQ0U7UUFDYixJQUFJLENBQUNELFdBQVc7SUFDbEI7SUFFQVYsVUFBVUssU0FBUyxDQUFDVSxLQUFLLEdBQUc7UUFDMUIsSUFBSSxDQUFDWixLQUFLLEdBQUcsRUFBRTtJQUNqQjtJQUVBSCxVQUFVSyxTQUFTLENBQUNLLFdBQVcsR0FBRztRQUNoQyxJQUFJTSxlQUFlLElBQUksQ0FBQ2IsS0FBSyxDQUFDYyxLQUFLO1FBRW5DLE1BQU9ELGFBQWM7WUFDbkIsSUFBSSxDQUFDUCxPQUFPLENBQUNPO1lBQ2JBLGVBQWUsSUFBSSxDQUFDYixLQUFLLENBQUNjLEtBQUs7UUFDakM7SUFDRjtJQUVBakIsVUFBVUssU0FBUyxDQUFDSSxPQUFPLEdBQUcsU0FBVUYsUUFBUTtRQUM5QyxJQUFJLENBQUNMLGVBQWUsR0FBRztRQUV2QixJQUFJO1lBQ0ZLO1FBQ0YsRUFBRSxPQUFPVyxHQUFHO1lBQ1YsNENBQTRDO1lBQzVDLDJDQUEyQztZQUMzQyxJQUFJLENBQUNILEtBQUs7WUFDVixNQUFNRztRQUNSLFNBQVU7WUFDUixJQUFJLENBQUNoQixlQUFlLEdBQUc7UUFDekI7SUFDRjtJQUVBLE9BQU9GO0FBQ1Q7QUFFcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aGUtZ3JpZC0yLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9zY2hlZHVsZXIuanM/MWZlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gJy4vX3ZpcnR1YWwvX3RzbGliLmpzJztcblxudmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICBkZWZlckV2ZW50czogZmFsc2Vcbn07XG5cbnZhciBTY2hlZHVsZXIgPVxuLyojX19QVVJFX18qL1xuXG4vKiogQGNsYXNzICovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNjaGVkdWxlcihvcHRpb25zKSB7XG4gICAgdGhpcy5wcm9jZXNzaW5nRXZlbnQgPSBmYWxzZTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMub3B0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpO1xuICB9XG5cbiAgU2NoZWR1bGVyLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmRlZmVyRXZlbnRzKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGUoY2FsbGJhY2spO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvY2VzcyhjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdGhpcy5mbHVzaEV2ZW50cygpO1xuICB9O1xuXG4gIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAodGFzaykge1xuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCB8fCB0aGlzLnByb2Nlc3NpbmdFdmVudCkge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKHRhc2spO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFdmVudCBxdWV1ZSBzaG91bGQgYmUgZW1wdHkgd2hlbiBpdCBpcyBub3QgcHJvY2Vzc2luZyBldmVudHMnKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb2Nlc3ModGFzayk7XG4gICAgdGhpcy5mbHVzaEV2ZW50cygpO1xuICB9O1xuXG4gIFNjaGVkdWxlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICB9O1xuXG4gIFNjaGVkdWxlci5wcm90b3R5cGUuZmx1c2hFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5leHRDYWxsYmFjayA9IHRoaXMucXVldWUuc2hpZnQoKTtcblxuICAgIHdoaWxlIChuZXh0Q2FsbGJhY2spIHtcbiAgICAgIHRoaXMucHJvY2VzcyhuZXh0Q2FsbGJhY2spO1xuICAgICAgbmV4dENhbGxiYWNrID0gdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgIH1cbiAgfTtcblxuICBTY2hlZHVsZXIucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB0aGlzLnByb2Nlc3NpbmdFdmVudCA9IHRydWU7XG5cbiAgICB0cnkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyB0aGVyZSBpcyBubyB1c2UgdG8ga2VlcCB0aGUgZnV0dXJlIGV2ZW50c1xuICAgICAgLy8gYXMgdGhlIHNpdHVhdGlvbiBpcyBub3QgYW55bW9yZSB0aGUgc2FtZVxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5wcm9jZXNzaW5nRXZlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFNjaGVkdWxlcjtcbn0oKTtcblxuZXhwb3J0IHsgU2NoZWR1bGVyIH07XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJkZWZhdWx0T3B0aW9ucyIsImRlZmVyRXZlbnRzIiwiU2NoZWR1bGVyIiwib3B0aW9ucyIsInByb2Nlc3NpbmdFdmVudCIsInF1ZXVlIiwiaW5pdGlhbGl6ZWQiLCJwcm90b3R5cGUiLCJpbml0aWFsaXplIiwiY2FsbGJhY2siLCJzY2hlZHVsZSIsInByb2Nlc3MiLCJmbHVzaEV2ZW50cyIsInRhc2siLCJwdXNoIiwibGVuZ3RoIiwiRXJyb3IiLCJjbGVhciIsIm5leHRDYWxsYmFjayIsInNoaWZ0IiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/scheduler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/schema.js":
/*!******************************************!*\
  !*** ./node_modules/xstate/es/schema.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSchema: () => (/* binding */ createSchema),\n/* harmony export */   t: () => (/* binding */ t)\n/* harmony export */ });\nfunction createSchema(schema) {\n    return schema;\n}\nvar t = createSchema;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3NjaGVtYS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVNBLGFBQWFDLE1BQU07SUFDMUIsT0FBT0E7QUFDVDtBQUNBLElBQUlDLElBQUlGO0FBRW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLWdyaWQtMi8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvc2NoZW1hLmpzPzRjZDgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY3JlYXRlU2NoZW1hKHNjaGVtYSkge1xuICByZXR1cm4gc2NoZW1hO1xufVxudmFyIHQgPSBjcmVhdGVTY2hlbWE7XG5cbmV4cG9ydCB7IGNyZWF0ZVNjaGVtYSwgdCB9O1xuIl0sIm5hbWVzIjpbImNyZWF0ZVNjaGVtYSIsInNjaGVtYSIsInQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/schema.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/serviceScope.js":
/*!************************************************!*\
  !*** ./node_modules/xstate/es/serviceScope.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   consume: () => (/* binding */ consume),\n/* harmony export */   provide: () => (/* binding */ provide)\n/* harmony export */ });\n/**\r\n * Maintains a stack of the current service in scope.\r\n * This is used to provide the correct service to spawn().\r\n */ var serviceStack = [];\nvar provide = function(service, fn) {\n    serviceStack.push(service);\n    var result = fn(service);\n    serviceStack.pop();\n    return result;\n};\nvar consume = function(fn) {\n    return fn(serviceStack[serviceStack.length - 1]);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3NlcnZpY2VTY29wZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Q0FHQyxHQUNELElBQUlBLGVBQWUsRUFBRTtBQUNyQixJQUFJQyxVQUFVLFNBQVVDLE9BQU8sRUFBRUMsRUFBRTtJQUNqQ0gsYUFBYUksSUFBSSxDQUFDRjtJQUNsQixJQUFJRyxTQUFTRixHQUFHRDtJQUNoQkYsYUFBYU0sR0FBRztJQUNoQixPQUFPRDtBQUNUO0FBQ0EsSUFBSUUsVUFBVSxTQUFVSixFQUFFO0lBQ3hCLE9BQU9BLEdBQUdILFlBQVksQ0FBQ0EsYUFBYVEsTUFBTSxHQUFHLEVBQUU7QUFDakQ7QUFFNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aGUtZ3JpZC0yLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy9zZXJ2aWNlU2NvcGUuanM/N2RkZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTWFpbnRhaW5zIGEgc3RhY2sgb2YgdGhlIGN1cnJlbnQgc2VydmljZSBpbiBzY29wZS5cclxuICogVGhpcyBpcyB1c2VkIHRvIHByb3ZpZGUgdGhlIGNvcnJlY3Qgc2VydmljZSB0byBzcGF3bigpLlxyXG4gKi9cbnZhciBzZXJ2aWNlU3RhY2sgPSBbXTtcbnZhciBwcm92aWRlID0gZnVuY3Rpb24gKHNlcnZpY2UsIGZuKSB7XG4gIHNlcnZpY2VTdGFjay5wdXNoKHNlcnZpY2UpO1xuICB2YXIgcmVzdWx0ID0gZm4oc2VydmljZSk7XG4gIHNlcnZpY2VTdGFjay5wb3AoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgY29uc3VtZSA9IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZm4oc2VydmljZVN0YWNrW3NlcnZpY2VTdGFjay5sZW5ndGggLSAxXSk7XG59O1xuXG5leHBvcnQgeyBjb25zdW1lLCBwcm92aWRlIH07XG4iXSwibmFtZXMiOlsic2VydmljZVN0YWNrIiwicHJvdmlkZSIsInNlcnZpY2UiLCJmbiIsInB1c2giLCJyZXN1bHQiLCJwb3AiLCJjb25zdW1lIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/serviceScope.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/stateUtils.js":
/*!**********************************************!*\
  !*** ./node_modules/xstate/es/stateUtils.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAdjList: () => (/* binding */ getAdjList),\n/* harmony export */   getAllChildren: () => (/* binding */ getAllChildren),\n/* harmony export */   getAllStateNodes: () => (/* binding */ getAllStateNodes),\n/* harmony export */   getChildren: () => (/* binding */ getChildren),\n/* harmony export */   getConfiguration: () => (/* binding */ getConfiguration),\n/* harmony export */   getMeta: () => (/* binding */ getMeta),\n/* harmony export */   getTagsFromConfiguration: () => (/* binding */ getTagsFromConfiguration),\n/* harmony export */   getValue: () => (/* binding */ getValue),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   isInFinalState: () => (/* binding */ isInFinalState),\n/* harmony export */   isLeafNode: () => (/* binding */ isLeafNode),\n/* harmony export */   nextEvents: () => (/* binding */ nextEvents)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/xstate/es/utils.js\");\n\n\nvar isLeafNode = function(stateNode) {\n    return stateNode.type === \"atomic\" || stateNode.type === \"final\";\n};\nfunction getAllChildren(stateNode) {\n    return Object.keys(stateNode.states).map(function(key) {\n        return stateNode.states[key];\n    });\n}\nfunction getChildren(stateNode) {\n    return getAllChildren(stateNode).filter(function(sn) {\n        return sn.type !== \"history\";\n    });\n}\nfunction getAllStateNodes(stateNode) {\n    var stateNodes = [\n        stateNode\n    ];\n    if (isLeafNode(stateNode)) {\n        return stateNodes;\n    }\n    return stateNodes.concat((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(getChildren(stateNode).map(getAllStateNodes)));\n}\nfunction getConfiguration(prevStateNodes, stateNodes) {\n    var e_1, _a, e_2, _b, e_3, _c, e_4, _d;\n    var prevConfiguration = new Set(prevStateNodes);\n    var prevAdjList = getAdjList(prevConfiguration);\n    var configuration = new Set(stateNodes);\n    try {\n        // add all ancestors\n        for(var configuration_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(configuration), configuration_1_1 = configuration_1.next(); !configuration_1_1.done; configuration_1_1 = configuration_1.next()){\n            var s = configuration_1_1.value;\n            var m = s.parent;\n            while(m && !configuration.has(m)){\n                configuration.add(m);\n                m = m.parent;\n            }\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (configuration_1_1 && !configuration_1_1.done && (_a = configuration_1.return)) _a.call(configuration_1);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    var adjList = getAdjList(configuration);\n    try {\n        // add descendants\n        for(var configuration_2 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(configuration), configuration_2_1 = configuration_2.next(); !configuration_2_1.done; configuration_2_1 = configuration_2.next()){\n            var s = configuration_2_1.value; // if previously active, add existing child nodes\n            if (s.type === \"compound\" && (!adjList.get(s) || !adjList.get(s).length)) {\n                if (prevAdjList.get(s)) {\n                    prevAdjList.get(s).forEach(function(sn) {\n                        return configuration.add(sn);\n                    });\n                } else {\n                    s.initialStateNodes.forEach(function(sn) {\n                        return configuration.add(sn);\n                    });\n                }\n            } else {\n                if (s.type === \"parallel\") {\n                    try {\n                        for(var _e = (e_3 = void 0, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(getChildren(s))), _f = _e.next(); !_f.done; _f = _e.next()){\n                            var child = _f.value;\n                            if (!configuration.has(child)) {\n                                configuration.add(child);\n                                if (prevAdjList.get(child)) {\n                                    prevAdjList.get(child).forEach(function(sn) {\n                                        return configuration.add(sn);\n                                    });\n                                } else {\n                                    child.initialStateNodes.forEach(function(sn) {\n                                        return configuration.add(sn);\n                                    });\n                                }\n                            }\n                        }\n                    } catch (e_3_1) {\n                        e_3 = {\n                            error: e_3_1\n                        };\n                    } finally{\n                        try {\n                            if (_f && !_f.done && (_c = _e.return)) _c.call(_e);\n                        } finally{\n                            if (e_3) throw e_3.error;\n                        }\n                    }\n                }\n            }\n        }\n    } catch (e_2_1) {\n        e_2 = {\n            error: e_2_1\n        };\n    } finally{\n        try {\n            if (configuration_2_1 && !configuration_2_1.done && (_b = configuration_2.return)) _b.call(configuration_2);\n        } finally{\n            if (e_2) throw e_2.error;\n        }\n    }\n    try {\n        // add all ancestors\n        for(var configuration_3 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(configuration), configuration_3_1 = configuration_3.next(); !configuration_3_1.done; configuration_3_1 = configuration_3.next()){\n            var s = configuration_3_1.value;\n            var m = s.parent;\n            while(m && !configuration.has(m)){\n                configuration.add(m);\n                m = m.parent;\n            }\n        }\n    } catch (e_4_1) {\n        e_4 = {\n            error: e_4_1\n        };\n    } finally{\n        try {\n            if (configuration_3_1 && !configuration_3_1.done && (_d = configuration_3.return)) _d.call(configuration_3);\n        } finally{\n            if (e_4) throw e_4.error;\n        }\n    }\n    return configuration;\n}\nfunction getValueFromAdj(baseNode, adjList) {\n    var childStateNodes = adjList.get(baseNode);\n    if (!childStateNodes) {\n        return {}; // todo: fix?\n    }\n    if (baseNode.type === \"compound\") {\n        var childStateNode = childStateNodes[0];\n        if (childStateNode) {\n            if (isLeafNode(childStateNode)) {\n                return childStateNode.key;\n            }\n        } else {\n            return {};\n        }\n    }\n    var stateValue = {};\n    childStateNodes.forEach(function(csn) {\n        stateValue[csn.key] = getValueFromAdj(csn, adjList);\n    });\n    return stateValue;\n}\nfunction getAdjList(configuration) {\n    var e_5, _a;\n    var adjList = new Map();\n    try {\n        for(var configuration_4 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(configuration), configuration_4_1 = configuration_4.next(); !configuration_4_1.done; configuration_4_1 = configuration_4.next()){\n            var s = configuration_4_1.value;\n            if (!adjList.has(s)) {\n                adjList.set(s, []);\n            }\n            if (s.parent) {\n                if (!adjList.has(s.parent)) {\n                    adjList.set(s.parent, []);\n                }\n                adjList.get(s.parent).push(s);\n            }\n        }\n    } catch (e_5_1) {\n        e_5 = {\n            error: e_5_1\n        };\n    } finally{\n        try {\n            if (configuration_4_1 && !configuration_4_1.done && (_a = configuration_4.return)) _a.call(configuration_4);\n        } finally{\n            if (e_5) throw e_5.error;\n        }\n    }\n    return adjList;\n}\nfunction getValue(rootNode, configuration) {\n    var config = getConfiguration([\n        rootNode\n    ], configuration);\n    return getValueFromAdj(rootNode, getAdjList(config));\n}\nfunction has(iterable, item) {\n    if (Array.isArray(iterable)) {\n        return iterable.some(function(member) {\n            return member === item;\n        });\n    }\n    if (iterable instanceof Set) {\n        return iterable.has(item);\n    }\n    return false; // TODO: fix\n}\nfunction nextEvents(configuration) {\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(new Set((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(configuration.map(function(sn) {\n        return sn.ownEvents;\n    })), false)))), false);\n}\nfunction isInFinalState(configuration, stateNode) {\n    if (stateNode.type === \"compound\") {\n        return getChildren(stateNode).some(function(s) {\n            return s.type === \"final\" && has(configuration, s);\n        });\n    }\n    if (stateNode.type === \"parallel\") {\n        return getChildren(stateNode).every(function(sn) {\n            return isInFinalState(configuration, sn);\n        });\n    }\n    return false;\n}\nfunction getMeta(configuration) {\n    if (configuration === void 0) {\n        configuration = [];\n    }\n    return configuration.reduce(function(acc, stateNode) {\n        if (stateNode.meta !== undefined) {\n            acc[stateNode.id] = stateNode.meta;\n        }\n        return acc;\n    }, {});\n}\nfunction getTagsFromConfiguration(configuration) {\n    return new Set((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)(configuration.map(function(sn) {\n        return sn.tags;\n    })));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3N0YXRlVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUU7QUFDbEM7QUFFckMsSUFBSUksYUFBYSxTQUFVQyxTQUFTO0lBQ2xDLE9BQU9BLFVBQVVDLElBQUksS0FBSyxZQUFZRCxVQUFVQyxJQUFJLEtBQUs7QUFDM0Q7QUFDQSxTQUFTQyxlQUFlRixTQUFTO0lBQy9CLE9BQU9HLE9BQU9DLElBQUksQ0FBQ0osVUFBVUssTUFBTSxFQUFFQyxHQUFHLENBQUMsU0FBVUMsR0FBRztRQUNwRCxPQUFPUCxVQUFVSyxNQUFNLENBQUNFLElBQUk7SUFDOUI7QUFDRjtBQUNBLFNBQVNDLFlBQVlSLFNBQVM7SUFDNUIsT0FBT0UsZUFBZUYsV0FBV1MsTUFBTSxDQUFDLFNBQVVDLEVBQUU7UUFDbEQsT0FBT0EsR0FBR1QsSUFBSSxLQUFLO0lBQ3JCO0FBQ0Y7QUFDQSxTQUFTVSxpQkFBaUJYLFNBQVM7SUFDakMsSUFBSVksYUFBYTtRQUFDWjtLQUFVO0lBRTVCLElBQUlELFdBQVdDLFlBQVk7UUFDekIsT0FBT1k7SUFDVDtJQUVBLE9BQU9BLFdBQVdDLE1BQU0sQ0FBQ2Ysa0RBQU9BLENBQUNVLFlBQVlSLFdBQVdNLEdBQUcsQ0FBQ0s7QUFDOUQ7QUFDQSxTQUFTRyxpQkFBaUJDLGNBQWMsRUFBRUgsVUFBVTtJQUNsRCxJQUFJSSxLQUFLQyxJQUFJQyxLQUFLQyxJQUFJQyxLQUFLQyxJQUFJQyxLQUFLQztJQUVwQyxJQUFJQyxvQkFBb0IsSUFBSUMsSUFBSVY7SUFDaEMsSUFBSVcsY0FBY0MsV0FBV0g7SUFDN0IsSUFBSUksZ0JBQWdCLElBQUlILElBQUliO0lBRTVCLElBQUk7UUFDRixvQkFBb0I7UUFDcEIsSUFBSyxJQUFJaUIsa0JBQWtCbEMsMkRBQVFBLENBQUNpQyxnQkFBZ0JFLG9CQUFvQkQsZ0JBQWdCRSxJQUFJLElBQUksQ0FBQ0Qsa0JBQWtCRSxJQUFJLEVBQUVGLG9CQUFvQkQs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QyxJQUFJLEtBQUssWUFBWTtRQUNqQyxPQUFPTyxZQUFZUixXQUFXbUYsS0FBSyxDQUFDLFNBQVV6RSxFQUFFO1lBQzlDLE9BQU93RSxlQUFldEQsZUFBZWxCO1FBQ3ZDO0lBQ0Y7SUFFQSxPQUFPO0FBQ1Q7QUFDQSxTQUFTMEUsUUFBUXhELGFBQWE7SUFDNUIsSUFBSUEsa0JBQWtCLEtBQUssR0FBRztRQUM1QkEsZ0JBQWdCLEVBQUU7SUFDcEI7SUFFQSxPQUFPQSxjQUFjeUQsTUFBTSxDQUFDLFNBQVVDLEdBQUcsRUFBRXRGLFNBQVM7UUFDbEQsSUFBSUEsVUFBVXVGLElBQUksS0FBS0MsV0FBVztZQUNoQ0YsR0FBRyxDQUFDdEYsVUFBVXlGLEVBQUUsQ0FBQyxHQUFHekYsVUFBVXVGLElBQUk7UUFDcEM7UUFFQSxPQUFPRDtJQUNULEdBQUcsQ0FBQztBQUNOO0FBQ0EsU0FBU0kseUJBQXlCOUQsYUFBYTtJQUM3QyxPQUFPLElBQUlILElBQUkzQixrREFBT0EsQ0FBQzhCLGNBQWN0QixHQUFHLENBQUMsU0FBVUksRUFBRTtRQUNuRCxPQUFPQSxHQUFHaUYsSUFBSTtJQUNoQjtBQUNGO0FBRWlMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLWdyaWQtMi8uL25vZGVfbW9kdWxlcy94c3RhdGUvZXMvc3RhdGVVdGlscy5qcz8xZWFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fdmFsdWVzLCBfX3NwcmVhZEFycmF5LCBfX3JlYWQgfSBmcm9tICcuL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbnZhciBpc0xlYWZOb2RlID0gZnVuY3Rpb24gKHN0YXRlTm9kZSkge1xuICByZXR1cm4gc3RhdGVOb2RlLnR5cGUgPT09ICdhdG9taWMnIHx8IHN0YXRlTm9kZS50eXBlID09PSAnZmluYWwnO1xufTtcbmZ1bmN0aW9uIGdldEFsbENoaWxkcmVuKHN0YXRlTm9kZSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGVOb2RlLnN0YXRlcykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gc3RhdGVOb2RlLnN0YXRlc1trZXldO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldENoaWxkcmVuKHN0YXRlTm9kZSkge1xuICByZXR1cm4gZ2V0QWxsQ2hpbGRyZW4oc3RhdGVOb2RlKS5maWx0ZXIoZnVuY3Rpb24gKHNuKSB7XG4gICAgcmV0dXJuIHNuLnR5cGUgIT09ICdoaXN0b3J5JztcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRBbGxTdGF0ZU5vZGVzKHN0YXRlTm9kZSkge1xuICB2YXIgc3RhdGVOb2RlcyA9IFtzdGF0ZU5vZGVdO1xuXG4gIGlmIChpc0xlYWZOb2RlKHN0YXRlTm9kZSkpIHtcbiAgICByZXR1cm4gc3RhdGVOb2RlcztcbiAgfVxuXG4gIHJldHVybiBzdGF0ZU5vZGVzLmNvbmNhdChmbGF0dGVuKGdldENoaWxkcmVuKHN0YXRlTm9kZSkubWFwKGdldEFsbFN0YXRlTm9kZXMpKSk7XG59XG5mdW5jdGlvbiBnZXRDb25maWd1cmF0aW9uKHByZXZTdGF0ZU5vZGVzLCBzdGF0ZU5vZGVzKSB7XG4gIHZhciBlXzEsIF9hLCBlXzIsIF9iLCBlXzMsIF9jLCBlXzQsIF9kO1xuXG4gIHZhciBwcmV2Q29uZmlndXJhdGlvbiA9IG5ldyBTZXQocHJldlN0YXRlTm9kZXMpO1xuICB2YXIgcHJldkFkakxpc3QgPSBnZXRBZGpMaXN0KHByZXZDb25maWd1cmF0aW9uKTtcbiAgdmFyIGNvbmZpZ3VyYXRpb24gPSBuZXcgU2V0KHN0YXRlTm9kZXMpO1xuXG4gIHRyeSB7XG4gICAgLy8gYWRkIGFsbCBhbmNlc3RvcnNcbiAgICBmb3IgKHZhciBjb25maWd1cmF0aW9uXzEgPSBfX3ZhbHVlcyhjb25maWd1cmF0aW9uKSwgY29uZmlndXJhdGlvbl8xXzEgPSBjb25maWd1cmF0aW9uXzEubmV4dCgpOyAhY29uZmlndXJhdGlvbl8xXzEuZG9uZTsgY29uZmlndXJhdGlvbl8xXzEgPSBjb25maWd1cmF0aW9uXzEubmV4dCgpKSB7XG4gICAgICB2YXIgcyA9IGNvbmZpZ3VyYXRpb25fMV8xLnZhbHVlO1xuICAgICAgdmFyIG0gPSBzLnBhcmVudDtcblxuICAgICAgd2hpbGUgKG0gJiYgIWNvbmZpZ3VyYXRpb24uaGFzKG0pKSB7XG4gICAgICAgIGNvbmZpZ3VyYXRpb24uYWRkKG0pO1xuICAgICAgICBtID0gbS5wYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlXzFfMSkge1xuICAgIGVfMSA9IHtcbiAgICAgIGVycm9yOiBlXzFfMVxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uXzFfMSAmJiAhY29uZmlndXJhdGlvbl8xXzEuZG9uZSAmJiAoX2EgPSBjb25maWd1cmF0aW9uXzEucmV0dXJuKSkgX2EuY2FsbChjb25maWd1cmF0aW9uXzEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgdmFyIGFkakxpc3QgPSBnZXRBZGpMaXN0KGNvbmZpZ3VyYXRpb24pO1xuXG4gIHRyeSB7XG4gICAgLy8gYWRkIGRlc2NlbmRhbnRzXG4gICAgZm9yICh2YXIgY29uZmlndXJhdGlvbl8yID0gX192YWx1ZXMoY29uZmlndXJhdGlvbiksIGNvbmZpZ3VyYXRpb25fMl8xID0gY29uZmlndXJhdGlvbl8yLm5leHQoKTsgIWNvbmZpZ3VyYXRpb25fMl8xLmRvbmU7IGNvbmZpZ3VyYXRpb25fMl8xID0gY29uZmlndXJhdGlvbl8yLm5leHQoKSkge1xuICAgICAgdmFyIHMgPSBjb25maWd1cmF0aW9uXzJfMS52YWx1ZTsgLy8gaWYgcHJldmlvdXNseSBhY3RpdmUsIGFkZCBleGlzdGluZyBjaGlsZCBub2Rlc1xuXG4gICAgICBpZiAocy50eXBlID09PSAnY29tcG91bmQnICYmICghYWRqTGlzdC5nZXQocykgfHwgIWFkakxpc3QuZ2V0KHMpLmxlbmd0aCkpIHtcbiAgICAgICAgaWYgKHByZXZBZGpMaXN0LmdldChzKSkge1xuICAgICAgICAgIHByZXZBZGpMaXN0LmdldChzKS5mb3JFYWNoKGZ1bmN0aW9uIChzbikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ3VyYXRpb24uYWRkKHNuKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzLmluaXRpYWxTdGF0ZU5vZGVzLmZvckVhY2goZnVuY3Rpb24gKHNuKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uZmlndXJhdGlvbi5hZGQoc24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocy50eXBlID09PSAncGFyYWxsZWwnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9lID0gKGVfMyA9IHZvaWQgMCwgX192YWx1ZXMoZ2V0Q2hpbGRyZW4ocykpKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfZi52YWx1ZTtcblxuICAgICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaGFzKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uYWRkKGNoaWxkKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcmV2QWRqTGlzdC5nZXQoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICBwcmV2QWRqTGlzdC5nZXQoY2hpbGQpLmZvckVhY2goZnVuY3Rpb24gKHNuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWd1cmF0aW9uLmFkZChzbik7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY2hpbGQuaW5pdGlhbFN0YXRlTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoc24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ3VyYXRpb24uYWRkKHNuKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVfM18xKSB7XG4gICAgICAgICAgICBlXzMgPSB7XG4gICAgICAgICAgICAgIGVycm9yOiBlXzNfMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKF9mICYmICFfZi5kb25lICYmIChfYyA9IF9lLnJldHVybikpIF9jLmNhbGwoX2UpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZV8yXzEpIHtcbiAgICBlXzIgPSB7XG4gICAgICBlcnJvcjogZV8yXzFcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoY29uZmlndXJhdGlvbl8yXzEgJiYgIWNvbmZpZ3VyYXRpb25fMl8xLmRvbmUgJiYgKF9iID0gY29uZmlndXJhdGlvbl8yLnJldHVybikpIF9iLmNhbGwoY29uZmlndXJhdGlvbl8yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gYWRkIGFsbCBhbmNlc3RvcnNcbiAgICBmb3IgKHZhciBjb25maWd1cmF0aW9uXzMgPSBfX3ZhbHVlcyhjb25maWd1cmF0aW9uKSwgY29uZmlndXJhdGlvbl8zXzEgPSBjb25maWd1cmF0aW9uXzMubmV4dCgpOyAhY29uZmlndXJhdGlvbl8zXzEuZG9uZTsgY29uZmlndXJhdGlvbl8zXzEgPSBjb25maWd1cmF0aW9uXzMubmV4dCgpKSB7XG4gICAgICB2YXIgcyA9IGNvbmZpZ3VyYXRpb25fM18xLnZhbHVlO1xuICAgICAgdmFyIG0gPSBzLnBhcmVudDtcblxuICAgICAgd2hpbGUgKG0gJiYgIWNvbmZpZ3VyYXRpb24uaGFzKG0pKSB7XG4gICAgICAgIGNvbmZpZ3VyYXRpb24uYWRkKG0pO1xuICAgICAgICBtID0gbS5wYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlXzRfMSkge1xuICAgIGVfNCA9IHtcbiAgICAgIGVycm9yOiBlXzRfMVxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uXzNfMSAmJiAhY29uZmlndXJhdGlvbl8zXzEuZG9uZSAmJiAoX2QgPSBjb25maWd1cmF0aW9uXzMucmV0dXJuKSkgX2QuY2FsbChjb25maWd1cmF0aW9uXzMpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZ3VyYXRpb247XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlRnJvbUFkaihiYXNlTm9kZSwgYWRqTGlzdCkge1xuICB2YXIgY2hpbGRTdGF0ZU5vZGVzID0gYWRqTGlzdC5nZXQoYmFzZU5vZGUpO1xuXG4gIGlmICghY2hpbGRTdGF0ZU5vZGVzKSB7XG4gICAgcmV0dXJuIHt9OyAvLyB0b2RvOiBmaXg/XG4gIH1cblxuICBpZiAoYmFzZU5vZGUudHlwZSA9PT0gJ2NvbXBvdW5kJykge1xuICAgIHZhciBjaGlsZFN0YXRlTm9kZSA9IGNoaWxkU3RhdGVOb2Rlc1swXTtcblxuICAgIGlmIChjaGlsZFN0YXRlTm9kZSkge1xuICAgICAgaWYgKGlzTGVhZk5vZGUoY2hpbGRTdGF0ZU5vZGUpKSB7XG4gICAgICAgIHJldHVybiBjaGlsZFN0YXRlTm9kZS5rZXk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3RhdGVWYWx1ZSA9IHt9O1xuICBjaGlsZFN0YXRlTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoY3NuKSB7XG4gICAgc3RhdGVWYWx1ZVtjc24ua2V5XSA9IGdldFZhbHVlRnJvbUFkaihjc24sIGFkakxpc3QpO1xuICB9KTtcbiAgcmV0dXJuIHN0YXRlVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldEFkakxpc3QoY29uZmlndXJhdGlvbikge1xuICB2YXIgZV81LCBfYTtcblxuICB2YXIgYWRqTGlzdCA9IG5ldyBNYXAoKTtcblxuICB0cnkge1xuICAgIGZvciAodmFyIGNvbmZpZ3VyYXRpb25fNCA9IF9fdmFsdWVzKGNvbmZpZ3VyYXRpb24pLCBjb25maWd1cmF0aW9uXzRfMSA9IGNvbmZpZ3VyYXRpb25fNC5uZXh0KCk7ICFjb25maWd1cmF0aW9uXzRfMS5kb25lOyBjb25maWd1cmF0aW9uXzRfMSA9IGNvbmZpZ3VyYXRpb25fNC5uZXh0KCkpIHtcbiAgICAgIHZhciBzID0gY29uZmlndXJhdGlvbl80XzEudmFsdWU7XG5cbiAgICAgIGlmICghYWRqTGlzdC5oYXMocykpIHtcbiAgICAgICAgYWRqTGlzdC5zZXQocywgW10pO1xuICAgICAgfVxuXG4gICAgICBpZiAocy5wYXJlbnQpIHtcbiAgICAgICAgaWYgKCFhZGpMaXN0LmhhcyhzLnBhcmVudCkpIHtcbiAgICAgICAgICBhZGpMaXN0LnNldChzLnBhcmVudCwgW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRqTGlzdC5nZXQocy5wYXJlbnQpLnB1c2gocyk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlXzVfMSkge1xuICAgIGVfNSA9IHtcbiAgICAgIGVycm9yOiBlXzVfMVxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uXzRfMSAmJiAhY29uZmlndXJhdGlvbl80XzEuZG9uZSAmJiAoX2EgPSBjb25maWd1cmF0aW9uXzQucmV0dXJuKSkgX2EuY2FsbChjb25maWd1cmF0aW9uXzQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZV81KSB0aHJvdyBlXzUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFkakxpc3Q7XG59XG5mdW5jdGlvbiBnZXRWYWx1ZShyb290Tm9kZSwgY29uZmlndXJhdGlvbikge1xuICB2YXIgY29uZmlnID0gZ2V0Q29uZmlndXJhdGlvbihbcm9vdE5vZGVdLCBjb25maWd1cmF0aW9uKTtcbiAgcmV0dXJuIGdldFZhbHVlRnJvbUFkaihyb290Tm9kZSwgZ2V0QWRqTGlzdChjb25maWcpKTtcbn1cbmZ1bmN0aW9uIGhhcyhpdGVyYWJsZSwgaXRlbSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShpdGVyYWJsZSkpIHtcbiAgICByZXR1cm4gaXRlcmFibGUuc29tZShmdW5jdGlvbiAobWVtYmVyKSB7XG4gICAgICByZXR1cm4gbWVtYmVyID09PSBpdGVtO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGl0ZXJhYmxlIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgcmV0dXJuIGl0ZXJhYmxlLmhhcyhpdGVtKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTsgLy8gVE9ETzogZml4XG59XG5mdW5jdGlvbiBuZXh0RXZlbnRzKGNvbmZpZ3VyYXRpb24pIHtcbiAgcmV0dXJuIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChuZXcgU2V0KGZsYXR0ZW4oX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGNvbmZpZ3VyYXRpb24ubWFwKGZ1bmN0aW9uIChzbikge1xuICAgIHJldHVybiBzbi5vd25FdmVudHM7XG4gIH0pKSwgZmFsc2UpKSkpLCBmYWxzZSk7XG59XG5mdW5jdGlvbiBpc0luRmluYWxTdGF0ZShjb25maWd1cmF0aW9uLCBzdGF0ZU5vZGUpIHtcbiAgaWYgKHN0YXRlTm9kZS50eXBlID09PSAnY29tcG91bmQnKSB7XG4gICAgcmV0dXJuIGdldENoaWxkcmVuKHN0YXRlTm9kZSkuc29tZShmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIHMudHlwZSA9PT0gJ2ZpbmFsJyAmJiBoYXMoY29uZmlndXJhdGlvbiwgcyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoc3RhdGVOb2RlLnR5cGUgPT09ICdwYXJhbGxlbCcpIHtcbiAgICByZXR1cm4gZ2V0Q2hpbGRyZW4oc3RhdGVOb2RlKS5ldmVyeShmdW5jdGlvbiAoc24pIHtcbiAgICAgIHJldHVybiBpc0luRmluYWxTdGF0ZShjb25maWd1cmF0aW9uLCBzbik7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRNZXRhKGNvbmZpZ3VyYXRpb24pIHtcbiAgaWYgKGNvbmZpZ3VyYXRpb24gPT09IHZvaWQgMCkge1xuICAgIGNvbmZpZ3VyYXRpb24gPSBbXTtcbiAgfVxuXG4gIHJldHVybiBjb25maWd1cmF0aW9uLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBzdGF0ZU5vZGUpIHtcbiAgICBpZiAoc3RhdGVOb2RlLm1ldGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgYWNjW3N0YXRlTm9kZS5pZF0gPSBzdGF0ZU5vZGUubWV0YTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59XG5mdW5jdGlvbiBnZXRUYWdzRnJvbUNvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbikge1xuICByZXR1cm4gbmV3IFNldChmbGF0dGVuKGNvbmZpZ3VyYXRpb24ubWFwKGZ1bmN0aW9uIChzbikge1xuICAgIHJldHVybiBzbi50YWdzO1xuICB9KSkpO1xufVxuXG5leHBvcnQgeyBnZXRBZGpMaXN0LCBnZXRBbGxDaGlsZHJlbiwgZ2V0QWxsU3RhdGVOb2RlcywgZ2V0Q2hpbGRyZW4sIGdldENvbmZpZ3VyYXRpb24sIGdldE1ldGEsIGdldFRhZ3NGcm9tQ29uZmlndXJhdGlvbiwgZ2V0VmFsdWUsIGhhcywgaXNJbkZpbmFsU3RhdGUsIGlzTGVhZk5vZGUsIG5leHRFdmVudHMgfTtcbiJdLCJuYW1lcyI6WyJfX3ZhbHVlcyIsIl9fc3ByZWFkQXJyYXkiLCJfX3JlYWQiLCJmbGF0dGVuIiwiaXNMZWFmTm9kZSIsInN0YXRlTm9kZSIsInR5cGUiLCJnZXRBbGxDaGlsZHJlbiIsIk9iamVjdCIsImtleXMiLCJzdGF0ZXMiLCJtYXAiLCJrZXkiLCJnZXRDaGlsZHJlbiIsImZpbHRlciIsInNuIiwiZ2V0QWxsU3RhdGVOb2RlcyIsInN0YXRlTm9kZXMiLCJjb25jYXQiLCJnZXRDb25maWd1cmF0aW9uIiwicHJldlN0YXRlTm9kZXMiLCJlXzEiLCJfYSIsImVfMiIsIl9iIiwiZV8zIiwiX2MiLCJlXzQiLCJfZCIsInByZXZDb25maWd1cmF0aW9uIiwiU2V0IiwicHJldkFkakxpc3QiLCJnZXRBZGpMaXN0IiwiY29uZmlndXJhdGlvbiIsImNvbmZpZ3VyYXRpb25fMSIsImNvbmZpZ3VyYXRpb25fMV8xIiwibmV4dCIsImRvbmUiLCJzIiwidmFsdWUiLCJtIiwicGFyZW50IiwiaGFzIiwiYWRkIiwiZV8xXzEiLCJlcnJvciIsInJldHVybiIsImNhbGwiLCJhZGpMaXN0IiwiY29uZmlndXJhdGlvbl8yIiwiY29uZmlndXJhdGlvbl8yXzEiLCJnZXQiLCJsZW5ndGgiLCJmb3JFYWNoIiwiaW5pdGlhbFN0YXRlTm9kZXMiLCJfZSIsIl9mIiwiY2hpbGQiLCJlXzNfMSIsImVfMl8xIiwiY29uZmlndXJhdGlvbl8zIiwiY29uZmlndXJhdGlvbl8zXzEiLCJlXzRfMSIsImdldFZhbHVlRnJvbUFkaiIsImJhc2VOb2RlIiwiY2hpbGRTdGF0ZU5vZGVzIiwiY2hpbGRTdGF0ZU5vZGUiLCJzdGF0ZVZhbHVlIiwiY3NuIiwiZV81IiwiTWFwIiwiY29uZmlndXJhdGlvbl80IiwiY29uZmlndXJhdGlvbl80XzEiLCJzZXQiLCJwdXNoIiwiZV81XzEiLCJnZXRWYWx1ZSIsInJvb3ROb2RlIiwiY29uZmlnIiwiaXRlcmFibGUiLCJpdGVtIiwiQXJyYXkiLCJpc0FycmF5Iiwic29tZSIsIm1lbWJlciIsIm5leHRFdmVudHMiLCJvd25FdmVudHMiLCJpc0luRmluYWxTdGF0ZSIsImV2ZXJ5IiwiZ2V0TWV0YSIsInJlZHVjZSIsImFjYyIsIm1ldGEiLCJ1bmRlZmluZWQiLCJpZCIsImdldFRhZ3NGcm9tQ29uZmlndXJhdGlvbiIsInRhZ3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/stateUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/types.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/types.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionTypes: () => (/* binding */ ActionTypes),\n/* harmony export */   SpecialTargets: () => (/* binding */ SpecialTargets)\n/* harmony export */ });\nvar ActionTypes;\n(function(ActionTypes) {\n    ActionTypes[\"Start\"] = \"xstate.start\";\n    ActionTypes[\"Stop\"] = \"xstate.stop\";\n    ActionTypes[\"Raise\"] = \"xstate.raise\";\n    ActionTypes[\"Send\"] = \"xstate.send\";\n    ActionTypes[\"Cancel\"] = \"xstate.cancel\";\n    ActionTypes[\"NullEvent\"] = \"\";\n    ActionTypes[\"Assign\"] = \"xstate.assign\";\n    ActionTypes[\"After\"] = \"xstate.after\";\n    ActionTypes[\"DoneState\"] = \"done.state\";\n    ActionTypes[\"DoneInvoke\"] = \"done.invoke\";\n    ActionTypes[\"Log\"] = \"xstate.log\";\n    ActionTypes[\"Init\"] = \"xstate.init\";\n    ActionTypes[\"Invoke\"] = \"xstate.invoke\";\n    ActionTypes[\"ErrorExecution\"] = \"error.execution\";\n    ActionTypes[\"ErrorCommunication\"] = \"error.communication\";\n    ActionTypes[\"ErrorPlatform\"] = \"error.platform\";\n    ActionTypes[\"ErrorCustom\"] = \"xstate.error\";\n    ActionTypes[\"Update\"] = \"xstate.update\";\n    ActionTypes[\"Pure\"] = \"xstate.pure\";\n    ActionTypes[\"Choose\"] = \"xstate.choose\";\n})(ActionTypes || (ActionTypes = {}));\nvar SpecialTargets;\n(function(SpecialTargets) {\n    SpecialTargets[\"Parent\"] = \"#_parent\";\n    SpecialTargets[\"Internal\"] = \"#_internal\";\n})(SpecialTargets || (SpecialTargets = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3R5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBSUE7QUFFSCxVQUFVQSxXQUFXO0lBQ3BCQSxXQUFXLENBQUMsUUFBUSxHQUFHO0lBQ3ZCQSxXQUFXLENBQUMsT0FBTyxHQUFHO0lBQ3RCQSxXQUFXLENBQUMsUUFBUSxHQUFHO0lBQ3ZCQSxXQUFXLENBQUMsT0FBTyxHQUFHO0lBQ3RCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0lBQ3hCQSxXQUFXLENBQUMsWUFBWSxHQUFHO0lBQzNCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0lBQ3hCQSxXQUFXLENBQUMsUUFBUSxHQUFHO0lBQ3ZCQSxXQUFXLENBQUMsWUFBWSxHQUFHO0lBQzNCQSxXQUFXLENBQUMsYUFBYSxHQUFHO0lBQzVCQSxXQUFXLENBQUMsTUFBTSxHQUFHO0lBQ3JCQSxXQUFXLENBQUMsT0FBTyxHQUFHO0lBQ3RCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0lBQ3hCQSxXQUFXLENBQUMsaUJBQWlCLEdBQUc7SUFDaENBLFdBQVcsQ0FBQyxxQkFBcUIsR0FBRztJQUNwQ0EsV0FBVyxDQUFDLGdCQUFnQixHQUFHO0lBQy9CQSxXQUFXLENBQUMsY0FBYyxHQUFHO0lBQzdCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0lBQ3hCQSxXQUFXLENBQUMsT0FBTyxHQUFHO0lBQ3RCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0FBQzFCLEdBQUdBLGVBQWdCQSxDQUFBQSxjQUFjLENBQUM7QUFFbEMsSUFBSUM7QUFFSCxVQUFVQSxjQUFjO0lBQ3ZCQSxjQUFjLENBQUMsU0FBUyxHQUFHO0lBQzNCQSxjQUFjLENBQUMsV0FBVyxHQUFHO0FBQy9CLEdBQUdBLGtCQUFtQkEsQ0FBQUEsaUJBQWlCLENBQUM7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1ncmlkLTIvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3R5cGVzLmpzPzUxMDciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEFjdGlvblR5cGVzO1xuXG4oZnVuY3Rpb24gKEFjdGlvblR5cGVzKSB7XG4gIEFjdGlvblR5cGVzW1wiU3RhcnRcIl0gPSBcInhzdGF0ZS5zdGFydFwiO1xuICBBY3Rpb25UeXBlc1tcIlN0b3BcIl0gPSBcInhzdGF0ZS5zdG9wXCI7XG4gIEFjdGlvblR5cGVzW1wiUmFpc2VcIl0gPSBcInhzdGF0ZS5yYWlzZVwiO1xuICBBY3Rpb25UeXBlc1tcIlNlbmRcIl0gPSBcInhzdGF0ZS5zZW5kXCI7XG4gIEFjdGlvblR5cGVzW1wiQ2FuY2VsXCJdID0gXCJ4c3RhdGUuY2FuY2VsXCI7XG4gIEFjdGlvblR5cGVzW1wiTnVsbEV2ZW50XCJdID0gXCJcIjtcbiAgQWN0aW9uVHlwZXNbXCJBc3NpZ25cIl0gPSBcInhzdGF0ZS5hc3NpZ25cIjtcbiAgQWN0aW9uVHlwZXNbXCJBZnRlclwiXSA9IFwieHN0YXRlLmFmdGVyXCI7XG4gIEFjdGlvblR5cGVzW1wiRG9uZVN0YXRlXCJdID0gXCJkb25lLnN0YXRlXCI7XG4gIEFjdGlvblR5cGVzW1wiRG9uZUludm9rZVwiXSA9IFwiZG9uZS5pbnZva2VcIjtcbiAgQWN0aW9uVHlwZXNbXCJMb2dcIl0gPSBcInhzdGF0ZS5sb2dcIjtcbiAgQWN0aW9uVHlwZXNbXCJJbml0XCJdID0gXCJ4c3RhdGUuaW5pdFwiO1xuICBBY3Rpb25UeXBlc1tcIkludm9rZVwiXSA9IFwieHN0YXRlLmludm9rZVwiO1xuICBBY3Rpb25UeXBlc1tcIkVycm9yRXhlY3V0aW9uXCJdID0gXCJlcnJvci5leGVjdXRpb25cIjtcbiAgQWN0aW9uVHlwZXNbXCJFcnJvckNvbW11bmljYXRpb25cIl0gPSBcImVycm9yLmNvbW11bmljYXRpb25cIjtcbiAgQWN0aW9uVHlwZXNbXCJFcnJvclBsYXRmb3JtXCJdID0gXCJlcnJvci5wbGF0Zm9ybVwiO1xuICBBY3Rpb25UeXBlc1tcIkVycm9yQ3VzdG9tXCJdID0gXCJ4c3RhdGUuZXJyb3JcIjtcbiAgQWN0aW9uVHlwZXNbXCJVcGRhdGVcIl0gPSBcInhzdGF0ZS51cGRhdGVcIjtcbiAgQWN0aW9uVHlwZXNbXCJQdXJlXCJdID0gXCJ4c3RhdGUucHVyZVwiO1xuICBBY3Rpb25UeXBlc1tcIkNob29zZVwiXSA9IFwieHN0YXRlLmNob29zZVwiO1xufSkoQWN0aW9uVHlwZXMgfHwgKEFjdGlvblR5cGVzID0ge30pKTtcblxudmFyIFNwZWNpYWxUYXJnZXRzO1xuXG4oZnVuY3Rpb24gKFNwZWNpYWxUYXJnZXRzKSB7XG4gIFNwZWNpYWxUYXJnZXRzW1wiUGFyZW50XCJdID0gXCIjX3BhcmVudFwiO1xuICBTcGVjaWFsVGFyZ2V0c1tcIkludGVybmFsXCJdID0gXCIjX2ludGVybmFsXCI7XG59KShTcGVjaWFsVGFyZ2V0cyB8fCAoU3BlY2lhbFRhcmdldHMgPSB7fSkpO1xuXG5leHBvcnQgeyBBY3Rpb25UeXBlcywgU3BlY2lhbFRhcmdldHMgfTtcbiJdLCJuYW1lcyI6WyJBY3Rpb25UeXBlcyIsIlNwZWNpYWxUYXJnZXRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xstate/es/utils.js":
/*!*****************************************!*\
  !*** ./node_modules/xstate/es/utils.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInvokeId: () => (/* binding */ createInvokeId),\n/* harmony export */   evaluateGuard: () => (/* binding */ evaluateGuard),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   getActionType: () => (/* binding */ getActionType),\n/* harmony export */   getEventType: () => (/* binding */ getEventType),\n/* harmony export */   interopSymbols: () => (/* binding */ interopSymbols),\n/* harmony export */   isActor: () => (/* binding */ isActor),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isBehavior: () => (/* binding */ isBehavior),\n/* harmony export */   isBuiltInEvent: () => (/* binding */ isBuiltInEvent),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isMachine: () => (/* binding */ isMachine),\n/* harmony export */   isObservable: () => (/* binding */ isObservable),\n/* harmony export */   isPromiseLike: () => (/* binding */ isPromiseLike),\n/* harmony export */   isRaisableAction: () => (/* binding */ isRaisableAction),\n/* harmony export */   isStateLike: () => (/* binding */ isStateLike),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   mapContext: () => (/* binding */ mapContext),\n/* harmony export */   mapFilterValues: () => (/* binding */ mapFilterValues),\n/* harmony export */   mapValues: () => (/* binding */ mapValues),\n/* harmony export */   matchesState: () => (/* binding */ matchesState),\n/* harmony export */   nestedPath: () => (/* binding */ nestedPath),\n/* harmony export */   normalizeTarget: () => (/* binding */ normalizeTarget),\n/* harmony export */   partition: () => (/* binding */ partition),\n/* harmony export */   path: () => (/* binding */ path),\n/* harmony export */   pathToStateValue: () => (/* binding */ pathToStateValue),\n/* harmony export */   pathsToStateValue: () => (/* binding */ pathsToStateValue),\n/* harmony export */   reportUnhandledExceptionOnInvocation: () => (/* binding */ reportUnhandledExceptionOnInvocation),\n/* harmony export */   symbolObservable: () => (/* binding */ symbolObservable),\n/* harmony export */   toArray: () => (/* binding */ toArray),\n/* harmony export */   toArrayStrict: () => (/* binding */ toArrayStrict),\n/* harmony export */   toEventObject: () => (/* binding */ toEventObject),\n/* harmony export */   toGuard: () => (/* binding */ toGuard),\n/* harmony export */   toInvokeSource: () => (/* binding */ toInvokeSource),\n/* harmony export */   toObserver: () => (/* binding */ toObserver),\n/* harmony export */   toSCXMLEvent: () => (/* binding */ toSCXMLEvent),\n/* harmony export */   toStatePath: () => (/* binding */ toStatePath),\n/* harmony export */   toStatePaths: () => (/* binding */ toStatePaths),\n/* harmony export */   toStateValue: () => (/* binding */ toStateValue),\n/* harmony export */   toTransitionConfigArray: () => (/* binding */ toTransitionConfigArray),\n/* harmony export */   uniqueId: () => (/* binding */ uniqueId),\n/* harmony export */   updateContext: () => (/* binding */ updateContext),\n/* harmony export */   updateHistoryStates: () => (/* binding */ updateHistoryStates),\n/* harmony export */   updateHistoryValue: () => (/* binding */ updateHistoryValue),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/* harmony import */ var _virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_virtual/_tslib.js */ \"(ssr)/./node_modules/xstate/es/_virtual/_tslib.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/xstate/es/types.js\");\n/* harmony import */ var _actionTypes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actionTypes.js */ \"(ssr)/./node_modules/xstate/es/actionTypes.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/xstate/es/constants.js\");\n/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./environment.js */ \"(ssr)/./node_modules/xstate/es/environment.js\");\n\n\n\n\n\nvar _a;\nfunction keys(value) {\n    return Object.keys(value);\n}\nfunction matchesState(parentStateId, childStateId, delimiter) {\n    if (delimiter === void 0) {\n        delimiter = _constants_js__WEBPACK_IMPORTED_MODULE_0__.STATE_DELIMITER;\n    }\n    var parentStateValue = toStateValue(parentStateId, delimiter);\n    var childStateValue = toStateValue(childStateId, delimiter);\n    if (isString(childStateValue)) {\n        if (isString(parentStateValue)) {\n            return childStateValue === parentStateValue;\n        } // Parent more specific than child\n        return false;\n    }\n    if (isString(parentStateValue)) {\n        return parentStateValue in childStateValue;\n    }\n    return Object.keys(parentStateValue).every(function(key) {\n        if (!(key in childStateValue)) {\n            return false;\n        }\n        return matchesState(parentStateValue[key], childStateValue[key]);\n    });\n}\nfunction getEventType(event) {\n    try {\n        return isString(event) || typeof event === \"number\" ? \"\".concat(event) : event.type;\n    } catch (e) {\n        throw new Error(\"Events must be strings or objects with a string event.type property.\");\n    }\n}\nfunction getActionType(action) {\n    try {\n        return isString(action) || typeof action === \"number\" ? \"\".concat(action) : isFunction(action) ? action.name : action.type;\n    } catch (e) {\n        throw new Error(\"Actions must be strings or objects with a string action.type property.\");\n    }\n}\nfunction toStatePath(stateId, delimiter) {\n    try {\n        if (isArray(stateId)) {\n            return stateId;\n        }\n        return stateId.toString().split(delimiter);\n    } catch (e) {\n        throw new Error(\"'\".concat(stateId, \"' is not a valid state path.\"));\n    }\n}\nfunction isStateLike(state) {\n    return typeof state === \"object\" && \"value\" in state && \"context\" in state && \"event\" in state && \"_event\" in state;\n}\nfunction toStateValue(stateValue, delimiter) {\n    if (isStateLike(stateValue)) {\n        return stateValue.value;\n    }\n    if (isArray(stateValue)) {\n        return pathToStateValue(stateValue);\n    }\n    if (typeof stateValue !== \"string\") {\n        return stateValue;\n    }\n    var statePath = toStatePath(stateValue, delimiter);\n    return pathToStateValue(statePath);\n}\nfunction pathToStateValue(statePath) {\n    if (statePath.length === 1) {\n        return statePath[0];\n    }\n    var value = {};\n    var marker = value;\n    for(var i = 0; i < statePath.length - 1; i++){\n        if (i === statePath.length - 2) {\n            marker[statePath[i]] = statePath[i + 1];\n        } else {\n            marker[statePath[i]] = {};\n            marker = marker[statePath[i]];\n        }\n    }\n    return value;\n}\nfunction mapValues(collection, iteratee) {\n    var result = {};\n    var collectionKeys = Object.keys(collection);\n    for(var i = 0; i < collectionKeys.length; i++){\n        var key = collectionKeys[i];\n        result[key] = iteratee(collection[key], key, collection, i);\n    }\n    return result;\n}\nfunction mapFilterValues(collection, iteratee, predicate) {\n    var e_1, _a;\n    var result = {};\n    try {\n        for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()){\n            var key = _c.value;\n            var item = collection[key];\n            if (!predicate(item)) {\n                continue;\n            }\n            result[key] = iteratee(item, key, collection);\n        }\n    } catch (e_1_1) {\n        e_1 = {\n            error: e_1_1\n        };\n    } finally{\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally{\n            if (e_1) throw e_1.error;\n        }\n    }\n    return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */ var path = function(props) {\n    return function(object) {\n        var e_2, _a;\n        var result = object;\n        try {\n            for(var props_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()){\n                var prop = props_1_1.value;\n                result = result[prop];\n            }\n        } catch (e_2_1) {\n            e_2 = {\n                error: e_2_1\n            };\n        } finally{\n            try {\n                if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n            } finally{\n                if (e_2) throw e_2.error;\n            }\n        }\n        return result;\n    };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */ function nestedPath(props, accessorProp) {\n    return function(object) {\n        var e_3, _a;\n        var result = object;\n        try {\n            for(var props_2 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()){\n                var prop = props_2_1.value;\n                result = result[accessorProp][prop];\n            }\n        } catch (e_3_1) {\n            e_3 = {\n                error: e_3_1\n            };\n        } finally{\n            try {\n                if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n            } finally{\n                if (e_3) throw e_3.error;\n            }\n        }\n        return result;\n    };\n}\nfunction toStatePaths(stateValue) {\n    if (!stateValue) {\n        return [\n            []\n        ];\n    }\n    if (isString(stateValue)) {\n        return [\n            [\n                stateValue\n            ]\n        ];\n    }\n    var result = flatten(Object.keys(stateValue).map(function(key) {\n        var subStateValue = stateValue[key];\n        if (typeof subStateValue !== \"string\" && (!subStateValue || !Object.keys(subStateValue).length)) {\n            return [\n                [\n                    key\n                ]\n            ];\n        }\n        return toStatePaths(stateValue[key]).map(function(subPath) {\n            return [\n                key\n            ].concat(subPath);\n        });\n    }));\n    return result;\n}\nfunction pathsToStateValue(paths) {\n    var e_4, _a;\n    var result = {};\n    if (paths && paths.length === 1 && paths[0].length === 1) {\n        return paths[0][0];\n    }\n    try {\n        for(var paths_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()){\n            var currentPath = paths_1_1.value;\n            var marker = result; // tslint:disable-next-line:prefer-for-of\n            for(var i = 0; i < currentPath.length; i++){\n                var subPath = currentPath[i];\n                if (i === currentPath.length - 2) {\n                    marker[subPath] = currentPath[i + 1];\n                    break;\n                }\n                marker[subPath] = marker[subPath] || {};\n                marker = marker[subPath];\n            }\n        }\n    } catch (e_4_1) {\n        e_4 = {\n            error: e_4_1\n        };\n    } finally{\n        try {\n            if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n        } finally{\n            if (e_4) throw e_4.error;\n        }\n    }\n    return result;\n}\nfunction flatten(array) {\n    var _a;\n    return (_a = []).concat.apply(_a, (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)(array), false));\n}\nfunction toArrayStrict(value) {\n    if (isArray(value)) {\n        return value;\n    }\n    return [\n        value\n    ];\n}\nfunction toArray(value) {\n    if (value === undefined) {\n        return [];\n    }\n    return toArrayStrict(value);\n}\nfunction mapContext(mapper, context, _event) {\n    var e_5, _a;\n    if (isFunction(mapper)) {\n        return mapper(context, _event.data);\n    }\n    var result = {};\n    try {\n        for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()){\n            var key = _c.value;\n            var subMapper = mapper[key];\n            if (isFunction(subMapper)) {\n                result[key] = subMapper(context, _event.data);\n            } else {\n                result[key] = subMapper;\n            }\n        }\n    } catch (e_5_1) {\n        e_5 = {\n            error: e_5_1\n        };\n    } finally{\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally{\n            if (e_5) throw e_5.error;\n        }\n    }\n    return result;\n}\nfunction isBuiltInEvent(eventType) {\n    return /^(done|error)\\./.test(eventType);\n}\nfunction isPromiseLike(value) {\n    if (value instanceof Promise) {\n        return true;\n    } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n    if (value !== null && (isFunction(value) || typeof value === \"object\") && isFunction(value.then)) {\n        return true;\n    }\n    return false;\n}\nfunction isBehavior(value) {\n    return value !== null && typeof value === \"object\" && \"transition\" in value && typeof value.transition === \"function\";\n}\nfunction partition(items, predicate) {\n    var e_6, _a;\n    var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__read)([\n        [],\n        []\n    ], 2), truthy = _b[0], falsy = _b[1];\n    try {\n        for(var items_1 = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()){\n            var item = items_1_1.value;\n            if (predicate(item)) {\n                truthy.push(item);\n            } else {\n                falsy.push(item);\n            }\n        }\n    } catch (e_6_1) {\n        e_6 = {\n            error: e_6_1\n        };\n    } finally{\n        try {\n            if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n        } finally{\n            if (e_6) throw e_6.error;\n        }\n    }\n    return [\n        truthy,\n        falsy\n    ];\n}\nfunction updateHistoryStates(hist, stateValue) {\n    return mapValues(hist.states, function(subHist, key) {\n        if (!subHist) {\n            return undefined;\n        }\n        var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n        if (!subStateValue) {\n            return undefined;\n        }\n        return {\n            current: subStateValue,\n            states: updateHistoryStates(subHist, subStateValue)\n        };\n    });\n}\nfunction updateHistoryValue(hist, stateValue) {\n    return {\n        current: stateValue,\n        states: updateHistoryStates(hist, stateValue)\n    };\n}\nfunction updateContext(context, _event, assignActions, state) {\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_2__.IS_PRODUCTION) {\n        warn(!!context, \"Attempting to update undefined context\");\n    }\n    var updatedContext = context ? assignActions.reduce(function(acc, assignAction) {\n        var e_7, _a;\n        var assignment = assignAction.assignment;\n        var meta = {\n            state: state,\n            action: assignAction,\n            _event: _event\n        };\n        var partialUpdate = {};\n        if (isFunction(assignment)) {\n            partialUpdate = assignment(acc, _event.data, meta);\n        } else {\n            try {\n                for(var _b = (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__values)(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()){\n                    var key = _c.value;\n                    var propAssignment = assignment[key];\n                    partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n                }\n            } catch (e_7_1) {\n                e_7 = {\n                    error: e_7_1\n                };\n            } finally{\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                } finally{\n                    if (e_7) throw e_7.error;\n                }\n            }\n        }\n        return Object.assign({}, acc, partialUpdate);\n    }, context) : context;\n    return updatedContext;\n} // tslint:disable-next-line:no-empty\nvar warn = function() {};\nif (!_environment_js__WEBPACK_IMPORTED_MODULE_2__.IS_PRODUCTION) {\n    warn = function(condition, message) {\n        var error = condition instanceof Error ? condition : undefined;\n        if (!error && condition) {\n            return;\n        }\n        if (console !== undefined) {\n            var args = [\n                \"Warning: \".concat(message)\n            ];\n            if (error) {\n                args.push(error);\n            } // tslint:disable-next-line:no-console\n            console.warn.apply(console, args);\n        }\n    };\n}\nfunction isArray(value) {\n    return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\nfunction isFunction(value) {\n    return typeof value === \"function\";\n}\nfunction isString(value) {\n    return typeof value === \"string\";\n}\nfunction toGuard(condition, guardMap) {\n    if (!condition) {\n        return undefined;\n    }\n    if (isString(condition)) {\n        return {\n            type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_GUARD_TYPE,\n            name: condition,\n            predicate: guardMap ? guardMap[condition] : undefined\n        };\n    }\n    if (isFunction(condition)) {\n        return {\n            type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_GUARD_TYPE,\n            name: condition.name,\n            predicate: condition\n        };\n    }\n    return condition;\n}\nfunction isObservable(value) {\n    try {\n        return \"subscribe\" in value && isFunction(value.subscribe);\n    } catch (e) {\n        return false;\n    }\n}\nvar symbolObservable = /*#__PURE__*/ function() {\n    return typeof Symbol === \"function\" && Symbol.observable || \"@@observable\";\n}(); // TODO: to be removed in v5, left it out just to minimize the scope of the change and maintain compatibility with older versions of integration paackages\nvar interopSymbols = (_a = {}, _a[symbolObservable] = function() {\n    return this;\n}, _a[Symbol.observable] = function() {\n    return this;\n}, _a);\nfunction isMachine(value) {\n    return !!value && \"__xstatenode\" in value;\n}\nfunction isActor(value) {\n    return !!value && typeof value.send === \"function\";\n}\nvar uniqueId = /*#__PURE__*/ function() {\n    var currentId = 0;\n    return function() {\n        currentId++;\n        return currentId.toString(16);\n    };\n}();\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n    if (isString(event) || typeof event === \"number\") {\n        return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            type: event\n        }, payload);\n    }\n    return event;\n}\nfunction toSCXMLEvent(event, scxmlEvent) {\n    if (!isString(event) && \"$$type\" in event && event.$$type === \"scxml\") {\n        return event;\n    }\n    var eventObject = toEventObject(event);\n    return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n        name: eventObject.type,\n        data: eventObject,\n        $$type: \"scxml\",\n        type: \"external\"\n    }, scxmlEvent);\n}\nfunction toTransitionConfigArray(event, configLike) {\n    var transitions = toArrayStrict(configLike).map(function(transitionLike) {\n        if (typeof transitionLike === \"undefined\" || typeof transitionLike === \"string\" || isMachine(transitionLike)) {\n            return {\n                target: transitionLike,\n                event: event\n            };\n        }\n        return (0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,_virtual_tslib_js__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, transitionLike), {\n            event: event\n        });\n    });\n    return transitions;\n}\nfunction normalizeTarget(target) {\n    if (target === undefined || target === _constants_js__WEBPACK_IMPORTED_MODULE_0__.TARGETLESS_KEY) {\n        return undefined;\n    }\n    return toArray(target);\n}\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n    if (!_environment_js__WEBPACK_IMPORTED_MODULE_2__.IS_PRODUCTION) {\n        var originalStackTrace = originalError.stack ? \" Stacktrace was '\".concat(originalError.stack, \"'\") : \"\";\n        if (originalError === currentError) {\n            // tslint:disable-next-line:no-console\n            console.error(\"Missing onError handler for invocation '\".concat(id, \"', error was '\").concat(originalError, \"'.\").concat(originalStackTrace));\n        } else {\n            var stackTrace = currentError.stack ? \" Stacktrace was '\".concat(currentError.stack, \"'\") : \"\"; // tslint:disable-next-line:no-console\n            console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\".concat(id, \"'. \") + \"Original error: '\".concat(originalError, \"'. \").concat(originalStackTrace, \" Current error is '\").concat(currentError, \"'.\").concat(stackTrace));\n        }\n    }\n}\nfunction evaluateGuard(machine, guard, context, _event, state) {\n    var guards = machine.options.guards;\n    var guardMeta = {\n        state: state,\n        cond: guard,\n        _event: _event\n    }; // TODO: do not hardcode!\n    if (guard.type === _constants_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_GUARD_TYPE) {\n        return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);\n    }\n    var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];\n    if (!condFn) {\n        throw new Error(\"Guard '\".concat(guard.type, \"' is not implemented on machine '\").concat(machine.id, \"'.\"));\n    }\n    return condFn(context, _event.data, guardMeta);\n}\nfunction toInvokeSource(src) {\n    if (typeof src === \"string\") {\n        return {\n            type: src\n        };\n    }\n    return src;\n}\nfunction toObserver(nextHandler, errorHandler, completionHandler) {\n    var noop = function() {};\n    var isObserver = typeof nextHandler === \"object\";\n    var self = isObserver ? nextHandler : null;\n    return {\n        next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self),\n        error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self),\n        complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self)\n    };\n}\nfunction createInvokeId(stateNodeId, index) {\n    return \"\".concat(stateNodeId, \":invocation[\").concat(index, \"]\");\n}\nfunction isRaisableAction(action) {\n    return (action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_3__.raise || action.type === _actionTypes_js__WEBPACK_IMPORTED_MODULE_3__.send && action.to === _types_js__WEBPACK_IMPORTED_MODULE_4__.SpecialTargets.Internal) && typeof action.delay !== \"number\";\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHN0YXRlL2VzL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRjtBQUNyQztBQUNHO0FBQ3NDO0FBQ3BDO0FBRWpELElBQUlXO0FBQ0osU0FBU0MsS0FBS0MsS0FBSztJQUNqQixPQUFPQyxPQUFPRixJQUFJLENBQUNDO0FBQ3JCO0FBQ0EsU0FBU0UsYUFBYUMsYUFBYSxFQUFFQyxZQUFZLEVBQUVDLFNBQVM7SUFDMUQsSUFBSUEsY0FBYyxLQUFLLEdBQUc7UUFDeEJBLFlBQVlULDBEQUFlQTtJQUM3QjtJQUVBLElBQUlVLG1CQUFtQkMsYUFBYUosZUFBZUU7SUFDbkQsSUFBSUcsa0JBQWtCRCxhQUFhSCxjQUFjQztJQUVqRCxJQUFJSSxTQUFTRCxrQkFBa0I7UUFDN0IsSUFBSUMsU0FBU0gsbUJBQW1CO1lBQzlCLE9BQU9FLG9CQUFvQkY7UUFDN0IsRUFBRSxrQ0FBa0M7UUFHcEMsT0FBTztJQUNUO0lBRUEsSUFBSUcsU0FBU0gsbUJBQW1CO1FBQzlCLE9BQU9BLG9CQUFvQkU7SUFDN0I7SUFFQSxPQUFPUCxPQUFPRixJQUFJLENBQUNPLGtCQUFrQkksS0FBSyxDQUFDLFNBQVVDLEdBQUc7UUFDdEQsSUFBSSxDQUFFQSxDQUFBQSxPQUFPSCxlQUFjLEdBQUk7WUFDN0IsT0FBTztRQUNUO1FBRUEsT0FBT04sYUFBYUksZ0JBQWdCLENBQUNLLElBQUksRUFBRUgsZUFBZSxDQUFDRyxJQUFJO0lBQ2pFO0FBQ0Y7QUFDQSxTQUFTQyxhQUFhQyxLQUFLO0lBQ3pCLElBQUk7UUFDRixPQUFPSixTQUFTSSxVQUFVLE9BQU9BLFVBQVUsV0FBVyxHQUFHQyxNQUFNLENBQUNELFNBQVNBLE1BQU1FLElBQUk7SUFDckYsRUFBRSxPQUFPQyxHQUFHO1FBQ1YsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0FBQ0Y7QUFDQSxTQUFTQyxjQUFjQyxNQUFN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QUFXQyxXQUFXLEVBQUVDLFlBQVksRUFBRUMsaUJBQWlCO0lBQzlELElBQUlDLE9BQU8sWUFBYTtJQUV4QixJQUFJQyxhQUFhLE9BQU9KLGdCQUFnQjtJQUN4QyxJQUFJSyxPQUFPRCxhQUFhSixjQUFjO0lBQ3RDLE9BQU87UUFDTGxJLE1BQU0sQ0FBQyxDQUFDc0ksYUFBYUosWUFBWWxJLElBQUksR0FBR2tJLFdBQVUsS0FBTUcsSUFBRyxFQUFHRyxJQUFJLENBQUNEO1FBQ25FbkksT0FBTyxDQUFDLENBQUNrSSxhQUFhSixZQUFZOUgsS0FBSyxHQUFHK0gsWUFBVyxLQUFNRSxJQUFHLEVBQUdHLElBQUksQ0FBQ0Q7UUFDdEVFLFVBQVUsQ0FBQyxDQUFDSCxhQUFhSixZQUFZTyxRQUFRLEdBQUdMLGlCQUFnQixLQUFNQyxJQUFHLEVBQUdHLElBQUksQ0FBQ0Q7SUFDbkY7QUFDRjtBQUNBLFNBQVNHLGVBQWVDLFdBQVcsRUFBRUMsS0FBSztJQUN4QyxPQUFPLEdBQUczSyxNQUFNLENBQUMwSyxhQUFhLGdCQUFnQjFLLE1BQU0sQ0FBQzJLLE9BQU87QUFDOUQ7QUFDQSxTQUFTQyxpQkFBaUJ2SyxNQUFNO0lBQzlCLE9BQU8sQ0FBQ0EsT0FBT0osSUFBSSxLQUFLdkIsa0RBQUtBLElBQUkyQixPQUFPSixJQUFJLEtBQUt0QixpREFBSUEsSUFBSTBCLE9BQU93SyxFQUFFLEtBQUtwTSxxREFBY0EsQ0FBQ3FNLFFBQVEsS0FBSyxPQUFPekssT0FBTzBLLEtBQUssS0FBSztBQUM3SDtBQUVxcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aGUtZ3JpZC0yLy4vbm9kZV9tb2R1bGVzL3hzdGF0ZS9lcy91dGlscy5qcz84MGI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fdmFsdWVzLCBfX3NwcmVhZEFycmF5LCBfX3JlYWQsIF9fYXNzaWduIH0gZnJvbSAnLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgU3BlY2lhbFRhcmdldHMgfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IHJhaXNlLCBzZW5kIH0gZnJvbSAnLi9hY3Rpb25UeXBlcy5qcyc7XG5pbXBvcnQgeyBERUZBVUxUX0dVQVJEX1RZUEUsIFRBUkdFVExFU1NfS0VZLCBTVEFURV9ERUxJTUlURVIgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBJU19QUk9EVUNUSU9OIH0gZnJvbSAnLi9lbnZpcm9ubWVudC5qcyc7XG5cbnZhciBfYTtcbmZ1bmN0aW9uIGtleXModmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIG1hdGNoZXNTdGF0ZShwYXJlbnRTdGF0ZUlkLCBjaGlsZFN0YXRlSWQsIGRlbGltaXRlcikge1xuICBpZiAoZGVsaW1pdGVyID09PSB2b2lkIDApIHtcbiAgICBkZWxpbWl0ZXIgPSBTVEFURV9ERUxJTUlURVI7XG4gIH1cblxuICB2YXIgcGFyZW50U3RhdGVWYWx1ZSA9IHRvU3RhdGVWYWx1ZShwYXJlbnRTdGF0ZUlkLCBkZWxpbWl0ZXIpO1xuICB2YXIgY2hpbGRTdGF0ZVZhbHVlID0gdG9TdGF0ZVZhbHVlKGNoaWxkU3RhdGVJZCwgZGVsaW1pdGVyKTtcblxuICBpZiAoaXNTdHJpbmcoY2hpbGRTdGF0ZVZhbHVlKSkge1xuICAgIGlmIChpc1N0cmluZyhwYXJlbnRTdGF0ZVZhbHVlKSkge1xuICAgICAgcmV0dXJuIGNoaWxkU3RhdGVWYWx1ZSA9PT0gcGFyZW50U3RhdGVWYWx1ZTtcbiAgICB9IC8vIFBhcmVudCBtb3JlIHNwZWNpZmljIHRoYW4gY2hpbGRcblxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKHBhcmVudFN0YXRlVmFsdWUpKSB7XG4gICAgcmV0dXJuIHBhcmVudFN0YXRlVmFsdWUgaW4gY2hpbGRTdGF0ZVZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKHBhcmVudFN0YXRlVmFsdWUpLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIShrZXkgaW4gY2hpbGRTdGF0ZVZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaGVzU3RhdGUocGFyZW50U3RhdGVWYWx1ZVtrZXldLCBjaGlsZFN0YXRlVmFsdWVba2V5XSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0RXZlbnRUeXBlKGV2ZW50KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKGV2ZW50KSB8fCB0eXBlb2YgZXZlbnQgPT09ICdudW1iZXInID8gXCJcIi5jb25jYXQoZXZlbnQpIDogZXZlbnQudHlwZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRXZlbnRzIG11c3QgYmUgc3RyaW5ncyBvciBvYmplY3RzIHdpdGggYSBzdHJpbmcgZXZlbnQudHlwZSBwcm9wZXJ0eS4nKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0QWN0aW9uVHlwZShhY3Rpb24pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXNTdHJpbmcoYWN0aW9uKSB8fCB0eXBlb2YgYWN0aW9uID09PSAnbnVtYmVyJyA/IFwiXCIuY29uY2F0KGFjdGlvbikgOiBpc0Z1bmN0aW9uKGFjdGlvbikgPyBhY3Rpb24ubmFtZSA6IGFjdGlvbi50eXBlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgc3RyaW5ncyBvciBvYmplY3RzIHdpdGggYSBzdHJpbmcgYWN0aW9uLnR5cGUgcHJvcGVydHkuJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRvU3RhdGVQYXRoKHN0YXRlSWQsIGRlbGltaXRlcikge1xuICB0cnkge1xuICAgIGlmIChpc0FycmF5KHN0YXRlSWQpKSB7XG4gICAgICByZXR1cm4gc3RhdGVJZDtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdGVJZC50b1N0cmluZygpLnNwbGl0KGRlbGltaXRlcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCInXCIuY29uY2F0KHN0YXRlSWQsIFwiJyBpcyBub3QgYSB2YWxpZCBzdGF0ZSBwYXRoLlwiKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU3RhdGVMaWtlKHN0YXRlKSB7XG4gIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09ICdvYmplY3QnICYmICd2YWx1ZScgaW4gc3RhdGUgJiYgJ2NvbnRleHQnIGluIHN0YXRlICYmICdldmVudCcgaW4gc3RhdGUgJiYgJ19ldmVudCcgaW4gc3RhdGU7XG59XG5mdW5jdGlvbiB0b1N0YXRlVmFsdWUoc3RhdGVWYWx1ZSwgZGVsaW1pdGVyKSB7XG4gIGlmIChpc1N0YXRlTGlrZShzdGF0ZVZhbHVlKSkge1xuICAgIHJldHVybiBzdGF0ZVZhbHVlLnZhbHVlO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkoc3RhdGVWYWx1ZSkpIHtcbiAgICByZXR1cm4gcGF0aFRvU3RhdGVWYWx1ZShzdGF0ZVZhbHVlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc3RhdGVWYWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RhdGVWYWx1ZTtcbiAgfVxuXG4gIHZhciBzdGF0ZVBhdGggPSB0b1N0YXRlUGF0aChzdGF0ZVZhbHVlLCBkZWxpbWl0ZXIpO1xuICByZXR1cm4gcGF0aFRvU3RhdGVWYWx1ZShzdGF0ZVBhdGgpO1xufVxuZnVuY3Rpb24gcGF0aFRvU3RhdGVWYWx1ZShzdGF0ZVBhdGgpIHtcbiAgaWYgKHN0YXRlUGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gc3RhdGVQYXRoWzBdO1xuICB9XG5cbiAgdmFyIHZhbHVlID0ge307XG4gIHZhciBtYXJrZXIgPSB2YWx1ZTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlUGF0aC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBpZiAoaSA9PT0gc3RhdGVQYXRoLmxlbmd0aCAtIDIpIHtcbiAgICAgIG1hcmtlcltzdGF0ZVBhdGhbaV1dID0gc3RhdGVQYXRoW2kgKyAxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFya2VyW3N0YXRlUGF0aFtpXV0gPSB7fTtcbiAgICAgIG1hcmtlciA9IG1hcmtlcltzdGF0ZVBhdGhbaV1dO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG1hcFZhbHVlcyhjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIHZhciBjb2xsZWN0aW9uS2V5cyA9IE9iamVjdC5rZXlzKGNvbGxlY3Rpb24pO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29sbGVjdGlvbktleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gY29sbGVjdGlvbktleXNbaV07XG4gICAgcmVzdWx0W2tleV0gPSBpdGVyYXRlZShjb2xsZWN0aW9uW2tleV0sIGtleSwgY29sbGVjdGlvbiwgaSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbWFwRmlsdGVyVmFsdWVzKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBwcmVkaWNhdGUpIHtcbiAgdmFyIGVfMSwgX2E7XG5cbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyhjb2xsZWN0aW9uKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgIHZhciBrZXkgPSBfYy52YWx1ZTtcbiAgICAgIHZhciBpdGVtID0gY29sbGVjdGlvbltrZXldO1xuXG4gICAgICBpZiAoIXByZWRpY2F0ZShpdGVtKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0W2tleV0gPSBpdGVyYXRlZShpdGVtLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgIH1cbiAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICBlXzEgPSB7XG4gICAgICBlcnJvcjogZV8xXzFcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXHJcbiAqIFJldHJpZXZlcyBhIHZhbHVlIGF0IHRoZSBnaXZlbiBwYXRoLlxyXG4gKiBAcGFyYW0gcHJvcHMgVGhlIGRlZXAgcGF0aCB0byB0aGUgcHJvcCBvZiB0aGUgZGVzaXJlZCB2YWx1ZVxyXG4gKi9cblxudmFyIHBhdGggPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIgZV8yLCBfYTtcblxuICAgIHZhciByZXN1bHQgPSBvYmplY3Q7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgcHJvcHNfMSA9IF9fdmFsdWVzKHByb3BzKSwgcHJvcHNfMV8xID0gcHJvcHNfMS5uZXh0KCk7ICFwcm9wc18xXzEuZG9uZTsgcHJvcHNfMV8xID0gcHJvcHNfMS5uZXh0KCkpIHtcbiAgICAgICAgdmFyIHByb3AgPSBwcm9wc18xXzEudmFsdWU7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdFtwcm9wXTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzJfMSkge1xuICAgICAgZV8yID0ge1xuICAgICAgICBlcnJvcjogZV8yXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChwcm9wc18xXzEgJiYgIXByb3BzXzFfMS5kb25lICYmIChfYSA9IHByb3BzXzEucmV0dXJuKSkgX2EuY2FsbChwcm9wc18xKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufTtcbi8qKlxyXG4gKiBSZXRyaWV2ZXMgYSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcGF0aCB2aWEgdGhlIG5lc3RlZCBhY2Nlc3NvciBwcm9wLlxyXG4gKiBAcGFyYW0gcHJvcHMgVGhlIGRlZXAgcGF0aCB0byB0aGUgcHJvcCBvZiB0aGUgZGVzaXJlZCB2YWx1ZVxyXG4gKi9cblxuZnVuY3Rpb24gbmVzdGVkUGF0aChwcm9wcywgYWNjZXNzb3JQcm9wKSB7XG4gIHJldHVybiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGVfMywgX2E7XG5cbiAgICB2YXIgcmVzdWx0ID0gb2JqZWN0O1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIHByb3BzXzIgPSBfX3ZhbHVlcyhwcm9wcyksIHByb3BzXzJfMSA9IHByb3BzXzIubmV4dCgpOyAhcHJvcHNfMl8xLmRvbmU7IHByb3BzXzJfMSA9IHByb3BzXzIubmV4dCgpKSB7XG4gICAgICAgIHZhciBwcm9wID0gcHJvcHNfMl8xLnZhbHVlO1xuICAgICAgICByZXN1bHQgPSByZXN1bHRbYWNjZXNzb3JQcm9wXVtwcm9wXTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzNfMSkge1xuICAgICAgZV8zID0ge1xuICAgICAgICBlcnJvcjogZV8zXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChwcm9wc18yXzEgJiYgIXByb3BzXzJfMS5kb25lICYmIChfYSA9IHByb3BzXzIucmV0dXJuKSkgX2EuY2FsbChwcm9wc18yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuZnVuY3Rpb24gdG9TdGF0ZVBhdGhzKHN0YXRlVmFsdWUpIHtcbiAgaWYgKCFzdGF0ZVZhbHVlKSB7XG4gICAgcmV0dXJuIFtbXV07XG4gIH1cblxuICBpZiAoaXNTdHJpbmcoc3RhdGVWYWx1ZSkpIHtcbiAgICByZXR1cm4gW1tzdGF0ZVZhbHVlXV07XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gZmxhdHRlbihPYmplY3Qua2V5cyhzdGF0ZVZhbHVlKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBzdWJTdGF0ZVZhbHVlID0gc3RhdGVWYWx1ZVtrZXldO1xuXG4gICAgaWYgKHR5cGVvZiBzdWJTdGF0ZVZhbHVlICE9PSAnc3RyaW5nJyAmJiAoIXN1YlN0YXRlVmFsdWUgfHwgIU9iamVjdC5rZXlzKHN1YlN0YXRlVmFsdWUpLmxlbmd0aCkpIHtcbiAgICAgIHJldHVybiBbW2tleV1dO1xuICAgIH1cblxuICAgIHJldHVybiB0b1N0YXRlUGF0aHMoc3RhdGVWYWx1ZVtrZXldKS5tYXAoZnVuY3Rpb24gKHN1YlBhdGgpIHtcbiAgICAgIHJldHVybiBba2V5XS5jb25jYXQoc3ViUGF0aCk7XG4gICAgfSk7XG4gIH0pKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHBhdGhzVG9TdGF0ZVZhbHVlKHBhdGhzKSB7XG4gIHZhciBlXzQsIF9hO1xuXG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBpZiAocGF0aHMgJiYgcGF0aHMubGVuZ3RoID09PSAxICYmIHBhdGhzWzBdLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBwYXRoc1swXVswXTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgcGF0aHNfMSA9IF9fdmFsdWVzKHBhdGhzKSwgcGF0aHNfMV8xID0gcGF0aHNfMS5uZXh0KCk7ICFwYXRoc18xXzEuZG9uZTsgcGF0aHNfMV8xID0gcGF0aHNfMS5uZXh0KCkpIHtcbiAgICAgIHZhciBjdXJyZW50UGF0aCA9IHBhdGhzXzFfMS52YWx1ZTtcbiAgICAgIHZhciBtYXJrZXIgPSByZXN1bHQ7IC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItZm9yLW9mXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudFBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN1YlBhdGggPSBjdXJyZW50UGF0aFtpXTtcblxuICAgICAgICBpZiAoaSA9PT0gY3VycmVudFBhdGgubGVuZ3RoIC0gMikge1xuICAgICAgICAgIG1hcmtlcltzdWJQYXRoXSA9IGN1cnJlbnRQYXRoW2kgKyAxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcmtlcltzdWJQYXRoXSA9IG1hcmtlcltzdWJQYXRoXSB8fCB7fTtcbiAgICAgICAgbWFya2VyID0gbWFya2VyW3N1YlBhdGhdO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZV80XzEpIHtcbiAgICBlXzQgPSB7XG4gICAgICBlcnJvcjogZV80XzFcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAocGF0aHNfMV8xICYmICFwYXRoc18xXzEuZG9uZSAmJiAoX2EgPSBwYXRoc18xLnJldHVybikpIF9hLmNhbGwocGF0aHNfMSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICB2YXIgX2E7XG5cbiAgcmV0dXJuIChfYSA9IFtdKS5jb25jYXQuYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcnJheSksIGZhbHNlKSk7XG59XG5mdW5jdGlvbiB0b0FycmF5U3RyaWN0KHZhbHVlKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBbdmFsdWVdO1xufVxuZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiB0b0FycmF5U3RyaWN0KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIG1hcENvbnRleHQobWFwcGVyLCBjb250ZXh0LCBfZXZlbnQpIHtcbiAgdmFyIGVfNSwgX2E7XG5cbiAgaWYgKGlzRnVuY3Rpb24obWFwcGVyKSkge1xuICAgIHJldHVybiBtYXBwZXIoY29udGV4dCwgX2V2ZW50LmRhdGEpO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyhtYXBwZXIpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgdmFyIGtleSA9IF9jLnZhbHVlO1xuICAgICAgdmFyIHN1Yk1hcHBlciA9IG1hcHBlcltrZXldO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihzdWJNYXBwZXIpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gc3ViTWFwcGVyKGNvbnRleHQsIF9ldmVudC5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gc3ViTWFwcGVyO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZV81XzEpIHtcbiAgICBlXzUgPSB7XG4gICAgICBlcnJvcjogZV81XzFcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlXzUpIHRocm93IGVfNS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaXNCdWlsdEluRXZlbnQoZXZlbnRUeXBlKSB7XG4gIHJldHVybiAvXihkb25lfGVycm9yKVxcLi8udGVzdChldmVudFR5cGUpO1xufVxuZnVuY3Rpb24gaXNQcm9taXNlTGlrZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gQ2hlY2sgaWYgc2hhcGUgbWF0Y2hlcyB0aGUgUHJvbWlzZS9BKyBzcGVjaWZpY2F0aW9uIGZvciBhIFwidGhlbmFibGVcIi5cblxuXG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgJiYgaXNGdW5jdGlvbih2YWx1ZS50aGVuKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNCZWhhdmlvcih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAndHJhbnNpdGlvbicgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRyYW5zaXRpb24gPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBwYXJ0aXRpb24oaXRlbXMsIHByZWRpY2F0ZSkge1xuICB2YXIgZV82LCBfYTtcblxuICB2YXIgX2IgPSBfX3JlYWQoW1tdLCBbXV0sIDIpLFxuICAgICAgdHJ1dGh5ID0gX2JbMF0sXG4gICAgICBmYWxzeSA9IF9iWzFdO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgaXRlbXNfMSA9IF9fdmFsdWVzKGl0ZW1zKSwgaXRlbXNfMV8xID0gaXRlbXNfMS5uZXh0KCk7ICFpdGVtc18xXzEuZG9uZTsgaXRlbXNfMV8xID0gaXRlbXNfMS5uZXh0KCkpIHtcbiAgICAgIHZhciBpdGVtID0gaXRlbXNfMV8xLnZhbHVlO1xuXG4gICAgICBpZiAocHJlZGljYXRlKGl0ZW0pKSB7XG4gICAgICAgIHRydXRoeS5wdXNoKGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmFsc3kucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVfNl8xKSB7XG4gICAgZV82ID0ge1xuICAgICAgZXJyb3I6IGVfNl8xXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGl0ZW1zXzFfMSAmJiAhaXRlbXNfMV8xLmRvbmUgJiYgKF9hID0gaXRlbXNfMS5yZXR1cm4pKSBfYS5jYWxsKGl0ZW1zXzEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZV82KSB0aHJvdyBlXzYuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFt0cnV0aHksIGZhbHN5XTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUhpc3RvcnlTdGF0ZXMoaGlzdCwgc3RhdGVWYWx1ZSkge1xuICByZXR1cm4gbWFwVmFsdWVzKGhpc3Quc3RhdGVzLCBmdW5jdGlvbiAoc3ViSGlzdCwga2V5KSB7XG4gICAgaWYgKCFzdWJIaXN0KSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciBzdWJTdGF0ZVZhbHVlID0gKGlzU3RyaW5nKHN0YXRlVmFsdWUpID8gdW5kZWZpbmVkIDogc3RhdGVWYWx1ZVtrZXldKSB8fCAoc3ViSGlzdCA/IHN1Ykhpc3QuY3VycmVudCA6IHVuZGVmaW5lZCk7XG5cbiAgICBpZiAoIXN1YlN0YXRlVmFsdWUpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnQ6IHN1YlN0YXRlVmFsdWUsXG4gICAgICBzdGF0ZXM6IHVwZGF0ZUhpc3RvcnlTdGF0ZXMoc3ViSGlzdCwgc3ViU3RhdGVWYWx1ZSlcbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUhpc3RvcnlWYWx1ZShoaXN0LCBzdGF0ZVZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgY3VycmVudDogc3RhdGVWYWx1ZSxcbiAgICBzdGF0ZXM6IHVwZGF0ZUhpc3RvcnlTdGF0ZXMoaGlzdCwgc3RhdGVWYWx1ZSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbnRleHQoY29udGV4dCwgX2V2ZW50LCBhc3NpZ25BY3Rpb25zLCBzdGF0ZSkge1xuICBpZiAoIUlTX1BST0RVQ1RJT04pIHtcbiAgICB3YXJuKCEhY29udGV4dCwgJ0F0dGVtcHRpbmcgdG8gdXBkYXRlIHVuZGVmaW5lZCBjb250ZXh0Jyk7XG4gIH1cblxuICB2YXIgdXBkYXRlZENvbnRleHQgPSBjb250ZXh0ID8gYXNzaWduQWN0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgYXNzaWduQWN0aW9uKSB7XG4gICAgdmFyIGVfNywgX2E7XG5cbiAgICB2YXIgYXNzaWdubWVudCA9IGFzc2lnbkFjdGlvbi5hc3NpZ25tZW50O1xuICAgIHZhciBtZXRhID0ge1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgYWN0aW9uOiBhc3NpZ25BY3Rpb24sXG4gICAgICBfZXZlbnQ6IF9ldmVudFxuICAgIH07XG4gICAgdmFyIHBhcnRpYWxVcGRhdGUgPSB7fTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGFzc2lnbm1lbnQpKSB7XG4gICAgICBwYXJ0aWFsVXBkYXRlID0gYXNzaWdubWVudChhY2MsIF9ldmVudC5kYXRhLCBtZXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyhhc3NpZ25tZW50KSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICB2YXIga2V5ID0gX2MudmFsdWU7XG4gICAgICAgICAgdmFyIHByb3BBc3NpZ25tZW50ID0gYXNzaWdubWVudFtrZXldO1xuICAgICAgICAgIHBhcnRpYWxVcGRhdGVba2V5XSA9IGlzRnVuY3Rpb24ocHJvcEFzc2lnbm1lbnQpID8gcHJvcEFzc2lnbm1lbnQoYWNjLCBfZXZlbnQuZGF0YSwgbWV0YSkgOiBwcm9wQXNzaWdubWVudDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZV83XzEpIHtcbiAgICAgICAgZV83ID0ge1xuICAgICAgICAgIGVycm9yOiBlXzdfMVxuICAgICAgICB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKGVfNykgdGhyb3cgZV83LmVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFjYywgcGFydGlhbFVwZGF0ZSk7XG4gIH0sIGNvbnRleHQpIDogY29udGV4dDtcbiAgcmV0dXJuIHVwZGF0ZWRDb250ZXh0O1xufSAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHlcblxudmFyIHdhcm4gPSBmdW5jdGlvbiAoKSB7fTtcblxuaWYgKCFJU19QUk9EVUNUSU9OKSB7XG4gIHdhcm4gPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgdmFyIGVycm9yID0gY29uZGl0aW9uIGluc3RhbmNlb2YgRXJyb3IgPyBjb25kaXRpb24gOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIWVycm9yICYmIGNvbmRpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjb25zb2xlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBhcmdzID0gW1wiV2FybmluZzogXCIuY29uY2F0KG1lc3NhZ2UpXTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGFyZ3MucHVzaChlcnJvcik7XG4gICAgICB9IC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG5cblxuICAgICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufSAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6YmFuLXR5cGVzXG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xufVxuZnVuY3Rpb24gdG9HdWFyZChjb25kaXRpb24sIGd1YXJkTWFwKSB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmIChpc1N0cmluZyhjb25kaXRpb24pKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IERFRkFVTFRfR1VBUkRfVFlQRSxcbiAgICAgIG5hbWU6IGNvbmRpdGlvbixcbiAgICAgIHByZWRpY2F0ZTogZ3VhcmRNYXAgPyBndWFyZE1hcFtjb25kaXRpb25dIDogdW5kZWZpbmVkXG4gICAgfTtcbiAgfVxuXG4gIGlmIChpc0Z1bmN0aW9uKGNvbmRpdGlvbikpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogREVGQVVMVF9HVUFSRF9UWVBFLFxuICAgICAgbmFtZTogY29uZGl0aW9uLm5hbWUsXG4gICAgICBwcmVkaWNhdGU6IGNvbmRpdGlvblxuICAgIH07XG4gIH1cblxuICByZXR1cm4gY29uZGl0aW9uO1xufVxuZnVuY3Rpb24gaXNPYnNlcnZhYmxlKHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICdzdWJzY3JpYmUnIGluIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUuc3Vic2NyaWJlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxudmFyIHN5bWJvbE9ic2VydmFibGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJztcbn0oKTsgLy8gVE9ETzogdG8gYmUgcmVtb3ZlZCBpbiB2NSwgbGVmdCBpdCBvdXQganVzdCB0byBtaW5pbWl6ZSB0aGUgc2NvcGUgb2YgdGhlIGNoYW5nZSBhbmQgbWFpbnRhaW4gY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIGludGVncmF0aW9uIHBhYWNrYWdlc1xuXG52YXIgaW50ZXJvcFN5bWJvbHMgPSAoX2EgPSB7fSwgX2Fbc3ltYm9sT2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufSwgX2FbU3ltYm9sLm9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn0sIF9hKTtcbmZ1bmN0aW9uIGlzTWFjaGluZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiAnX194c3RhdGVub2RlJyBpbiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGlzQWN0b3IodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnNlbmQgPT09ICdmdW5jdGlvbic7XG59XG52YXIgdW5pcXVlSWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgY3VycmVudElkID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjdXJyZW50SWQrKztcbiAgICByZXR1cm4gY3VycmVudElkLnRvU3RyaW5nKDE2KTtcbiAgfTtcbn0oKTtcbmZ1bmN0aW9uIHRvRXZlbnRPYmplY3QoZXZlbnQsIHBheWxvYWQgLy8gaWQ/OiBURXZlbnRbJ3R5cGUnXVxuKSB7XG4gIGlmIChpc1N0cmluZyhldmVudCkgfHwgdHlwZW9mIGV2ZW50ID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBfX2Fzc2lnbih7XG4gICAgICB0eXBlOiBldmVudFxuICAgIH0sIHBheWxvYWQpO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50O1xufVxuZnVuY3Rpb24gdG9TQ1hNTEV2ZW50KGV2ZW50LCBzY3htbEV2ZW50KSB7XG4gIGlmICghaXNTdHJpbmcoZXZlbnQpICYmICckJHR5cGUnIGluIGV2ZW50ICYmIGV2ZW50LiQkdHlwZSA9PT0gJ3NjeG1sJykge1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuXG4gIHZhciBldmVudE9iamVjdCA9IHRvRXZlbnRPYmplY3QoZXZlbnQpO1xuICByZXR1cm4gX19hc3NpZ24oe1xuICAgIG5hbWU6IGV2ZW50T2JqZWN0LnR5cGUsXG4gICAgZGF0YTogZXZlbnRPYmplY3QsXG4gICAgJCR0eXBlOiAnc2N4bWwnLFxuICAgIHR5cGU6ICdleHRlcm5hbCdcbiAgfSwgc2N4bWxFdmVudCk7XG59XG5mdW5jdGlvbiB0b1RyYW5zaXRpb25Db25maWdBcnJheShldmVudCwgY29uZmlnTGlrZSkge1xuICB2YXIgdHJhbnNpdGlvbnMgPSB0b0FycmF5U3RyaWN0KGNvbmZpZ0xpa2UpLm1hcChmdW5jdGlvbiAodHJhbnNpdGlvbkxpa2UpIHtcbiAgICBpZiAodHlwZW9mIHRyYW5zaXRpb25MaWtlID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgdHJhbnNpdGlvbkxpa2UgPT09ICdzdHJpbmcnIHx8IGlzTWFjaGluZSh0cmFuc2l0aW9uTGlrZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldDogdHJhbnNpdGlvbkxpa2UsXG4gICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHRyYW5zaXRpb25MaWtlKSwge1xuICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdHJhbnNpdGlvbnM7XG59XG5mdW5jdGlvbiBub3JtYWxpemVUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IFRBUkdFVExFU1NfS0VZKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiB0b0FycmF5KHRhcmdldCk7XG59XG5mdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFeGNlcHRpb25Pbkludm9jYXRpb24ob3JpZ2luYWxFcnJvciwgY3VycmVudEVycm9yLCBpZCkge1xuICBpZiAoIUlTX1BST0RVQ1RJT04pIHtcbiAgICB2YXIgb3JpZ2luYWxTdGFja1RyYWNlID0gb3JpZ2luYWxFcnJvci5zdGFjayA/IFwiIFN0YWNrdHJhY2Ugd2FzICdcIi5jb25jYXQob3JpZ2luYWxFcnJvci5zdGFjaywgXCInXCIpIDogJyc7XG5cbiAgICBpZiAob3JpZ2luYWxFcnJvciA9PT0gY3VycmVudEVycm9yKSB7XG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgY29uc29sZS5lcnJvcihcIk1pc3Npbmcgb25FcnJvciBoYW5kbGVyIGZvciBpbnZvY2F0aW9uICdcIi5jb25jYXQoaWQsIFwiJywgZXJyb3Igd2FzICdcIikuY29uY2F0KG9yaWdpbmFsRXJyb3IsIFwiJy5cIikuY29uY2F0KG9yaWdpbmFsU3RhY2tUcmFjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3RhY2tUcmFjZSA9IGN1cnJlbnRFcnJvci5zdGFjayA/IFwiIFN0YWNrdHJhY2Ugd2FzICdcIi5jb25jYXQoY3VycmVudEVycm9yLnN0YWNrLCBcIidcIikgOiAnJzsgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcblxuICAgICAgY29uc29sZS5lcnJvcihcIk1pc3Npbmcgb25FcnJvciBoYW5kbGVyIGFuZC9vciB1bmhhbmRsZWQgZXhjZXB0aW9uL3Byb21pc2UgcmVqZWN0aW9uIGZvciBpbnZvY2F0aW9uICdcIi5jb25jYXQoaWQsIFwiJy4gXCIpICsgXCJPcmlnaW5hbCBlcnJvcjogJ1wiLmNvbmNhdChvcmlnaW5hbEVycm9yLCBcIicuIFwiKS5jb25jYXQob3JpZ2luYWxTdGFja1RyYWNlLCBcIiBDdXJyZW50IGVycm9yIGlzICdcIikuY29uY2F0KGN1cnJlbnRFcnJvciwgXCInLlwiKS5jb25jYXQoc3RhY2tUcmFjZSkpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZXZhbHVhdGVHdWFyZChtYWNoaW5lLCBndWFyZCwgY29udGV4dCwgX2V2ZW50LCBzdGF0ZSkge1xuICB2YXIgZ3VhcmRzID0gbWFjaGluZS5vcHRpb25zLmd1YXJkcztcbiAgdmFyIGd1YXJkTWV0YSA9IHtcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgY29uZDogZ3VhcmQsXG4gICAgX2V2ZW50OiBfZXZlbnRcbiAgfTsgLy8gVE9ETzogZG8gbm90IGhhcmRjb2RlIVxuXG4gIGlmIChndWFyZC50eXBlID09PSBERUZBVUxUX0dVQVJEX1RZUEUpIHtcbiAgICByZXR1cm4gKChndWFyZHMgPT09IG51bGwgfHwgZ3VhcmRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBndWFyZHNbZ3VhcmQubmFtZV0pIHx8IGd1YXJkLnByZWRpY2F0ZSkoY29udGV4dCwgX2V2ZW50LmRhdGEsIGd1YXJkTWV0YSk7XG4gIH1cblxuICB2YXIgY29uZEZuID0gZ3VhcmRzID09PSBudWxsIHx8IGd1YXJkcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ3VhcmRzW2d1YXJkLnR5cGVdO1xuXG4gIGlmICghY29uZEZuKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR3VhcmQgJ1wiLmNvbmNhdChndWFyZC50eXBlLCBcIicgaXMgbm90IGltcGxlbWVudGVkIG9uIG1hY2hpbmUgJ1wiKS5jb25jYXQobWFjaGluZS5pZCwgXCInLlwiKSk7XG4gIH1cblxuICByZXR1cm4gY29uZEZuKGNvbnRleHQsIF9ldmVudC5kYXRhLCBndWFyZE1ldGEpO1xufVxuZnVuY3Rpb24gdG9JbnZva2VTb3VyY2Uoc3JjKSB7XG4gIGlmICh0eXBlb2Ygc3JjID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBzcmNcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHNyYztcbn1cbmZ1bmN0aW9uIHRvT2JzZXJ2ZXIobmV4dEhhbmRsZXIsIGVycm9ySGFuZGxlciwgY29tcGxldGlvbkhhbmRsZXIpIHtcbiAgdmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7fTtcblxuICB2YXIgaXNPYnNlcnZlciA9IHR5cGVvZiBuZXh0SGFuZGxlciA9PT0gJ29iamVjdCc7XG4gIHZhciBzZWxmID0gaXNPYnNlcnZlciA/IG5leHRIYW5kbGVyIDogbnVsbDtcbiAgcmV0dXJuIHtcbiAgICBuZXh0OiAoKGlzT2JzZXJ2ZXIgPyBuZXh0SGFuZGxlci5uZXh0IDogbmV4dEhhbmRsZXIpIHx8IG5vb3ApLmJpbmQoc2VsZiksXG4gICAgZXJyb3I6ICgoaXNPYnNlcnZlciA/IG5leHRIYW5kbGVyLmVycm9yIDogZXJyb3JIYW5kbGVyKSB8fCBub29wKS5iaW5kKHNlbGYpLFxuICAgIGNvbXBsZXRlOiAoKGlzT2JzZXJ2ZXIgPyBuZXh0SGFuZGxlci5jb21wbGV0ZSA6IGNvbXBsZXRpb25IYW5kbGVyKSB8fCBub29wKS5iaW5kKHNlbGYpXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJbnZva2VJZChzdGF0ZU5vZGVJZCwgaW5kZXgpIHtcbiAgcmV0dXJuIFwiXCIuY29uY2F0KHN0YXRlTm9kZUlkLCBcIjppbnZvY2F0aW9uW1wiKS5jb25jYXQoaW5kZXgsIFwiXVwiKTtcbn1cbmZ1bmN0aW9uIGlzUmFpc2FibGVBY3Rpb24oYWN0aW9uKSB7XG4gIHJldHVybiAoYWN0aW9uLnR5cGUgPT09IHJhaXNlIHx8IGFjdGlvbi50eXBlID09PSBzZW5kICYmIGFjdGlvbi50byA9PT0gU3BlY2lhbFRhcmdldHMuSW50ZXJuYWwpICYmIHR5cGVvZiBhY3Rpb24uZGVsYXkgIT09ICdudW1iZXInO1xufVxuXG5leHBvcnQgeyBjcmVhdGVJbnZva2VJZCwgZXZhbHVhdGVHdWFyZCwgZmxhdHRlbiwgZ2V0QWN0aW9uVHlwZSwgZ2V0RXZlbnRUeXBlLCBpbnRlcm9wU3ltYm9scywgaXNBY3RvciwgaXNBcnJheSwgaXNCZWhhdmlvciwgaXNCdWlsdEluRXZlbnQsIGlzRnVuY3Rpb24sIGlzTWFjaGluZSwgaXNPYnNlcnZhYmxlLCBpc1Byb21pc2VMaWtlLCBpc1JhaXNhYmxlQWN0aW9uLCBpc1N0YXRlTGlrZSwgaXNTdHJpbmcsIGtleXMsIG1hcENvbnRleHQsIG1hcEZpbHRlclZhbHVlcywgbWFwVmFsdWVzLCBtYXRjaGVzU3RhdGUsIG5lc3RlZFBhdGgsIG5vcm1hbGl6ZVRhcmdldCwgcGFydGl0aW9uLCBwYXRoLCBwYXRoVG9TdGF0ZVZhbHVlLCBwYXRoc1RvU3RhdGVWYWx1ZSwgcmVwb3J0VW5oYW5kbGVkRXhjZXB0aW9uT25JbnZvY2F0aW9uLCBzeW1ib2xPYnNlcnZhYmxlLCB0b0FycmF5LCB0b0FycmF5U3RyaWN0LCB0b0V2ZW50T2JqZWN0LCB0b0d1YXJkLCB0b0ludm9rZVNvdXJjZSwgdG9PYnNlcnZlciwgdG9TQ1hNTEV2ZW50LCB0b1N0YXRlUGF0aCwgdG9TdGF0ZVBhdGhzLCB0b1N0YXRlVmFsdWUsIHRvVHJhbnNpdGlvbkNvbmZpZ0FycmF5LCB1bmlxdWVJZCwgdXBkYXRlQ29udGV4dCwgdXBkYXRlSGlzdG9yeVN0YXRlcywgdXBkYXRlSGlzdG9yeVZhbHVlLCB3YXJuIH07XG4iXSwibmFtZXMiOlsiX192YWx1ZXMiLCJfX3NwcmVhZEFycmF5IiwiX19yZWFkIiwiX19hc3NpZ24iLCJTcGVjaWFsVGFyZ2V0cyIsInJhaXNlIiwic2VuZCIsIkRFRkFVTFRfR1VBUkRfVFlQRSIsIlRBUkdFVExFU1NfS0VZIiwiU1RBVEVfREVMSU1JVEVSIiwiSVNfUFJPRFVDVElPTiIsIl9hIiwia2V5cyIsInZhbHVlIiwiT2JqZWN0IiwibWF0Y2hlc1N0YXRlIiwicGFyZW50U3RhdGVJZCIsImNoaWxkU3RhdGVJZCIsImRlbGltaXRlciIsInBhcmVudFN0YXRlVmFsdWUiLCJ0b1N0YXRlVmFsdWUiLCJjaGlsZFN0YXRlVmFsdWUiLCJpc1N0cmluZyIsImV2ZXJ5Iiwia2V5IiwiZ2V0RXZlbnRUeXBlIiwiZXZlbnQiLCJjb25jYXQiLCJ0eXBlIiwiZSIsIkVycm9yIiwiZ2V0QWN0aW9uVHlwZSIsImFjdGlvbiIsImlzRnVuY3Rpb24iLCJuYW1lIiwidG9TdGF0ZVBhdGgiLCJzdGF0ZUlkIiwiaXNBcnJheSIsInRvU3RyaW5nIiwic3BsaXQiLCJpc1N0YXRlTGlrZSIsInN0YXRlIiwic3RhdGVWYWx1ZSIsInBhdGhUb1N0YXRlVmFsdWUiLCJzdGF0ZVBhdGgiLCJsZW5ndGgiLCJtYXJrZXIiLCJpIiwibWFwVmFsdWVzIiwiY29sbGVjdGlvbiIsIml0ZXJhdGVlIiwicmVzdWx0IiwiY29sbGVjdGlvbktleXMiLCJtYXBGaWx0ZXJWYWx1ZXMiLCJwcmVkaWNhdGUiLCJlXzEiLCJfYiIsIl9jIiwibmV4dCIsImRvbmUiLCJpdGVtIiwiZV8xXzEiLCJlcnJvciIsInJldHVybiIsImNhbGwiLCJwYXRoIiwicHJvcHMiLCJvYmplY3QiLCJlXzIiLCJwcm9wc18xIiwicHJvcHNfMV8xIiwicHJvcCIsImVfMl8xIiwibmVzdGVkUGF0aCIsImFjY2Vzc29yUHJvcCIsImVfMyIsInByb3BzXzIiLCJwcm9wc18yXzEiLCJlXzNfMSIsInRvU3RhdGVQYXRocyIsImZsYXR0ZW4iLCJtYXAiLCJzdWJTdGF0ZVZhbHVlIiwic3ViUGF0aCIsInBhdGhzVG9TdGF0ZVZhbHVlIiwicGF0aHMiLCJlXzQiLCJwYXRoc18xIiwicGF0aHNfMV8xIiwiY3VycmVudFBhdGgiLCJlXzRfMSIsImFycmF5IiwiYXBwbHkiLCJ0b0FycmF5U3RyaWN0IiwidG9BcnJheSIsInVuZGVmaW5lZCIsIm1hcENvbnRleHQiLCJtYXBwZXIiLCJjb250ZXh0IiwiX2V2ZW50IiwiZV81IiwiZGF0YSIsInN1Yk1hcHBlciIsImVfNV8xIiwiaXNCdWlsdEluRXZlbnQiLCJldmVudFR5cGUiLCJ0ZXN0IiwiaXNQcm9taXNlTGlrZSIsIlByb21pc2UiLCJ0aGVuIiwiaXNCZWhhdmlvciIsInRyYW5zaXRpb24iLCJwYXJ0aXRpb24iLCJpdGVtcyIsImVfNiIsInRydXRoeSIsImZhbHN5IiwiaXRlbXNfMSIsIml0ZW1zXzFfMSIsInB1c2giLCJlXzZfMSIsInVwZGF0ZUhpc3RvcnlTdGF0ZXMiLCJoaXN0Iiwic3RhdGVzIiwic3ViSGlzdCIsImN1cnJlbnQiLCJ1cGRhdGVIaXN0b3J5VmFsdWUiLCJ1cGRhdGVDb250ZXh0IiwiYXNzaWduQWN0aW9ucyIsIndhcm4iLCJ1cGRhdGVkQ29udGV4dCIsInJlZHVjZSIsImFjYyIsImFzc2lnbkFjdGlvbiIsImVfNyIsImFzc2lnbm1lbnQiLCJtZXRhIiwicGFydGlhbFVwZGF0ZSIsInByb3BBc3NpZ25tZW50IiwiZV83XzEiLCJhc3NpZ24iLCJjb25kaXRpb24iLCJtZXNzYWdlIiwiY29uc29sZSIsImFyZ3MiLCJBcnJheSIsInRvR3VhcmQiLCJndWFyZE1hcCIsImlzT2JzZXJ2YWJsZSIsInN1YnNjcmliZSIsInN5bWJvbE9ic2VydmFibGUiLCJTeW1ib2wiLCJvYnNlcnZhYmxlIiwiaW50ZXJvcFN5bWJvbHMiLCJpc01hY2hpbmUiLCJpc0FjdG9yIiwidW5pcXVlSWQiLCJjdXJyZW50SWQiLCJ0b0V2ZW50T2JqZWN0IiwicGF5bG9hZCIsInRvU0NYTUxFdmVudCIsInNjeG1sRXZlbnQiLCIkJHR5cGUiLCJldmVudE9iamVjdCIsInRvVHJhbnNpdGlvbkNvbmZpZ0FycmF5IiwiY29uZmlnTGlrZSIsInRyYW5zaXRpb25zIiwidHJhbnNpdGlvbkxpa2UiLCJ0YXJnZXQiLCJub3JtYWxpemVUYXJnZXQiLCJyZXBvcnRVbmhhbmRsZWRFeGNlcHRpb25Pbkludm9jYXRpb24iLCJvcmlnaW5hbEVycm9yIiwiY3VycmVudEVycm9yIiwiaWQiLCJvcmlnaW5hbFN0YWNrVHJhY2UiLCJzdGFjayIsInN0YWNrVHJhY2UiLCJldmFsdWF0ZUd1YXJkIiwibWFjaGluZSIsImd1YXJkIiwiZ3VhcmRzIiwib3B0aW9ucyIsImd1YXJkTWV0YSIsImNvbmQiLCJjb25kRm4iLCJ0b0ludm9rZVNvdXJjZSIsInNyYyIsInRvT2JzZXJ2ZXIiLCJuZXh0SGFuZGxlciIsImVycm9ySGFuZGxlciIsImNvbXBsZXRpb25IYW5kbGVyIiwibm9vcCIsImlzT2JzZXJ2ZXIiLCJzZWxmIiwiYmluZCIsImNvbXBsZXRlIiwiY3JlYXRlSW52b2tlSWQiLCJzdGF0ZU5vZGVJZCIsImluZGV4IiwiaXNSYWlzYWJsZUFjdGlvbiIsInRvIiwiSW50ZXJuYWwiLCJkZWxheSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xstate/es/utils.js\n");

/***/ })

};
;