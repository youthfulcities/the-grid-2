(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{146:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(9703),i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a=function(){function e(){this.state=Int32Array.from(o),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>9007199254740991)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%64>=56){for(var r=this.bufferLength;r<64;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<56;r++)t.setUint8(r,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(32),r=0;r<8;r++)i[4*r]=this.state[r]>>>24&255,i[4*r+1]=this.state[r]>>>16&255,i[4*r+2]=this.state[r]>>>8&255,i[4*r+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=0;d<64;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],h=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,p=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(h+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var g=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&c)|0)+(u+(i[d]+this.temp[d]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&o^r&o)|0;u=c,c=l,l=s,s=a+g|0,a=o,o=r,r=n,n=g+m|0}t[0]+=n,t[1]+=r,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=u},e}(),s=n(3663).lW,l=void 0!==s&&s.from?function(e){return s.from(e,"utf8")}:e=>new TextEncoder().encode(e);function c(e){return e instanceof Uint8Array?e:"string"==typeof e?l(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var u=function(){function e(e){this.secret=e,this.hash=new a,this.reset()}return e.prototype.update=function(e){if(("string"==typeof e?0!==e.length:0!==e.byteLength)&&!this.error)try{this.hash.update(c(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.mG)(this,void 0,void 0,function(){return(0,r.Jh)(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new a,this.secret){this.outer=new a;var e=function(e){var t=c(e);if(t.byteLength>64){var n=new a;n.update(t),t=n.digest()}var r=new Uint8Array(64);return r.set(t),r}(this.secret),t=new Uint8Array(64);t.set(e);for(var n=0;n<64;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},e}()},2004:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});let r={},i={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t="0".concat(t)),r[e]=t,i[t]=e}function o(e){let t="";for(let n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},6033:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,o=l(e),a=o[0],s=o[1],c=new i((a+s)*3/4-s),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(e,t,r){for(var i,o=[],a=t;a<r;a+=3)o.push(n[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3663:function(e,t,n){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var r=n(6033),i=n(1531),o=n(9835);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!l.isEncoding(n))throw TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n,r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(e).length;default:if(r)return R(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var i,o,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=t,o=n,0===i&&o===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),isNaN(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return -1;n=e.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return(t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else -1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return -1}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function S(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function w(e,t,n,r,i,o){if(!l.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}function b(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>(r?i:3-i)*8&255}function C(e,t,n,r,i,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function I(e,t,n,r,o){return o||C(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function A(e,t,n,r,o){return o||C(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}t.lW=l,t.h2=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return(u(e),e<=0)?s(null,e):void 0!==t?"string"==typeof n?s(null,e).fill(t,n):s(null,e).fill(t):s(null,e)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?E(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,a,s,l,c,u,d,f,h,p,g,m=this.length-t;if((void 0===n||n>m)&&(n=m),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var v=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))break;e[n+a]=s}return a}(this,e,t,n);case"utf8":case"utf-8":return l=t,c=n,P(R(e,this.length-l),this,l,c);case"ascii":return u=t,d=n,P(T(e),this,u,d);case"latin1":case"binary":return i=this,o=e,a=t,s=n,P(T(o),i,a,s);case"base64":return f=t,h=n,P(N(e),this,f,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p=t,g=n,P(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,this.length-p),this,p,g);default:if(v)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),v=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return(t||S(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},l.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;w(this,e,t,n,i,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;w(this,e,t,n,i,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):b(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):b(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);w(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);w(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):b(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):b(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("sourceStart out of bounds");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i,o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=l.isBuffer(e)?e:R(new l(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var _=/[^+\/0-9A-Za-z-_]/g;function R(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319||a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function T(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function N(e){return r.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(_,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}},9835:function(e){"use strict";var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},3369:function(e){"use strict";var t={single_source_shortest_paths:function(e,n,r){var i,o,a,s,l,c,u,d={},f={};f[n]=0;var h=t.PriorityQueue.make();for(h.push(n,0);!h.empty();)for(a in o=(i=h.pop()).value,s=i.cost,l=e[o]||{})l.hasOwnProperty(a)&&(c=s+l[a],u=f[a],(void 0===f[a]||u>c)&&(f[a]=c,h.push(a,c),d[a]=o));if(void 0!==r&&void 0===f[r])throw Error(["Could not find a path from ",n," to ",r,"."].join(""));return d},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var i=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,i={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=e.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},6056:function(e){"use strict";e.exports=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319&&n>r+1){var o=e.charCodeAt(r+1);o>=56320&&o<=57343&&(i=(i-55296)*1024+o-56320+65536,r+=1)}if(i<128){t.push(i);continue}if(i<2048){t.push(i>>6|192),t.push(63&i|128);continue}if(i<55296||i>=57344&&i<65536){t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128);continue}if(i>=65536&&i<=1114111){t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}},1531:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?5960464477539062e-23:0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*g}},3488:function(e,t,n){"use strict";var r=n(3245)(n(7741),"DataView");e.exports=r},8193:function(e,t,n){"use strict";var r=n(5660),i=n(1735),o=n(3960),a=n(2436),s=n(8175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5835:function(e,t,n){"use strict";var r=n(3234),i=n(7207),o=n(4641),a=n(668),s=n(2572);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8246:function(e,t,n){"use strict";var r=n(3245)(n(7741),"Map");e.exports=r},3785:function(e,t,n){"use strict";var r=n(6528),i=n(972),o=n(5981),a=n(6656),s=n(5541);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},490:function(e,t,n){"use strict";var r=n(3245)(n(7741),"Promise");e.exports=r},608:function(e,t,n){"use strict";var r=n(3245)(n(7741),"Set");e.exports=r},2440:function(e,t,n){"use strict";var r=n(3785),i=n(3367),o=n(6428);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},4380:function(e,t,n){"use strict";var r=n(5835),i=n(4800),o=n(3987),a=n(9728),s=n(4146),l=n(1333);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},9142:function(e,t,n){"use strict";var r=n(7741).Uint8Array;e.exports=r},3101:function(e,t,n){"use strict";var r=n(3245)(n(7741),"WeakMap");e.exports=r},4821:function(e){"use strict";e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1467:function(e){"use strict";e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},6546:function(e,t,n){"use strict";var r=n(7944),i=n(9782),o=n(5059),a=n(4843),s=n(176),l=n(484),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),f=!n&&!u&&!d&&l(e),h=n||u||d||f,p=h?r(e.length,String):[],g=p.length;for(var m in e)(t||c.call(e,m))&&!(h&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g)))&&p.push(m);return p}},5789:function(e){"use strict";e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},927:function(e){"use strict";e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},9281:function(e,t,n){"use strict";var r=n(804),i=n(1595);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},9478:function(e,t,n){"use strict";var r=n(804),i=n(1595),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},9329:function(e,t,n){"use strict";var r=n(1595);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},804:function(e,t,n){"use strict";var r=n(930);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1682:function(e,t,n){"use strict";var r=n(816),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},4410:function(e,t,n){"use strict";var r=n(320)();e.exports=r},8824:function(e,t,n){"use strict";var r=n(3066),i=n(217);e.exports=function(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},6206:function(e,t,n){"use strict";var r=n(5789),i=n(5059);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9959:function(e){"use strict";e.exports=function(e,t){return null!=e&&t in Object(e)}},3686:function(e,t,n){"use strict";var r=n(7976),i=n(9340);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},9759:function(e,t,n){"use strict";var r=n(8685),i=n(9340);e.exports=function e(t,n,o,a,s){return t===n||(null!=t&&null!=n&&(i(t)||i(n))?r(t,n,o,a,e,s):t!=t&&n!=n)}},8685:function(e,t,n){"use strict";var r=n(4380),i=n(3859),o=n(1020),a=n(701),s=n(6770),l=n(5059),c=n(4843),u=n(484),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var y=l(e),E=l(t),S=y?f:s(e),w=E?f:s(t);S=S==d?h:S,w=w==d?h:w;var x=S==h,b=w==h,C=S==w;if(C&&c(e)){if(!c(t))return!1;y=!0,x=!1}if(C&&!x)return v||(v=new r),y||u(e)?i(e,t,n,g,m,v):o(e,t,S,n,g,m,v);if(!(1&n)){var I=x&&p.call(e,"__wrapped__"),A=b&&p.call(t,"__wrapped__");if(I||A){var _=I?e.value():e,R=A?t.value():t;return v||(v=new r),m(_,R,n,g,v)}}return!!C&&(v||(v=new r),a(e,t,n,g,m,v))}},9165:function(e,t,n){"use strict";var r=n(4380),i=n(9759);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],f=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var h=new r;if(o)var p=o(d,f,u,e,t,h);if(!(void 0===p?i(f,d,3,o,h):p))return!1}}return!0}},5759:function(e,t,n){"use strict";var r=n(509),i=n(740),o=n(816),a=n(5315),s=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},43:function(e,t,n){"use strict";var r=n(7976),i=n(4512),o=n(9340),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},9452:function(e,t,n){"use strict";var r=n(9578),i=n(8913),o=n(9100),a=n(5059),s=n(2973);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},2916:function(e,t,n){"use strict";var r=n(2231),i=n(1678),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6107:function(e,t,n){"use strict";var r=n(816),i=n(2231),o=n(7361),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)"constructor"==s&&(t||!a.call(e,s))||n.push(s);return n}},9578:function(e,t,n){"use strict";var r=n(9165),i=n(9836),o=n(9794);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},8913:function(e,t,n){"use strict";var r=n(9759),i=n(4750),o=n(9955),a=n(5632),s=n(1680),l=n(9794),c=n(217);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},2068:function(e,t,n){"use strict";var r=n(4380),i=n(9281),o=n(4410),a=n(9580),s=n(816),l=n(480),c=n(6054);e.exports=function e(t,n,u,d,f){t!==n&&o(n,function(o,l){if(f||(f=new r),s(o))a(t,n,l,u,e,d,f);else{var h=d?d(c(t,l),o,l+"",t,n,f):void 0;void 0===h&&(h=o),i(t,l,h)}},l)}},9580:function(e,t,n){"use strict";var r=n(9281),i=n(241),o=n(4192),a=n(1136),s=n(5549),l=n(9782),c=n(5059),u=n(9942),d=n(4843),f=n(509),h=n(816),p=n(3393),g=n(484),m=n(6054),v=n(2488);e.exports=function(e,t,n,y,E,S,w){var x=m(e,n),b=m(t,n),C=w.get(b);if(C){r(e,n,C);return}var I=S?S(x,b,n+"",e,t,w):void 0,A=void 0===I;if(A){var _=c(b),R=!_&&d(b),T=!_&&!R&&g(b);I=b,_||R||T?c(x)?I=x:u(x)?I=a(x):R?(A=!1,I=i(b,!0)):T?(A=!1,I=o(b,!0)):I=[]:p(b)||l(b)?(I=x,l(x)?I=v(x):(!h(x)||f(x))&&(I=s(b))):A=!1}A&&(w.set(b,I),E(I,b,y,S,w),w.delete(b)),r(e,n,I)}},6032:function(e,t,n){"use strict";var r=n(8824),i=n(1265),o=n(3066);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=r(e,c);n(u,c)&&i(l,o(c,e),u)}return l}},411:function(e){"use strict";e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4831:function(e,t,n){"use strict";var r=n(8824);e.exports=function(e){return function(t){return r(t,e)}}},712:function(e,t,n){"use strict";var r=n(9100),i=n(7157),o=n(8501);e.exports=function(e,t){return o(i(e,t,r),e+"")}},1265:function(e,t,n){"use strict";var r=n(9478),i=n(3066),o=n(176),a=n(816),s=n(217);e.exports=function(e,t,n,l){if(!a(e))return e;t=i(t,e);for(var c=-1,u=t.length,d=u-1,f=e;null!=f&&++c<u;){var h=s(t[c]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)break;if(c!=d){var g=f[h];void 0===(p=l?l(g,h,f):void 0)&&(p=a(g)?g:o(t[c+1])?[]:{})}r(f,h,p),f=f[h]}return e}},9029:function(e,t,n){"use strict";var r=n(1364),i=n(930),o=n(9100),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},7944:function(e){"use strict";e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3863:function(e){"use strict";e.exports=function(e){return function(t){return e(t)}}},7399:function(e){"use strict";e.exports=function(e,t){return e.has(t)}},3066:function(e,t,n){"use strict";var r=n(5059),i=n(5632),o=n(5508),a=n(5635);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},4292:function(e,t,n){"use strict";var r=n(9142);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},241:function(e,t,n){"use strict";e=n.nmd(e);var r=n(7741),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},4192:function(e,t,n){"use strict";var r=n(4292);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1136:function(e){"use strict";e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},7062:function(e,t,n){"use strict";var r=n(9478),i=n(804);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):r(n,c,u)}return n}},5852:function(e,t,n){"use strict";var r=n(7741)["__core-js_shared__"];e.exports=r},5878:function(e,t,n){"use strict";var r=n(712),i=n(5021);e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t})}},320:function(e){"use strict";e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},930:function(e,t,n){"use strict";var r=n(3245),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},3859:function(e,t,n){"use strict";var r=n(2440),i=n(927),o=n(7399);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var v=e[p],y=t[p];if(a)var E=c?a(y,v,p,t,e,l):a(v,y,p,e,t,l);if(void 0!==E){if(E)continue;g=!1;break}if(m){if(!i(t,function(e,t){if(!o(m,t)&&(v===e||s(v,e,n,a,l)))return m.push(t)})){g=!1;break}}else if(!(v===y||s(v,y,n,a,l))){g=!1;break}}return l.delete(e),l.delete(t),g}},1020:function(e,t,n){"use strict";var r=n(4212),i=n(9142),o=n(1595),a=n(3859),s=n(8737),l=n(1640),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=l),e.size!=t.size&&!p)break;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(h(e),h(t),r,c,d,f);return f.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},701:function(e,t,n){"use strict";var r=n(13),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var f=c[d];if(!(l?f in t:i.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=l;++d<u;){var v=e[f=c[d]],y=t[f];if(o)var E=l?o(y,v,f,t,e,s):o(v,y,f,e,t,s);if(!(void 0===E?v===y||a(v,y,n,o,s):E)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof S&&S instanceof S&&"function"==typeof w&&w instanceof w)&&(g=!1)}return s.delete(e),s.delete(t),g}},13:function(e,t,n){"use strict";var r=n(6206),i=n(7807),o=n(9406);e.exports=function(e){return r(e,o,i)}},7790:function(e,t,n){"use strict";var r=n(6206),i=n(2533),o=n(480);e.exports=function(e){return r(e,o,i)}},2080:function(e,t,n){"use strict";var r=n(4850);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9836:function(e,t,n){"use strict";var r=n(1680),i=n(9406);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3245:function(e,t,n){"use strict";var r=n(5759),i=n(3970);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},8766:function(e,t,n){"use strict";var r=n(3332)(Object.getPrototypeOf,Object);e.exports=r},7807:function(e,t,n){"use strict";var r=n(1467),i=n(786),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:r(a(e=Object(e)),function(t){return o.call(e,t)})}:i;e.exports=s},2533:function(e,t,n){"use strict";var r=n(5789),i=n(8766),o=n(7807),a=n(786),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},6770:function(e,t,n){"use strict";var r=n(3488),i=n(8246),o=n(490),a=n(608),s=n(3101),l=n(7976),c=n(5315),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=c(r),m=c(i),v=c(o),y=c(a),E=c(s),S=l;(r&&S(new r(new ArrayBuffer(1)))!=p||i&&S(new i)!=u||o&&S(o.resolve())!=d||a&&S(new a)!=f||s&&S(new s)!=h)&&(S=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return p;case m:return u;case v:return d;case y:return f;case E:return h}return t}),e.exports=S},3970:function(e){"use strict";e.exports=function(e,t){return null==e?void 0:e[t]}},4986:function(e,t,n){"use strict";var r=n(3066),i=n(9782),o=n(5059),a=n(176),s=n(4512),l=n(217);e.exports=function(e,t,n){t=r(t,e);for(var c=-1,u=t.length,d=!1;++c<u;){var f=l(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(f,u)&&(o(e)||i(e))}},5660:function(e,t,n){"use strict";var r=n(3463);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},1735:function(e){"use strict";e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},3960:function(e,t,n){"use strict";var r=n(3463),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2436:function(e,t,n){"use strict";var r=n(3463),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8175:function(e,t,n){"use strict";var r=n(3463);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5549:function(e,t,n){"use strict";var r=n(1682),i=n(8766),o=n(2231);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},176:function(e){"use strict";var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5021:function(e,t,n){"use strict";var r=n(1595),i=n(187),o=n(176),a=n(816);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return("number"==s?!!(i(n)&&o(t,n.length)):"string"==s&&t in n)&&r(n[t],e)}},5632:function(e,t,n){"use strict";var r=n(5059),i=n(2704),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},4850:function(e){"use strict";e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},740:function(e,t,n){"use strict";var r,i=n(5852),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},2231:function(e){"use strict";var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},1680:function(e,t,n){"use strict";var r=n(816);e.exports=function(e){return e==e&&!r(e)}},3234:function(e){"use strict";e.exports=function(){this.__data__=[],this.size=0}},7207:function(e,t,n){"use strict";var r=n(9329),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4641:function(e,t,n){"use strict";var r=n(9329);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},668:function(e,t,n){"use strict";var r=n(9329);e.exports=function(e){return r(this.__data__,e)>-1}},2572:function(e,t,n){"use strict";var r=n(9329);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},6528:function(e,t,n){"use strict";var r=n(8193),i=n(5835),o=n(8246);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},972:function(e,t,n){"use strict";var r=n(2080);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},5981:function(e,t,n){"use strict";var r=n(2080);e.exports=function(e){return r(this,e).get(e)}},6656:function(e,t,n){"use strict";var r=n(2080);e.exports=function(e){return r(this,e).has(e)}},5541:function(e,t,n){"use strict";var r=n(2080);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},8737:function(e){"use strict";e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},9794:function(e){"use strict";e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},3092:function(e,t,n){"use strict";var r=n(9512);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},3463:function(e,t,n){"use strict";var r=n(3245)(Object,"create");e.exports=r},1678:function(e,t,n){"use strict";var r=n(3332)(Object.keys,Object);e.exports=r},7361:function(e){"use strict";e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},6474:function(e,t,n){"use strict";e=n.nmd(e);var r=n(8584),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},3332:function(e){"use strict";e.exports=function(e,t){return function(n){return e(t(n))}}},7157:function(e,t,n){"use strict";var r=n(4821),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},6054:function(e){"use strict";e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},3367:function(e){"use strict";e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6428:function(e){"use strict";e.exports=function(e){return this.__data__.has(e)}},1640:function(e){"use strict";e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},8501:function(e,t,n){"use strict";var r=n(9029),i=n(4326)(r);e.exports=i},4326:function(e){"use strict";var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},4800:function(e,t,n){"use strict";var r=n(5835);e.exports=function(){this.__data__=new r,this.size=0}},3987:function(e){"use strict";e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},9728:function(e){"use strict";e.exports=function(e){return this.__data__.get(e)}},4146:function(e){"use strict";e.exports=function(e){return this.__data__.has(e)}},1333:function(e,t,n){"use strict";var r=n(5835),i=n(8246),o=n(3785);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},5508:function(e,t,n){"use strict";var r=n(3092),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},217:function(e,t,n){"use strict";var r=n(2704),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},5315:function(e){"use strict";var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1364:function(e){"use strict";e.exports=function(e){return function(){return e}}},1595:function(e){"use strict";e.exports=function(e,t){return e===t||e!=e&&t!=t}},4750:function(e,t,n){"use strict";var r=n(8824);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},9955:function(e,t,n){"use strict";var r=n(9959),i=n(4986);e.exports=function(e,t){return null!=e&&i(e,t,r)}},9100:function(e){"use strict";e.exports=function(e){return e}},9782:function(e,t,n){"use strict";var r=n(3686),i=n(9340),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},187:function(e,t,n){"use strict";var r=n(509),i=n(4512);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},9942:function(e,t,n){"use strict";var r=n(187),i=n(9340);e.exports=function(e){return i(e)&&r(e)}},4843:function(e,t,n){"use strict";e=n.nmd(e);var r=n(7741),i=n(3879),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=s?s.isBuffer:void 0;e.exports=l||i},509:function(e,t,n){"use strict";var r=n(7976),i=n(816);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4512:function(e){"use strict";e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},816:function(e){"use strict";e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3393:function(e,t,n){"use strict";var r=n(7976),i=n(8766),o=n(9340),a=Object.prototype,s=Function.prototype.toString,l=a.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},484:function(e,t,n){"use strict";var r=n(43),i=n(3863),o=n(6474),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},9406:function(e,t,n){"use strict";var r=n(6546),i=n(2916),o=n(187);e.exports=function(e){return o(e)?r(e):i(e)}},480:function(e,t,n){"use strict";var r=n(6546),i=n(6107),o=n(187);e.exports=function(e){return o(e)?r(e,!0):i(e)}},9512:function(e,t,n){"use strict";var r=n(3785);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},3957:function(e,t,n){"use strict";var r=n(2068),i=n(5878)(function(e,t,n){r(e,t,n)});e.exports=i},2923:function(e,t,n){"use strict";var r=n(3690),i=n(9452),o=n(6032),a=n(7790);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),function(e){return[e]});return t=i(t),o(e,n,function(e,n){return t(e,n[0])})}},2973:function(e,t,n){"use strict";var r=n(411),i=n(4831),o=n(5632),a=n(217);e.exports=function(e){return o(e)?r(a(e)):i(e)}},786:function(e){"use strict";e.exports=function(){return[]}},3879:function(e){"use strict";e.exports=function(){return!1}},2488:function(e,t,n){"use strict";var r=n(7062),i=n(480);e.exports=function(e){return r(e,i(e))}},9079:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(3127)},3127:function(e){"use strict";!function(){var t={229:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?l=r.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(r=l,l=[];++u<t;)r&&r[u].run();u=-1,t=l.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},a=!0;try{t[e](o,o.exports,r),a=!1}finally{a&&delete n[e]}return o.exports}r.ab="//";var i=r(229);e.exports=i}()},6491:function(e,t){"use strict";var n,r;void 0!==(r="function"==typeof(n=function e(){var t="undefined"!=typeof self?self:window,n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,i={},o=0,a={parse:function(n,r){var s,l=(r=r||{}).dynamicTyping||!1;if(w(l)&&(r.dynamicTypingFunction=l,l={}),r.dynamicTyping=l,r.transform=!!w(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var h=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,r,s=(n=t.URL||t.webkitURL||null,r=e.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(s);return l.onmessage=m,l.id=o++,i[l.id]=l}();return h.userStep=r.step,h.userChunk=r.chunk,h.userComplete=r.complete,h.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void h.postMessage({input:n,config:r,workerId:h.id})}var p=null;return a.NODE_STREAM_INPUT,"string"==typeof n?(n=65279===(s=n).charCodeAt(0)?s.slice(1):s,p=r.download?new c(r):new d(r)):!0===n.readable&&w(n.read)&&w(n.on)?p=new f(r):(t.File&&n instanceof File||n instanceof Object)&&(p=new u(r)),p.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",o="\r\n",s='"',l=s+s,c=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=RegExp(p(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw Error("Unable to serialize unrecognized input");function h(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&r){for(var c=0;c<e.length;c++)0<c&&(a+=i),a+=g(e[c],c);0<t.length&&(a+=o)}for(var u=0;u<t.length;u++){var d=s?e.length:t[u].length,f=!1,h=s?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!s&&(f="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&s){for(var p=[],m=0;m<d;m++){var v=l?e[m]:m;p.push(t[u][v])}f=""===p.join("").trim()}if(!f){for(var y=0;y<d;y++){0<y&&!h&&(a+=i);var E=s&&l?e[y]:y;a+=g(t[u][E],y)}u<t.length-1&&(!n||0<d&&!h)&&(a+=o)}}return a}function g(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var o=e.toString().replace(f,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,a.BAD_DELIMITERS)||-1<o.indexOf(i)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?s+o+s:o}}};if(a.RECORD_SEP="\x1e",a.UNIT_SEP="\x1f",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=g,a.ParserHandle=h,a.NetworkStreamer=c,a.FileStreamer=u,a.StringStreamer=d,a.ReadableStreamStreamer=f,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},r=[];return this.each(function(e){if(!("INPUT"===s(this).prop("tagName").toUpperCase()&&"file"===s(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})}),i(),this;function i(){if(0!==r.length){var t,n,i,l=r[0];if(w(e.before)){var c=e.before(l.file,l.inputElem);if("object"==typeof c){if("abort"===c.action)return t=l.file,n=l.inputElem,i=c.reason,void(w(e.error)&&e.error({name:"AbortError"},t,n,i));if("skip"===c.action)return void o();"object"==typeof c.config&&(l.instanceConfig=s.extend(l.instanceConfig,c.config))}else if("skip"===c)return void o()}var u=l.instanceConfig.complete;l.instanceConfig.complete=function(e){w(u)&&u(e,l.file,l.inputElem),o()},a.parse(l.file,l.instanceConfig)}else w(e.complete)&&e.complete()}function o(){r.splice(0,1),i()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=E(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:s,workerId:a.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!c||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=S(this._chunkLoaded,this),t.onerror=S(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(Error(n))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),l.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=S(this._chunkLoaded,this),t.onerror=S(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function f(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=S(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=S(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=S(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=S(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(e){var t,n,r,i=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,o=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,s=this,l=0,c=0,u=!1,d=!1,f=[],h={data:[],errors:[],meta:{}};if(w(e.step)){var m=e.step;e.step=function(t){if(h=t,S())y();else{if(y(),0===h.data.length)return;l+=t.data.length,e.preview&&l>e.preview?n.abort():(h.data=h.data[0],m(h,s))}}}function v(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){return h&&r&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(h.data=h.data.filter(function(e){return!v(e)})),S()&&function(){if(h){if(Array.isArray(h.data[0])){for(var t=0;S()&&t<h.data.length;t++)h.data[t].forEach(n);h.data.splice(0,1)}else h.data.forEach(n)}function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),f.push(t)}}(),function(){if(!h||!e.header&&!e.dynamicTyping&&!e.transform)return h;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var s,l,u=r,d=t[r];e.header&&(u=r>=f.length?"__parsed_extra":f[r]),e.transform&&(d=e.transform(d,u)),s=u,l=d,e.dynamicTypingFunction&&void 0===e.dynamicTyping[s]&&(e.dynamicTyping[s]=e.dynamicTypingFunction(s)),d=!0===(e.dynamicTyping[s]||e.dynamicTyping)?"true"===l||"TRUE"===l||"false"!==l&&"FALSE"!==l&&(!function(e){if(i.test(e)){var t=parseFloat(e);if(-9007199254740992<t&&t<9007199254740992)return!0}return!1}(l)?o.test(l)?new Date(l):""===l?null:l:parseFloat(l)):l,"__parsed_extra"===u?(a[u]=a[u]||[],a[u].push(d)):a[u]=d}return e.header&&(r>f.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+r,c+n):r<f.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+r,c+n)),a}var n=1;return!h.data.length||Array.isArray(h.data[0])?(h.data=h.data.map(t),n=h.data.length):h.data=t(h.data,0),e.header&&h.meta&&(h.meta.fields=f),c+=n,h}()}function S(){return e.header&&0===f.length}function x(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),h.errors.push(i)}this.parse=function(i,o,s){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,l)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(i),h.meta.delimiter=e.delimiter);else{var c=function(t,n,r,i,o){var s,l,c,u;o=o||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var d=0;d<o.length;d++){var f=o[d],h=0,p=0,m=0;c=void 0;for(var y=new g({comments:i,delimiter:f,newline:n,preview:10}).parse(t),E=0;E<y.data.length;E++)if(r&&v(y.data[E]))m++;else{var S=y.data[E].length;p+=S,void 0!==c?0<S&&(h+=Math.abs(S-c),c=S):c=S}0<y.data.length&&(p/=y.data.length-m),(void 0===l||h<=l)&&(void 0===u||u<p)&&1.99<p&&(l=h,s=f,u=p)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),h.meta.delimiter=e.delimiter}var d=E(e);return e.preview&&e.header&&d.preview++,t=i,h=(n=new g(d)).parse(t,o,s),y(),u?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){s.streamer._halted?(u=!1,s.streamer.parseChunk(t,!0)):setTimeout(s.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),h.meta.aborted=!0,w(e.complete)&&e.complete(h),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,o=e.step,s=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(a,f,h){if("string"!=typeof a)throw Error("Input must be a string");var g=a.length,m=n.length,v=r.length,y=i.length,E=w(o),S=[],x=[],b=[],C=u=0;if(!a)return q();if(e.header&&!f){var I=a.split(r)[0].split(n),A=[],_={},R=!1;for(var T in I){var N=I[T];w(e.transformHeader)&&(N=e.transformHeader(N,T));var P=N,U=_[N]||0;for(0<U&&(R=!0,P=N+"_"+U),_[N]=U+1;A.includes(P);)P=P+"_"+U;A.push(P)}if(R){var M=a.split(r);M[0]=A.join(n),a=M.join(r)}}if(l||!1!==l&&-1===a.indexOf(t)){for(var F=a.split(r),k=0;k<F.length;k++){if(b=F[k],u+=b.length,k!==F.length-1)u+=r.length;else if(h)break;if(!i||b.substring(0,y)!==i){if(E){if(S=[],G(b.split(n)),K(),d)return q()}else G(b.split(n));if(s&&s<=k)return S=S.slice(0,s),q(!0)}}return q()}for(var O=a.indexOf(n,u),D=a.indexOf(r,u),L=RegExp(p(c)+p(t),"g"),B=a.indexOf(t,u);;)if(a[u]!==t){if(i&&0===b.length&&a.substring(u,u+y)===i){if(-1===D)return q();u=D+v,D=a.indexOf(r,u),O=a.indexOf(n,u)}else if(-1!==O&&(O<D||-1===D))b.push(a.substring(u,O)),u=O+m,O=a.indexOf(n,u);else{if(-1===D)break;if(b.push(a.substring(u,D)),W(D+v),E&&(K(),d))return q();if(s&&S.length>=s)return q(!0)}}else for(B=u,u++;;){if(-1===(B=a.indexOf(t,B+1)))return h||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:S.length,index:u}),H();if(B===g-1)return H(a.substring(u,B).replace(L,t));if(t!==c||a[B+1]!==c){if(t===c||0===B||a[B-1]!==c){-1!==O&&O<B+1&&(O=a.indexOf(n,B+1)),-1!==D&&D<B+1&&(D=a.indexOf(r,B+1));var V=z(-1===D?O:Math.min(O,D));if(a.substr(B+1+V,m)===n){b.push(a.substring(u,B).replace(L,t)),a[u=B+1+V+m]!==t&&(B=a.indexOf(t,u)),O=a.indexOf(n,u),D=a.indexOf(r,u);break}var j=z(D);if(a.substring(B+1+j,B+1+j+v)===r){if(b.push(a.substring(u,B).replace(L,t)),W(B+1+j+v),O=a.indexOf(n,u),B=a.indexOf(t,u),E&&(K(),d))return q();if(s&&S.length>=s)return q(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:S.length,index:u}),B++}}else B++}return H();function G(e){S.push(e),C=u}function z(e){var t=0;if(-1!==e){var n=a.substring(B+1,e);n&&""===n.trim()&&(t=n.length)}return t}function H(e){return h||(void 0===e&&(e=a.substring(u)),b.push(e),u=g,G(b),E&&K()),q()}function W(e){u=e,G(b),b=[],D=a.indexOf(r,u)}function q(e){return{data:S,errors:x,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:C+(f||0)}}}function K(){o(q()),S=[],x=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function m(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},o),!r);a++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=i[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw Error("Not implemented.")}function E(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=E(e[n]);return t}function S(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=a.parse(n.input,n.config);r&&t.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(l.prototype)).constructor=f,a})?n.apply(t,[]):n)&&(e.exports=r)},2644:function(e,t,n){let r=n(7166),i=n(4185),o=n(5148),a=n(3782);function s(e,t,n,o,a){let s=[].slice.call(arguments,1),l=s.length,c="function"==typeof s[l-1];if(!c&&!r())throw Error("Callback required as last argument");if(c){if(l<2)throw Error("Too few arguments provided");2===l?(a=n,n=t,t=o=void 0):3===l&&(t.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0))}else{if(l<1)throw Error("Too few arguments provided");return 1===l?(n=t,t=o=void 0):2!==l||t.getContext||(o=n,n=t,t=void 0),new Promise(function(r,a){try{let a=i.create(n,o);r(e(a,t,o))}catch(e){a(e)}})}try{let r=i.create(n,o);a(null,e(r,t,o))}catch(e){a(e)}}t.create=i.create,t.toCanvas=s.bind(null,o.render),t.toDataURL=s.bind(null,o.renderToDataURL),t.toString=s.bind(null,function(e,t,n){return a.render(e,n)})},7166:function(e){"use strict";e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},8466:function(e,t,n){let r=n(236).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];let t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7];for(let e=1;e<t-1;e++)o[e]=o[e-1]-i;return o.push(6),o.reverse()},t.getPositions=function(e){let n=[],r=t.getRowColCoords(e),i=r.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)(0!==e||0!==t)&&(0!==e||t!==i-1)&&(e!==i-1||0!==t)&&n.push([r[e],r[t]]);return n}},7215:function(e,t,n){"use strict";let r=n(8891),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=r.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},8886:function(e){"use strict";function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){return(this.buffer[Math.floor(e/8)]>>>7-e%8&1)==1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},4113:function(e){"use strict";function t(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){let i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},2661:function(e,t,n){"use strict";let r=n(6056),i=n(8891);function o(e){this.mode=i.BYTE,this.data=new Uint8Array(r(e))}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=o},2257:function(e,t,n){let r=n(7883),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[(e-1)*4+0];case r.M:return i[(e-1)*4+1];case r.Q:return i[(e-1)*4+2];case r.H:return i[(e-1)*4+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return o[(e-1)*4+0];case r.M:return o[(e-1)*4+1];case r.Q:return o[(e-1)*4+2];case r.H:return o[(e-1)*4+3];default:return}}},7883:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},4449:function(e,t,n){let r=n(236).getSymbolSize;t.getPositions=function(e){let t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},4103:function(e,t,n){let r=n(236),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){let n=e.bit<<3|t,o=n<<10;for(;r.getBCHDigit(o)-i>=0;)o^=1335<<r.getBCHDigit(o)-i;return(n<<10|o)^21522}},120:function(e,t){let n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,256&(e<<=1)&&(e^=285);for(let e=255;e<512;e++)n[e]=n[e-255]}(),t.log=function(e){if(e<1)throw Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},8522:function(e,t,n){"use strict";let r=n(8891),i=n(236);function o(e){this.mode=r.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n=(n>>>8&255)*192+(255&n),e.put(n,13)}},e.exports=o},7684:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let n={N1:3,N2:3,N3:40,N4:10};t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){let t=e.size,r=0,i=0,o=0,a=null,s=null;for(let l=0;l<t;l++){i=o=0,a=s=null;for(let c=0;c<t;c++){let t=e.get(l,c);t===a?i++:(i>=5&&(r+=n.N1+(i-5)),a=t,i=1),(t=e.get(c,l))===s?o++:(o>=5&&(r+=n.N1+(o-5)),s=t,o=1)}i>=5&&(r+=n.N1+(i-5)),o>=5&&(r+=n.N1+(o-5))}return r},t.getPenaltyN2=function(e){let t=e.size,r=0;for(let n=0;n<t-1;n++)for(let i=0;i<t-1;i++){let t=e.get(n,i)+e.get(n,i+1)+e.get(n+1,i)+e.get(n+1,i+1);(4===t||0===t)&&r++}return r*n.N2},t.getPenaltyN3=function(e){let t=e.size,r=0,i=0,o=0;for(let n=0;n<t;n++){i=o=0;for(let a=0;a<t;a++)i=i<<1&2047|e.get(n,a),a>=10&&(1488===i||93===i)&&r++,o=o<<1&2047|e.get(a,n),a>=10&&(1488===o||93===o)&&r++}return r*n.N3},t.getPenaltyN4=function(e){let t=0,r=e.data.length;for(let n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*n.N4},t.applyMask=function(e,n){let r=n.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)n.isReserved(o,i)||n.xor(o,i,function(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}(e,o,i))},t.getBestMask=function(e,n){let r=Object.keys(t.Patterns).length,i=0,o=1/0;for(let a=0;a<r;a++){n(a),t.applyMask(a,e);let r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),r<o&&(o=r,i=a)}return i}},8891:function(e,t,n){let r=n(7858),i=n(2118);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!r.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},7249:function(e,t,n){"use strict";let r=n(8891);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,n;for(t=0;t+3<=this.data.length;t+=3)n=parseInt(this.data.substr(t,3),10),e.put(n,10);let r=this.data.length-t;r>0&&(n=parseInt(this.data.substr(t),10),e.put(n,3*r+1))},e.exports=i},5043:function(e,t,n){let r=n(120);t.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)n[i+o]^=r.mul(e[i],t[o]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let e=n[0];for(let i=0;i<t.length;i++)n[i]^=r.mul(t[i],e);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let i=0;i<e;i++)n=t.mul(n,new Uint8Array([1,r.exp(i)]));return n}},4185:function(e,t,n){let r=n(236),i=n(7883),o=n(8886),a=n(4113),s=n(8466),l=n(4449),c=n(7684),u=n(2257),d=n(4598),f=n(8884),h=n(4103),p=n(8891),g=n(5896);function m(e,t,n){let r,i;let o=e.size,a=h.getEncodedBits(t,n);for(r=0;r<15;r++)i=(a>>r&1)==1,r<6?e.set(r,8,i,!0):r<8?e.set(r+1,8,i,!0):e.set(o-15+r,8,i,!0),r<8?e.set(8,o-r-1,i,!0):r<9?e.set(8,15-r-1+1,i,!0):e.set(8,15-r-1,i,!0);e.set(o-8,8,1,!0)}t.create=function(e,t){let n,h;if(void 0===e||""===e)throw Error("No input text");let v=i.M;return void 0!==t&&(v=i.from(t.errorCorrectionLevel,i.M),n=f.from(t.version),h=c.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),function(e,t,n,i){let h;if(Array.isArray(e))h=g.fromArray(e);else if("string"==typeof e){let r=t;if(!r){let t=g.rawSplit(e);r=f.getBestVersionForData(t,n)}h=g.fromString(e,r||40)}else throw Error("Invalid data");let v=f.getBestVersionForData(h,n);if(!v)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<v)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+v+".\n")}else t=v;let y=function(e,t,n){let i=new o;n.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(i)});let a=(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t))*8;for(i.getLengthInBits()+4<=a&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let s=(a-i.getLengthInBits())/8;for(let e=0;e<s;e++)i.put(e%2?17:236,8);return function(e,t,n){let i,o;let a=r.getSymbolTotalCodewords(t),s=a-u.getTotalCodewordsCount(t,n),l=u.getBlocksCount(t,n),c=a%l,f=l-c,h=Math.floor(a/l),p=Math.floor(s/l),g=p+1,m=h-p,v=new d(m),y=0,E=Array(l),S=Array(l),w=0,x=new Uint8Array(e.buffer);for(let e=0;e<l;e++){let t=e<f?p:g;E[e]=x.slice(y,y+t),S[e]=v.encode(E[e]),y+=t,w=Math.max(w,t)}let b=new Uint8Array(a),C=0;for(i=0;i<w;i++)for(o=0;o<l;o++)i<E[o].length&&(b[C++]=E[o][i]);for(i=0;i<m;i++)for(o=0;o<l;o++)b[C++]=S[o][i];return b}(i,e,t)}(t,n,h),E=new a(r.getSymbolSize(t));return function(e,t){let n=e.size,r=l.getPositions(t);for(let t=0;t<r.length;t++){let i=r[t][0],o=r[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1)&&!(n<=i+t))for(let r=-1;r<=7;r++)o+r<=-1||n<=o+r||(t>=0&&t<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===t||6===t)||t>=2&&t<=4&&r>=2&&r<=4?e.set(i+t,o+r,!0,!0):e.set(i+t,o+r,!1,!0))}}(E,t),function(e){let t=e.size;for(let n=8;n<t-8;n++){let t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(E),function(e,t){let n=s.getPositions(t);for(let t=0;t<n.length;t++){let r=n[t][0],i=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(r+t,i+n,!0,!0):e.set(r+t,i+n,!1,!0)}}(E,t),m(E,n,0),t>=7&&function(e,t){let n,r,i;let o=e.size,a=f.getEncodedBits(t);for(let t=0;t<18;t++)n=Math.floor(t/3),r=t%3+o-8-3,i=(a>>t&1)==1,e.set(n,r,i,!0),e.set(r,n,i,!0)}(E,t),function(e,t){let n=e.size,r=-1,i=n-1,o=7,a=0;for(let s=n-1;s>0;s-=2)for(6===s&&s--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,s-n)){let r=!1;a<t.length&&(r=(t[a]>>>o&1)==1),e.set(i,s-n,r),-1==--o&&(a++,o=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(E,y),isNaN(i)&&(i=c.getBestMask(E,m.bind(null,E,n))),c.applyMask(i,E),m(E,n,i),{modules:E,version:t,errorCorrectionLevel:n,maskPattern:i,segments:h}}(e,n,v,h)}},4598:function(e,t,n){"use strict";let r=n(5043);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=r.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){let e=new Uint8Array(this.degree);return e.set(n,i),e}return n},e.exports=i},2118:function(e,t){let n="[0-9]+",r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=RegExp(r,"g"),t.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=RegExp(i,"g"),t.NUMERIC=RegExp(n,"g"),t.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let o=RegExp("^"+r+"$"),a=RegExp("^"+n+"$"),s=RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return a.test(e)},t.testAlphanumeric=function(e){return s.test(e)}},5896:function(e,t,n){let r=n(8891),i=n(7249),o=n(7215),a=n(2661),s=n(8522),l=n(2118),c=n(236),u=n(3369);function d(e){return unescape(encodeURIComponent(e)).length}function f(e,t,n){let r;let i=[];for(;null!==(r=e.exec(n));)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function h(e){let t,n;let i=f(l.NUMERIC,r.NUMERIC,e),o=f(l.ALPHANUMERIC,r.ALPHANUMERIC,e);return c.isKanjiModeEnabled()?(t=f(l.BYTE,r.BYTE,e),n=f(l.KANJI,r.KANJI,e)):(t=f(l.BYTE_KANJI,r.BYTE,e),n=[]),i.concat(o,t,n).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function p(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return o.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return a.getBitsLength(e)}}function g(e,t){let n;let l=r.getBestModeForData(e);if((n=r.from(t,l))!==r.BYTE&&n.bit<l.bit)throw Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(l));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new o(e);case r.KANJI:return new s(e);case r.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(g(t,null)):t.data&&e.push(g(t.data,t.mode)),e},[])},t.fromString=function(e,n){let i=function(e,t){let n={},i={start:{}},o=["start"];for(let a=0;a<e.length;a++){let s=e[a],l=[];for(let e=0;e<s.length;e++){let c=s[e],u=""+a+e;l.push(u),n[u]={node:c,lastCount:0},i[u]={};for(let e=0;e<o.length;e++){let a=o[e];n[a]&&n[a].node.mode===c.mode?(i[a][u]=p(n[a].lastCount+c.length,c.mode)-p(n[a].lastCount,c.mode),n[a].lastCount+=c.length):(n[a]&&(n[a].lastCount=c.length),i[a][u]=p(c.length,c.mode)+4+r.getCharCountIndicator(c.mode,t))}}o=l}for(let e=0;e<o.length;e++)i[o[e]].end=0;return{map:i,table:n}}(function(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:d(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:d(i.data)}])}}return t}(h(e,c.isKanjiModeEnabled())),n),o=u.find_path(i.map,"start","end"),a=[];for(let e=1;e<o.length-1;e++)a.push(i.table[o[e]].node);return t.fromArray(a.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},t.rawSplit=function(e){return t.fromArray(h(e,c.isKanjiModeEnabled()))}},236:function(e,t){let n;let r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},7858:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},8884:function(e,t,n){let r=n(236),i=n(2257),o=n(7883),a=n(8891),s=n(7858),l=r.getBCHDigit(7973);function c(e,t){return a.getCharCountIndicator(e,t)+4}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);let o=(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t))*8;if(n===a.MIXED)return o;let l=o-c(n,e);switch(n){case a.NUMERIC:return Math.floor(l/10*3);case a.ALPHANUMERIC:return Math.floor(l/11*2);case a.KANJI:return Math.floor(l/13);case a.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){let r;let i=o.from(n,o.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(function(e,t){let n=0;return e.forEach(function(e){let r=c(e.mode,t);n+=r+e.getBitsLength()}),n}(e,r)<=t.getCapacity(r,n,a.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-l>=0;)t^=7973<<r.getBCHDigit(t)-l;return e<<12|t}},5148:function(e,t,n){let r=n(2007);t.render=function(e,t,n){var i;let o=n,a=t;void 0!==o||t&&t.getContext||(o=t,t=void 0),t||(a=function(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}()),o=r.getOptions(o);let s=r.getImageWidth(e.modules.size,o),l=a.getContext("2d"),c=l.createImageData(s,s);return r.qrToImageData(c.data,e,o),i=a,l.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px",l.putImageData(c,0,0),a},t.renderToDataURL=function(e,n,r){let i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});let o=t.render(e,n,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}},3782:function(e,t,n){let r=n(2007);function i(e,t){let n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function o(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){let a=r.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*a.margin,u=a.color.light.a?"<path "+i(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+i(a.color.dark,"stroke")+' d="'+function(e,t,n){let r="",i=0,a=!1,s=0;for(let l=0;l<e.length;l++){let c=Math.floor(l%t),u=Math.floor(l/t);c||a||(a=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(r+=a?o("M",c+n,.5+u+n):o("m",i,0),i=0,a=!1),c+1<t&&e[l+1]||(r+=o("h",s),s=0)):i++}return r}(l,s,a.margin)+'"/>',f='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+('viewBox="0 0 '+c)+" "+c+'" shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,f),f}},2007:function(e,t){function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");let n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){let r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){let i=n.modules.size,o=n.modules.data,a=t.getScale(i,r),s=Math.floor((i+2*r.margin)*a),l=r.margin*a,c=[r.color.light,r.color.dark];for(let t=0;t<s;t++)for(let n=0;n<s;n++){let u=(t*s+n)*4,d=r.color.light;t>=l&&n>=l&&t<s-l&&n<s-l&&(d=c[o[Math.floor((t-l)/a)*i+Math.floor((n-l)/a)]?1:0]),e[u++]=d.r,e[u++]=d.g,e[u++]=d.b,e[u]=d.a}}},699:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(4090),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u=void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),a(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},220:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(4090),i=n(2362),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=a(e,(d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]))[0],d[1]);return l(function(){f.hasValue=!0,f.value=h},[h]),u(h),h}},2362:function(e,t,n){"use strict";e.exports=n(699)},9292:function(e,t,n){"use strict";e.exports=n(220)},7753:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(5507);class i extends r._{constructor(e){super(e),this.constructor=i,Object.setPrototypeOf(this,i.prototype)}}},1417:function(e,t,n){"use strict";n.d(t,{EU:function(){return o},Jg:function(){return i},MA:function(){return s},VL:function(){return c},hj:function(){return d},mP:function(){return a},vC:function(){return l},wW:function(){return u}});var r=n(7753);let i="UserUnAuthenticatedException",o="UserAlreadyAuthenticatedException",a="DeviceMetadataNotFoundException",s="AutoSignInException",l=new r.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),c=new r.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),u="OAuthSignOutException",d="TokenRefreshException"},265:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(7753),i=n(1088);function o(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new r.l({name:i.Z.Unknown,message:"An unknown error has occurred.",underlyingError:e})}},9486:function(e,t,n){"use strict";n.d(t,{sI:function(){return u},_X:function(){return f}});var r,i=n(3853);let o={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails"};var a=n(7753),s=n(4838);(r||(r={})).InvalidAuthTokens="InvalidAuthTokens";let l={[r.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},c=(0,s.$)(l);class u{getKeyValueStorage(){if(!this.keyValueStorage)throw new a.l({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{var e,t,n;let r=await this.getAuthKeys(),o=await this.getKeyValueStorage().getItem(r.accessToken);if(!o)throw new a.l({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let s=(0,i.xp)(o),l=await this.getKeyValueStorage().getItem(r.idToken),c=l?(0,i.xp)(l):void 0,u=null!==(e=await this.getKeyValueStorage().getItem(r.refreshToken))&&void 0!==e?e:void 0,d=null!==(t=await this.getKeyValueStorage().getItem(r.clockDrift))&&void 0!==t?t:"0",f=Number.parseInt(d),h=await this.getKeyValueStorage().getItem(r.signInDetails),p={accessToken:s,idToken:c,refreshToken:u,deviceMetadata:null!==(n=await this.getDeviceMetadata())&&void 0!==n?n:void 0,clockDrift:f,username:await this.getLastAuthUser()};return h&&(p.signInDetails=JSON.parse(h)),p}catch(e){return null}}async storeTokens(e){c(void 0!==e,r.InvalidAuthTokens),await this.clearTokens();let t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken&&await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()),e.refreshToken&&await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails&&await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)),await this.getKeyValueStorage().setItem(n.clockDrift,"".concat(e.clockDrift))}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey())])}async getDeviceMetadata(e){let t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),r=await this.getKeyValueStorage().getItem(t.deviceGroupKey),i=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return i?{deviceKey:null!=n?n:void 0,deviceGroupKey:null!=r?r:void 0,randomPassword:i}:null}async clearDeviceMetadata(e){let t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){var t;(0,i.FG)(null===(t=this.authConfig)||void 0===t?void 0:t.Cognito);let n=null!=e?e:await this.getLastAuthUser();return d(this.name,"".concat(this.authConfig.Cognito.userPoolClientId,".").concat(n))}getLastAuthUserKey(){var e;(0,i.FG)(null===(e=this.authConfig)||void 0===e?void 0:e.Cognito);let t=this.authConfig.Cognito.userPoolClientId;return"".concat(this.name,".").concat(t,".LastAuthUser")}async getLastAuthUser(){var e;return null!==(e=await this.getKeyValueStorage().getItem(this.getLastAuthUserKey()))&&void 0!==e?e:"username"}constructor(){this.name="CognitoIdentityServiceProvider"}}let d=(e,t)=>f(o)("".concat(e),t);function f(e){let t=Object.values({...e});return(e,n)=>t.reduce((t,r)=>({...t,[r]:"".concat(e,".").concat(n,".").concat(r)}),{})}},9723:function(e,t,n){"use strict";let r;n.d(t,{D:function(){return E},C:function(){return S}});var i,o=n(4145),a=n(3853),s=n(8707),l=n(9467),c=n(3822),u=n(7753),d=n(7082);let f=(i=async e=>{var t,n,r;let{tokens:i,authConfig:o,username:f}=e;(0,a.FG)(null==o?void 0:o.Cognito);let h=(0,l.u)(o.Cognito.userPoolId);(0,c.XD)(i);let p=i.refreshToken,g={REFRESH_TOKEN:p};(null===(t=i.deviceMetadata)||void 0===t?void 0:t.deviceKey)&&(g.DEVICE_KEY=i.deviceMetadata.deviceKey);let m=(0,d.u)({username:f,userPoolId:o.Cognito.userPoolId,userPoolClientId:o.Cognito.userPoolClientId}),{AuthenticationResult:v}=await (0,s.Cg)({region:h},{ClientId:null==o?void 0:null===(n=o.Cognito)||void 0===n?void 0:n.userPoolClientId,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:g,UserContextData:m}),y=(0,a.xp)(null!==(r=null==v?void 0:v.AccessToken)&&void 0!==r?r:""),E=(null==v?void 0:v.IdToken)?(0,a.xp)(v.IdToken):void 0,S=y.payload.iat;if(!S)throw new u.l({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:y,idToken:E,clockDrift:1e3*S-new Date().getTime(),refreshToken:p,username:f}},async function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r||(r=new Promise(async(e,n)=>{try{let n=await i(...t);e(n)}catch(e){n(e)}finally{r=void 0}}))});var h=n(9486),p=n(9188),g=n(3825),m=n(265);class v{setAuthConfig(e){this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}setWaitForInflightOAuth(e){this.waitForInflightOAuth=e}getTokenStore(){if(!this.tokenStore)throw new u.l({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new u.l({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){var t,n,r,i,o,s,l,c,u;let d;try{(0,a.FG)(null===(o=this.authConfig)||void 0===o?void 0:o.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),d=await this.getTokenStore().loadTokens();let f=await this.getTokenStore().getLastAuthUser();if(null===d)return null;let h=!!(null==d?void 0:d.idToken)&&(0,g.p)({expiresAt:(null!==(s=null===(n=d.idToken)||void 0===n?void 0:null===(t=n.payload)||void 0===t?void 0:t.exp)&&void 0!==s?s:0)*1e3,clockDrift:null!==(l=d.clockDrift)&&void 0!==l?l:0}),p=(0,g.p)({expiresAt:(null!==(c=null===(i=d.accessToken)||void 0===i?void 0:null===(r=i.payload)||void 0===r?void 0:r.exp)&&void 0!==c?c:0)*1e3,clockDrift:null!==(u=d.clockDrift)&&void 0!==u?u:0});return((null==e?void 0:e.forceRefresh)||h||p)&&null===(d=await this.refreshTokens({tokens:d,username:f}))?null:{accessToken:null==d?void 0:d.accessToken,idToken:null==d?void 0:d.idToken,signInDetails:null==d?void 0:d.signInDetails}}async refreshTokens(e){let{tokens:t,username:n}=e;try{let e=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:n});return await this.setTokens({tokens:e}),p.Xb.dispatch("auth",{event:"tokenRefresh"},"Auth",p.SQ),e}catch(e){return this.handleErrors(e)}}handleErrors(e){if((0,m.R)(e),"Network error"!==e.message&&this.clearTokens(),p.Xb.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",p.SQ),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens(e){let{tokens:t}=e;return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}constructor(){this.waitForInflightOAuth=async()=>{}}}class y{getTokens(){let{forceRefresh:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forceRefresh:!1};return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setWaitForInflightOAuth(e){this.tokenOrchestrator.setWaitForInflightOAuth(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}constructor(){this.authTokenStore=new h.sI,this.authTokenStore.setKeyValueStorage(o.Fm),this.tokenOrchestrator=new v,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(f)}}let E=new y,S=E.tokenOrchestrator},8707:function(e,t,n){"use strict";n.d(t,{Vo:function(){return U},Cq:function(){return F},fI:function(){return R},_f:function(){return A},gF:function(){return _},PR:function(){return M},V3:function(){return k},oe:function(){return O},Cg:function(){return b},S5:function(){return N},H6:function(){return T},PX:function(){return C},y1:function(){return I},fn:function(){return P},tl:function(){return D}});var r=n(7579),i=n(9826),o=n(6046),a=n(9356),s=n(17),l=n(7728),c=n(6759),u=n(6070),d=n(3279),f=n(9464);let h="cognito-idp",p=(0,f.V)(a.y,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),g={service:h,endpointResolver:e=>{var t;let{region:n}=e,r=null===(t=i.d.getConfig().Auth)||void 0===t?void 0:t.Cognito,a=null==r?void 0:r.userPoolEndpoint,s=new u.a("https://".concat(h,".").concat(n,".").concat((0,o.b)(n)));return{url:a?new u.a(a):s}},retryDecider:(0,s.j)(l.f),computeDelay:c.k,userAgentValue:(0,d.Zm)(),cache:"no-store"},m=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityProviderService.".concat(e)}),v=(e,t,n)=>{let{url:r}=e;return{headers:t,url:r,body:n,method:"POST"}};var y=n(265),E=n(7753);let S=e=>(t,n)=>v(n,m(e),JSON.stringify(t)),w=()=>async e=>{if(!(e.statusCode>=300))return await (0,l.e)(e);{let t=await (0,l.f)(e);throw(0,y.R)(t),new E.l({name:t.name,message:t.message})}},x=()=>async e=>{if(e.statusCode>=300){let t=await (0,l.f)(e);throw(0,y.R)(t),new E.l({name:t.name,message:t.message})}},b=(0,r.z)(p,S("InitiateAuth"),w(),g),C=(0,r.z)(p,S("RevokeToken"),w(),g),I=(0,r.z)(p,S("SignUp"),w(),g),A=(0,r.z)(p,S("ConfirmSignUp"),w(),g),_=(0,r.z)(p,S("ForgotPassword"),w(),g),R=(0,r.z)(p,S("ConfirmForgotPassword"),w(),g),T=(0,r.z)(p,S("RespondToAuthChallenge"),w(),g),N=(0,r.z)(p,S("ResendConfirmationCode"),w(),g),P=(0,r.z)(p,S("VerifySoftwareToken"),w(),g),U=(0,r.z)(p,S("AssociateSoftwareToken"),w(),g);(0,r.z)(p,S("SetUserMFAPreference"),w(),g);let M=(0,r.z)(p,S("GetUser"),w(),g);(0,r.z)(p,S("ChangePassword"),w(),g);let F=(0,r.z)(p,S("ConfirmDevice"),w(),g);(0,r.z)(p,S("ForgetDevice"),x(),g),(0,r.z)(p,S("DeleteUser"),x(),g);let k=(0,r.z)(p,S("GetUserAttributeVerificationCode"),w(),g),O=(0,r.z)(p,S("GlobalSignOut"),w(),g);(0,r.z)(p,S("UpdateUserAttributes"),w(),g);let D=(0,r.z)(p,S("VerifyUserAttribute"),w(),g);(0,r.z)(p,S("UpdateDeviceStatus"),w(),g),(0,r.z)(p,S("ListDevices"),w(),g),(0,r.z)(p,S("DeleteUserAttributes"),w(),g)},9467:function(e,t,n){"use strict";n.d(t,{N:function(){return o},u:function(){return i}});var r=n(7753);function i(e){let t=null==e?void 0:e.split("_")[0];if(!e||0>e.indexOf("_")||!t||"string"!=typeof t)throw new r.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function o(e){if(!e||!e.includes(":"))throw new r.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}},3822:function(e,t,n){"use strict";n.d(t,{Bx:function(){return d},CA:function(){return o},Cg:function(){return a},XD:function(){return c},tr:function(){return u}});var r=n(7753),i=n(1417);function o(e){if(!e||!e.accessToken)throw new r.l({name:i.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function a(e){if(!e||!e.idToken)throw new r.l({name:i.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}let s=new r.l({name:i.hj,message:"Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n	Please change your oauth configuration to use 'code grant' flow.",recoverySuggestion:"Please logout and change your Amplify configuration to use \"code grant\" flow. \n	E.g { responseType: 'code' }"}),l=new r.l({name:i.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function c(e){if(f(e)&&!(null==e?void 0:e.refreshToken))throw s;if(!(f(e)&&(null==e?void 0:e.refreshToken)))throw l}function u(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new r.l({name:i.mP,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}let d={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function f(e){return(null==e?void 0:e.accessToken)||(null==e?void 0:e.idToken)}},7082:function(e,t,n){"use strict";function r(e){let{username:t,userPoolId:n,userPoolClientId:r}=e,i=window.AmazonCognitoAdvancedSecurityData;if(void 0===i)return;let o=i.getData(t,n,r);return o?{EncodedData:o}:{}}n.d(t,{u:function(){return r}})},9188:function(e,t,n){"use strict";n.d(t,{SQ:function(){return a},Xb:function(){return c},qC:function(){return u}});var r=n(709),i=n(7046),o=n(5507);let a="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",s=new r.k("Hub");class l{_remove(e,t){let n=this.listeners.get(e);if(!n){s.warn("No listeners for ".concat(e));return}this.listeners.set(e,[...n.filter(e=>{let{callback:n}=e;return n!==t})])}dispatch(e,t,n,r){"string"==typeof e&&this.protectedChannels.indexOf(e)>-1&&r!==a&&s.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences"));let i={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){s.error(e)}}listen(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"noname";if("function"!=typeof t)throw new o._({name:i.z2,message:"No callback supplied to Hub"});let r=this.listeners.get(e);return r||(r=[],this.listeners.set(e,r)),r.push({name:n,callback:t}),()=>{this._remove(e,t)}}_toListeners(e){let{channel:t,payload:n}=e,r=this.listeners.get(t);r&&r.forEach(r=>{s.debug("Dispatching to ".concat(t," with "),n);try{r.callback(e)}catch(e){s.error(e)}})}constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}}let c=new l("__default__"),u=new l("internal-hub")},709:function(e,t,n){"use strict";n.d(t,{k:function(){return s}}),(r=i||(i={})).DEBUG="DEBUG",r.ERROR="ERROR",r.INFO="INFO",r.WARN="WARN",r.VERBOSE="VERBOSE";var r,i,o=n(7046);let a={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};class s{_padding(e){return e<10?"0"+e:""+e}_ts(){let e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e&&(this._config=e),this._config}_log(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let o=this.level;s.LOG_LEVEL&&(o=s.LOG_LEVEL),window.LOG_LEVEL&&(o=window.LOG_LEVEL);let l=a[o];if(!(a[e]>=l))return;let c=console.log.bind(console);e===i.ERROR&&console.error&&(c=console.error.bind(console)),e===i.WARN&&console.warn&&(c=console.warn.bind(console));let u="[".concat(e,"] ").concat(this._ts()," ").concat(this.name),d="";if(1===n.length&&"string"==typeof n[0])c(d="".concat(u," - ").concat(n[0]));else if(1===n.length)d="".concat(u," ").concat(n[0]),c(u,n[0]);else if("string"==typeof n[0]){let e=n.slice(1);1===e.length&&(e=e[0]),d="".concat(u," - ").concat(n[0]," ").concat(e),c("".concat(u," - ").concat(n[0]),e)}else d="".concat(u," ").concat(n),c(u,n);for(let e of this._pluggables){let t={message:d,timestamp:Date.now()};e.pushLogs([t])}}log(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(i.INFO,...t)}info(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(i.INFO,...t)}warn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(i.WARN,...t)}error(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(i.ERROR,...t)}debug(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(i.DEBUG,...t)}verbose(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(i.VERBOSE,...t)}addPluggable(e){e&&e.getCategoryName()===o.YG&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}constructor(e,t=i.WARN){this.name=e,this.level=t,this._pluggables=[]}}s.LOG_LEVEL=null},918:function(e,t,n){"use strict";n.d(t,{D:function(){return o},o:function(){return i}});let r={},i=e=>{var t;r[e.category]=e.apis.reduce((t,n)=>{var r;return{...t,[n]:{refCount:(null===(r=t[n])||void 0===r?void 0:r.refCount)?t[n].refCount+1:1,additionalDetails:e.additionalDetails}}},null!==(t=r[e.category])&&void 0!==t?t:{});let n=!1;return()=>{n||(n=!0,e.apis.forEach(t=>{let n=r[e.category][t].refCount;n>1?r[e.category][t].refCount=n-1:(delete r[e.category][t],Object.keys(r[e.category]).length||delete r[e.category])}))}},o=(e,t)=>{var n,i;return null===(i=r[e])||void 0===i?void 0:null===(n=i[t])||void 0===n?void 0:n.additionalDetails}},2188:function(e,t,n){"use strict";let r;n.d(t,{Cj:function(){return v},QW:function(){return y}});var i=n(8147),o=n(9079);let a=()=>"undefined"!=typeof global,s=()=>!0,l=()=>"undefined"!=typeof document,c=()=>void 0!==o,u=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));var d=n(9079),f=n(9079),h=n(9079);let p=[{platform:i.gQ.Expo,detectionMethod:function(){return a()&&void 0!==global.expo}},{platform:i.gQ.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:i.gQ.NextJs,detectionMethod:function(){return s()&&window.next&&"object"==typeof window.next}},{platform:i.gQ.Nuxt,detectionMethod:function(){return s()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:i.gQ.Angular,detectionMethod:function(){let e=!!(l()&&document.querySelector("[ng-version]")),t=!!(s()&&void 0!==window.ng);return e||t}},{platform:i.gQ.React,detectionMethod:function(){let e=e=>e.startsWith("_react")||e.startsWith("__react");return l()&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:i.gQ.VueJs,detectionMethod:function(){return s()&&u(window,"__VUE")}},{platform:i.gQ.Svelte,detectionMethod:function(){return s()&&u(window,"__SVELTE")}},{platform:i.gQ.WebUnknown,detectionMethod:function(){return s()}},{platform:i.gQ.NextJsSSR,detectionMethod:function(){return a()&&(u(global,"__next")||u(global,"__NEXT"))}},{platform:i.gQ.NuxtSSR,detectionMethod:function(){return a()&&void 0!==global.__NUXT_PATHS__}},{platform:i.gQ.ReactSSR,detectionMethod:function(){return c()&&void 0!==d.env&&!!Object.keys(d.env).find(e=>e.includes("react"))}},{platform:i.gQ.VueJsSSR,detectionMethod:function(){return a()&&u(global,"__VUE")}},{platform:i.gQ.AngularSSR,detectionMethod:function(){var e;return c()&&"object"==typeof h.env&&(null===(e=h.env.npm_lifecycle_script)||void 0===e?void 0:e.startsWith("ng "))||!1}},{platform:i.gQ.SvelteSSR,detectionMethod:function(){return c()&&void 0!==f.env&&!!Object.keys(f.env).find(e=>e.includes("svelte"))}}],g=[],m=!1,v=()=>{if(!r){var e,t;if(r=(null===(e=p.find(e=>e.detectionMethod()))||void 0===e?void 0:e.platform)||i.gQ.ServerSideUnknown,m)for(;g.length;)null===(t=g.pop())||void 0===t||t();else g.forEach(e=>e());E(i.gQ.ServerSideUnknown,10),E(i.gQ.WebUnknown,10)}return r},y=e=>{m||g.push(e)};function E(e,t){r!==e||m||setTimeout(()=>{r=void 0,m=!0,setTimeout(v,1e3)},t)}},3279:function(e,t,n){"use strict";n.d(t,{Zm:function(){return u}});var r=n(8147);let i="6.0.13";var o=n(2188),a=n(918);let s="aws-amplify";class l{get framework(){return(0,o.Cj)()}get isReactNative(){return this.framework===r.gQ.ReactNative||this.framework===r.gQ.Expo}observeFrameworkChanges(e){(0,o.QW)(e)}constructor(){this.userAgent="".concat(s,"/").concat(i)}}new l;let c=function(){let{category:e,action:t,framework:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=[[s,i]];if(e&&r.push([e,t]),r.push(["framework",(0,o.Cj)()]),e&&t){let n=(0,a.D)(e,t);n&&n.forEach(e=>{r.push(e)})}return r},u=e=>c(e).map(e=>{let[t,n]=e;return t&&n?"".concat(t,"/").concat(n):t}).join(" ")},8147:function(e,t,n){"use strict";var r,i,o,a,s,l,c,u,d,f,h,p,g,m,v,y,E,S,w,x,b,C,I,A;n.d(t,{PL:function(){return c},WD:function(){return i},g4:function(){return s},gQ:function(){return r},r7:function(){return g},xf:function(){return u}}),(m=r||(r={})).WebUnknown="0",m.React="1",m.NextJs="2",m.Angular="3",m.VueJs="4",m.Nuxt="5",m.Svelte="6",m.ServerSideUnknown="100",m.ReactSSR="101",m.NextJsSSR="102",m.AngularSSR="103",m.VueJsSSR="104",m.NuxtSSR="105",m.SvelteSSR="106",m.ReactNative="201",m.Expo="202",(v=i||(i={})).API="api",v.Auth="auth",v.Analytics="analytics",v.DataStore="datastore",v.Geo="geo",v.InAppMessaging="inappmessaging",v.Interactions="interactions",v.Predictions="predictions",v.PubSub="pubsub",v.PushNotification="pushnotification",v.Storage="storage",(y=o||(o={})).Record="1",y.IdentifyUser="2",(E=a||(a={})).GraphQl="1",E.Get="2",E.Post="3",E.Put="4",E.Patch="5",E.Del="6",E.Head="7",(S=s||(s={})).SignUp="1",S.ConfirmSignUp="2",S.ResendSignUpCode="3",S.SignIn="4",S.FetchMFAPreference="6",S.UpdateMFAPreference="7",S.SetUpTOTP="10",S.VerifyTOTPSetup="11",S.ConfirmSignIn="12",S.DeleteUserAttributes="15",S.DeleteUser="16",S.UpdateUserAttributes="17",S.FetchUserAttributes="18",S.ConfirmUserAttribute="22",S.SignOut="26",S.UpdatePassword="27",S.ResetPassword="28",S.ConfirmResetPassword="29",S.FederatedSignIn="30",S.RememberDevice="32",S.ForgetDevice="33",S.FetchDevices="34",S.SendUserAttributeVerificationCode="35",S.SignInWithRedirect="36",(w=l||(l={})).Subscribe="1",w.GraphQl="2",(x=c||(c={})).SearchByText="0",x.SearchByCoordinates="1",x.SearchForSuggestions="2",x.SearchByPlaceId="3",x.SaveGeofences="4",x.GetGeofence="5",x.ListGeofences="6",x.DeleteGeofences="7",(b=u||(u={})).SyncMessages="1",b.IdentifyUser="2",b.NotifyMessageInteraction="3",(d||(d={})).None="0",(C=f||(f={})).Convert="1",C.Identify="2",C.Interpret="3",(h||(h={})).Subscribe="1",(I=p||(p={})).InitializePushNotifications="1",I.IdentifyUser="2",(A=g||(g={})).UploadData="1",A.DownloadData="2",A.List="3",A.Copy="4",A.Remove="5",A.GetProperties="6",A.GetUrl="7"},6046:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});let r={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},i={partitions:[r,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},o=e=>{let{partitions:t}=i;for(let{regions:n,outputs:r,regionRegex:i}of t){let t=new RegExp(i);if(n.includes(e)||t.test(e))return r.dnsSuffix}return r.outputs.dnsSuffix}},9356:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var r=n(5881),i=n(8355),o=n(9464),a=n(8174);let s=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),l=async(e,t)=>{var n,r;let i,{url:o,method:l,headers:c,body:u}=e,{abortSignal:d,cache:f,withCrossDomainCredentials:h}=t;try{i=await fetch(o,{method:l,headers:c,body:s(l)?u:void 0,signal:d,cache:f,credentials:h?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw Error("Network error");throw e}let p={};null===(n=i.headers)||void 0===n||n.forEach((e,t)=>{p[t.toLowerCase()]=e});let g={statusCode:i.status,headers:p,body:null},m=Object.assign(null!==(r=i.body)&&void 0!==r?r:{},{text:(0,a.p)(()=>i.text()),blob:(0,a.p)(()=>i.blob()),json:(0,a.p)(()=>i.json())});return{...g,body:m}},c=(0,o.V)(l,[i.a,r.w])},7579:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});let r=(e,t,n,r)=>async(i,o)=>{let a={...r,...i},s=await a.endpointResolver(a,o),l=await t(o,s),c=await e(l,{...a});return await n(c)}},9464:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});let r=(e,t)=>(n,r)=>{let i={},o=t=>e(t,r);for(let e=t.length-1;e>=0;e--)o=(0,t[e])(r)(o,i);return o(n)}},17:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});let r=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],i=e=>!!e&&r.includes(e),o=e=>async(t,n)=>{var r;let o=null!==(r=null!=n?n:await e(t))&&void 0!==r?r:void 0,a=null==o?void 0:o.code,s=null==t?void 0:t.statusCode;return c(n)||l(s,a)||i(a)||u(s,a)},a=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],s=["TimeoutError","RequestTimeout","RequestTimeoutException"],l=(e,t)=>429===e||!!t&&a.includes(t),c=e=>(null==e?void 0:e.name)==="Network error",u=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&s.includes(t)},6759:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});let r=e=>{let t=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e5;return t=>{let n=2**t*100+100*Math.random();return!(n>e)&&n}})(3e5)(e);return!1===t?3e5:t}},5881:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});let r=e=>{let{maxAttempts:t=3,retryDecider:n,computeDelay:r,abortSignal:a}=e;if(t<1)throw Error("maxAttempts must be greater than 0");return(e,s)=>async function(l){var c,u,d;let f,h;let p=null!==(c=s.attemptsCount)&&void 0!==c?c:0,g=()=>{if(h)return o(h,p),h;throw o(f,p),f};for(;!(null==a?void 0:a.aborted)&&p<t;){try{h=await e(l),f=void 0}catch(e){f=e,h=void 0}if(p=(null!==(u=s.attemptsCount)&&void 0!==u?u:0)>p?null!==(d=s.attemptsCount)&&void 0!==d?d:0:p+1,s.attemptsCount=p,!await n(h,f))return g();if(!(null==a?void 0:a.aborted)&&p<t){let e=r(p);await i(e,a)}}if(null==a||!a.aborted)return g();throw Error("Request aborted.")}},i=(e,t)=>{let n,r;if(null==t?void 0:t.aborted)return Promise.resolve();let i=new Promise(t=>{r=t,n=setTimeout(t,e)});return null==t||t.addEventListener("abort",function e(i){clearTimeout(n),null==t||t.removeEventListener("abort",e),r()}),i},o=(e,t)=>{var n;"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...null!==(n=e.$metadata)&&void 0!==n?n:{},attempts:t})}},8355:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});let r=e=>{let{userAgentHeader:t="x-amz-user-agent",userAgentValue:n=""}=e;return e=>async function(r){if(0===n.trim().length)return await e(r);{let i=t.toLowerCase();return r.headers[i]=r.headers[i]?"".concat(r.headers[i]," ").concat(n):n,await e(r)}}}},7728:function(e,t,n){"use strict";n.d(t,{e:function(){return o},f:function(){return i}});var r=n(5610);let i=async e=>{var t,n,i,a,s;if(!e||e.statusCode<300)return;let l=await o(e),c=(e=>{let[t]=e.toString().split(/[\,\:]+/);return t.includes("#")?t.split("#")[1]:t})(null!==(i=null!==(n=null!==(t=e.headers["x-amzn-errortype"])&&void 0!==t?t:l.code)&&void 0!==n?n:l.__type)&&void 0!==i?i:"UnknownError");return Object.assign(Error(null!==(s=null!==(a=l.message)&&void 0!==a?a:l.Message)&&void 0!==s?s:"Unknown error"),{name:c,$metadata:(0,r.B)(e)})},o=async e=>{if(!e.body)throw Error("Missing response payload");return Object.assign(await e.body.json(),{$metadata:(0,r.B)(e)})}},5610:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});let r=e=>{var t,n;let{headers:r,statusCode:o}=e;return{...i(e)?e.$metadata:{},httpStatusCode:o,requestId:null!==(n=null!==(t=r["x-amzn-requestid"])&&void 0!==t?t:r["x-amzn-request-id"])&&void 0!==n?n:r["x-amz-request-id"],extendedRequestId:r["x-amz-id-2"],cfId:r["x-amz-cf-id"]}},i=e=>"object"==typeof(null==e?void 0:e.$metadata)},8174:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});let r=e=>{let t;return()=>(t||(t=e()),t)}},7046:function(e,t,n){"use strict";n.d(t,{Mt:function(){return i},YG:function(){return r},z2:function(){return o}});let r="Logging",i="x-amz-user-agent",o="NoHubcallbackProvidedException"},5507:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});class r extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:i}){super(e),this.name=t,this.underlyingError=i,this.recoverySuggestion=n,this.constructor=r,Object.setPrototypeOf(this,r.prototype)}}},4838:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(5507);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r._;return(n,r,i)=>{let{message:o,recoverySuggestion:a}=e[r];if(!n)throw new t({name:r,message:i?"".concat(o," ").concat(i):o,recoverySuggestion:a})}}},3949:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(709),i=n(5507);let o=new r.k("parseAWSExports"),a={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",LAMBDA:"lambda"},s=function(){var e,t,n,r,s,l,d,f,h,p,g,m,v,y,E;let S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object.prototype.hasOwnProperty.call(S,"aws_project_region"))throw new i._({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:w,aws_appsync_authenticationType:x,aws_appsync_graphqlEndpoint:b,aws_appsync_region:C,aws_bots_config:I,aws_cognito_identity_pool_id:A,aws_cognito_sign_up_verification_method:_,aws_cognito_mfa_configuration:R,aws_cognito_mfa_types:T,aws_cognito_password_protection_settings:N,aws_cognito_verification_mechanisms:P,aws_cognito_signup_attributes:U,aws_cognito_social_providers:M,aws_cognito_username_attributes:F,aws_mandatory_sign_in:k,aws_mobile_analytics_app_id:O,aws_mobile_analytics_app_region:D,aws_user_files_s3_bucket:L,aws_user_files_s3_bucket_region:B,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:V,aws_user_pools_id:j,aws_user_pools_web_client_id:G,geo:z,oauth:H,predictions:W,aws_cloud_logic_custom:q,Notifications:K,modelIntrospection:Y}=S,Q={};O&&(Q.Analytics={Pinpoint:{appId:O,region:D}});let{InAppMessaging:Z,Push:J}=null!=K?K:{};if((null==Z?void 0:Z.AWSPinpoint)||(null==J?void 0:J.AWSPinpoint)){if(null==Z?void 0:Z.AWSPinpoint){let{appId:e,region:t}=Z.AWSPinpoint;Q.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(null==J?void 0:J.AWSPinpoint){let{appId:e,region:t}=J.AWSPinpoint;Q.Notifications={PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(I)&&(Q.Interactions={LexV1:Object.fromEntries(I.map(e=>[e.name,e]))}),b){let e=a[x];e||o.debug("Invalid authentication type ".concat(x,". Falling back to IAM.")),Q.API={GraphQL:{endpoint:b,apiKey:w,region:C,defaultAuthMode:null!=e?e:"iam"}},Y&&(Q.API.GraphQL.modelIntrospection=Y)}let X=R?{status:R&&R.toLowerCase(),totpEnabled:null!==(s=null==T?void 0:T.includes("TOTP"))&&void 0!==s&&s,smsEnabled:null!==(l=null==T?void 0:T.includes("SMS"))&&void 0!==l&&l}:void 0,$=N?{minLength:N.passwordPolicyMinLength,requireLowercase:null!==(d=null===(e=N.passwordPolicyCharacters)||void 0===e?void 0:e.includes("REQUIRES_LOWERCASE"))&&void 0!==d&&d,requireUppercase:null!==(f=null===(t=N.passwordPolicyCharacters)||void 0===t?void 0:t.includes("REQUIRES_UPPERCASE"))&&void 0!==f&&f,requireNumbers:null!==(h=null===(n=N.passwordPolicyCharacters)||void 0===n?void 0:n.includes("REQUIRES_NUMBERS"))&&void 0!==h&&h,requireSpecialCharacters:null!==(p=null===(r=N.passwordPolicyCharacters)||void 0===r?void 0:r.includes("REQUIRES_SYMBOLS"))&&void 0!==p&&p}:void 0,ee=Array.from(new Set([...null!=P?P:[],...null!=U?U:[]])).reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),et=null!==(g=null==F?void 0:F.includes("EMAIL"))&&void 0!==g&&g,en=null!==(m=null==F?void 0:F.includes("PHONE_NUMBER"))&&void 0!==m&&m;(A||j)&&(Q.Auth={Cognito:{identityPoolId:A,allowGuestAccess:"enable"!==k,signUpVerificationMethod:_,userAttributes:ee,userPoolClientId:G,userPoolId:j,mfa:X,passwordFormat:$,loginWith:{username:!et&&!en,email:et,phone:en}}});let er=!!H&&Object.keys(H).length>0,ei=!!M&&M.length>0;if(Q.Auth&&er&&(Q.Auth.Cognito.loginWith={...Q.Auth.Cognito.loginWith,oauth:{...c(H),...ei&&{providers:u(M)}}}),L&&(Q.Storage={S3:{bucket:L,region:B,dangerouslyConnectToHttpEndpointForTesting:V}}),z){let{amazon_location_service:e}=z;Q.Geo=e?{LocationService:{...e,searchIndices:e.search_indices,region:e.region}}:{...z}}if(q&&(Q.API={...Q.API,REST:q.reduce((e,t)=>{let{name:n,endpoint:r,region:i,service:o}=t;return{...e,[n]:{endpoint:r,...o?{service:o}:void 0,...i?{region:i}:void 0}}},{})}),W){let{VoiceId:e}=null!==(E=null==W?void 0:null===(y=W.convert)||void 0===y?void 0:null===(v=y.speechGenerator)||void 0===v?void 0:v.defaults)&&void 0!==E?E:{};Q.Predictions=e?{...W,convert:{...W.convert,speechGenerator:{...W.convert.speechGenerator,defaults:{voiceId:e}}}}:W}return Q},l=e=>{var t;return null!==(t=null==e?void 0:e.split(","))&&void 0!==t?t:[]},c=e=>{let{domain:t,scope:n,redirectSignIn:r,redirectSignOut:i,responseType:o}=e;return{domain:t,scopes:n,redirectSignIn:l(r),redirectSignOut:l(i),responseType:o}},u=e=>e.map(e=>{let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)})},9826:function(e,t,n){"use strict";n.d(t,{d:function(){return c}});var r=n(3825),i=n(9188),o=n(3949);let a=e=>{for(let t of Reflect.ownKeys(e)){let n=e[t];(n&&"object"==typeof n||"function"==typeof n)&&a(n)}return Object.freeze(e)};var s=n(1291);class l{configure(e,t){let n;n=Object.keys(e).some(e=>e.startsWith("aws_"))?(0,o.h)(e):e,this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=a(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),i.Xb.dispatch("core",{event:"configure",data:e},"Configure",i.SQ),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[s.w](e){var t,n,r;(null===(n=this.resourcesConfig.Auth)||void 0===n?void 0:null===(t=n.Cognito.loginWith)||void 0===t?void 0:t.oauth)?e(null===(r=this.resourcesConfig.Auth)||void 0===r?void 0:r.Cognito):this.oAuthListener=e}notifyOAuthListener(){var e,t,n;(null===(t=this.resourcesConfig.Auth)||void 0===t?void 0:null===(e=t.Cognito.loginWith)||void 0===e?void 0:e.oauth)&&this.oAuthListener&&(this.oAuthListener(null===(n=this.resourcesConfig.Auth)||void 0===n?void 0:n.Cognito),this.oAuthListener=void 0)}constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new r.i}}let c=new l},3825:function(e,t,n){"use strict";function r(e){let{expiresAt:t,clockDrift:n}=e;return Date.now()+n>t}n.d(t,{i:function(){return i},p:function(){return r}});class i{configure(e,t){this.authConfig=e,this.authOptions=t}async fetchAuthSession(){var e,t,n,r,i,o;let a,s,l,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(a=await this.getTokens(c))?(l=null===(t=a.accessToken)||void 0===t?void 0:null===(e=t.payload)||void 0===e?void 0:e.sub,s=await (null===(r=this.authOptions)||void 0===r?void 0:null===(n=r.credentialsProvider)||void 0===n?void 0:n.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:a,authenticated:!0,forceRefresh:c.forceRefresh}))):s=await (null===(o=this.authOptions)||void 0===o?void 0:null===(i=o.credentialsProvider)||void 0===i?void 0:i.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:c.forceRefresh})),{tokens:a,credentials:null==s?void 0:s.credentials,identityId:null==s?void 0:s.identityId,userSub:l}}async clearCredentials(){var e;if(null===(e=this.authOptions)||void 0===e?void 0:e.credentialsProvider)return await this.authOptions.credentialsProvider.clearCredentialsAndIdentityId()}async getTokens(e){var t,n,r;return null!==(r=await (null===(n=this.authOptions)||void 0===n?void 0:null===(t=n.tokenProvider)||void 0===t?void 0:t.getTokens(e)))&&void 0!==r?r:void 0}constructor(){}}},3853:function(e,t,n){"use strict";n.d(t,{YE:function(){return d},V0:function(){return u},FG:function(){return c},xp:function(){return f}});var r,i,o=n(4838);(r=i||(i={})).AuthTokenConfigException="AuthTokenConfigException",r.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",r.AuthUserPoolException="AuthUserPoolException",r.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",r.OAuthNotConfigureException="OAuthNotConfigureException";let a={[i.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[i.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[i.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[i.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[i.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},s=(0,o.$)(a);var l=n(4494);function c(e){return s(!!e&&!!e.userPoolId&&!!e.userPoolClientId,i.AuthUserPoolException)}function u(e){var t,n,r,o,a,l,c,u;return s(!!(null==e?void 0:null===(n=e.loginWith)||void 0===n?void 0:null===(t=n.oauth)||void 0===t?void 0:t.domain)&&!!(null==e?void 0:null===(o=e.loginWith)||void 0===o?void 0:null===(r=o.oauth)||void 0===r?void 0:r.redirectSignOut)&&!!(null==e?void 0:null===(l=e.loginWith)||void 0===l?void 0:null===(a=l.oauth)||void 0===a?void 0:a.redirectSignIn)&&!!(null==e?void 0:null===(u=e.loginWith)||void 0===u?void 0:null===(c=u.oauth)||void 0===c?void 0:c.responseType),i.OAuthNotConfigureException)}function d(e){return s(!!(null==e?void 0:e.identityPoolId),i.InvalidIdentityPoolIdException)}function f(e){let t=e.split(".");if(3!==t.length)throw Error("Invalid token");try{let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(l.$.convert(n).split("").map(e=>"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))).join("")),i=JSON.parse(r);return{toString:()=>e,payload:i}}catch(e){throw Error("Invalid token payload")}}},1291:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});let r=Symbol("oauth-listener")},4145:function(e,t,n){"use strict";n.d(t,{Fm:function(){return f}});var r=n(1088),i=n(5507);class o extends i._{constructor(){super({name:r.Z.PlatformNotSupported,message:"Function not supported on current platform"})}}class a{async setItem(e,t){if(!this.storage)throw new o;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new o;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new o;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new o;this.storage.clear()}constructor(e){this.storage=e}}class s{get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){var t;return null!==(t=this.storage.get(e))&&void 0!==t?t:null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}constructor(){this.storage=new Map}}let l=()=>window.localStorage?window.localStorage:new s,c=()=>window.sessionStorage?window.sessionStorage:new s;class u extends a{constructor(){super(l())}}class d extends a{constructor(){super(c())}}let f=new u;new d,new a(new s)},1088:function(e,t,n){"use strict";var r,i;n.d(t,{Z:function(){return r}}),(i=r||(r={})).NoEndpointId="NoEndpointId",i.PlatformNotSupported="PlatformNotSupported",i.Unknown="Unknown"},6070:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});let r=URL},4494:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(2307);let i={convert:e=>(0,r.tl)()(e)}},2307:function(e,t,n){"use strict";n.d(t,{Ds:function(){return o},MX:function(){return i},tl:function(){return a}});var r=n(5507);let i=()=>{if("object"==typeof window.crypto)return window.crypto;if("object"==typeof crypto)return crypto;throw new r._({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},o=()=>{if("function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new r._({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},a=()=>{if("function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new r._({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})}},8793:function(e,t,n){"use strict";n.d(t,{G:function(){return eZ}});var r,i,o=n(9826);(r=i||(i={})).NoCredentials="NoCredentials",r.NoIdentityId="NoIdentityId",r.NoKey="NoKey",r.NoSourceKey="NoSourceKey",r.NoDestinationKey="NoDestinationKey",r.NoBucket="NoBucket",r.NoRegion="NoRegion",r.UrlExpirationMaxLimitExceed="UrlExpirationMaxLimitExceed",r.ObjectIsTooLarge="ObjectIsTooLarge",r.InvalidUploadSource="InvalidUploadSource";let a={[i.NoCredentials]:{message:"Credentials should not be empty."},[i.NoIdentityId]:{message:"Missing identity ID when accessing objects in protected or private access level."},[i.NoKey]:{message:"Missing key in api call."},[i.NoSourceKey]:{message:"Missing source key in copy api call."},[i.NoDestinationKey]:{message:"Missing destination key in copy api call."},[i.NoBucket]:{message:"Missing bucket name while accessing object."},[i.NoRegion]:{message:"Missing region while accessing object."},[i.UrlExpirationMaxLimitExceed]:{message:"Url Expiration can not be greater than 7 Days."},[i.ObjectIsTooLarge]:{message:"Object size cannot not be greater than 5TB."},[i.InvalidUploadSource]:{message:"Upload source type can only be a `Blob`, `File`, `ArrayBuffer`, or `string`."}};var s=n(5610);let l="X-Amz-Date",c="X-Amz-Security-Token",u="host",d=l.toLowerCase(),f=c.toLowerCase(),h="aws4_request",p="AWS4-HMAC-SHA256",g="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",m=(e,t,n)=>"".concat(e,"/").concat(t,"/").concat(n,"/").concat(h),v=e=>{let t=e.toISOString().replace(/[:\-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}},y=e=>{let{credentials:t,signingDate:n=new Date,signingRegion:r,signingService:i,uriEscapePath:o=!0}=e,{accessKeyId:a,secretAccessKey:s,sessionToken:l}=t,{longDate:c,shortDate:u}=v(n);return{accessKeyId:a,credentialScope:m(u,r,i),longDate:c,secretAccessKey:s,sessionToken:l,shortDate:u,signingRegion:r,signingService:i,uriEscapePath:o}};var E=n(146),S=n(2004);let w=(e,t)=>{let n=new E.f(null!=e?e:void 0);return n.update(t),n.digestSync()},x=(e,t)=>{let n=w(e,t);return(0,S.N)(n)},b=e=>Object.entries(e).map(e=>{var t;let[n,r]=e;return{key:n.toLowerCase(),value:null!==(t=null==r?void 0:r.trim().replace(/\s+/g," "))&&void 0!==t?t:""}}).sort((e,t)=>e.key<t.key?-1:1).map(e=>"".concat(e.key,":").concat(e.value,"\n")).join(""),C=e=>Array.from(e).sort((e,t)=>{let[n,r]=e,[i,o]=t;return n===i?r<o?-1:1:n<i?-1:1}).map(e=>{let[t,n]=e;return"".concat(I(t),"=").concat(I(n))}).join("&"),I=e=>encodeURIComponent(e).replace(/[!'()*]/g,A),A=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase()),_=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/"},R=e=>null==e?g:T(e)?x(null,e):"UNSIGNED-PAYLOAD",T=e=>"string"==typeof e||ArrayBuffer.isView(e)||N(e),N=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),P=e=>Object.keys(e).map(e=>e.toLowerCase()).sort().join(";"),U=function(e){let{body:t,headers:n,method:r,url:i}=e,o=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return[r,_(i.pathname,o),C(i.searchParams),b(n),P(n),R(t)].join("\n")},M=(e,t,n,r)=>{let i=w("".concat("AWS4").concat(e),t),o=w(i,n),a=w(o,r);return w(a,h)},F=(e,t,n)=>[p,e,t,n].join("\n"),k=(e,t)=>{let{credentialScope:n,longDate:r,secretAccessKey:i,shortDate:o,signingRegion:a,signingService:s,uriEscapePath:l}=t,c=F(r,n,x(null,U(e,l)));return x(M(i,o,a,s),c)};var O=n(6070);let D=(e,t)=>{let{body:n,method:r="GET",url:i}=e,{expiration:o,...a}=t,s=y(a),{accessKeyId:d,credentialScope:f,longDate:h,sessionToken:g}=s,m=new O.a(i);Object.entries({"X-Amz-Algorithm":p,"X-Amz-Credential":"".concat(d,"/").concat(f),[l]:h,"X-Amz-SignedHeaders":u,...o&&{"X-Amz-Expires":o.toString()},...g&&{[c]:g}}).forEach(e=>{let[t,n]=e;m.searchParams.append(t,n)});let v=k({body:n,headers:{[u]:i.host},method:r,url:m},s);return m.searchParams.append("X-Amz-Signature",v),m};var L=n(7579),B=n(3279),V=n(6046),j=n(17),G=n(6759);let z={parse:e=>{let t=H(new DOMParser().parseFromString(e,"text/xml")),n=Object.keys(t)[0];return t[n]}},H=e=>{var t,n;if(q(e))return{[e.documentElement.nodeName]:H(e.documentElement)};if(e.nodeType===Node.TEXT_NODE)return null===(t=e.nodeValue)||void 0===t?void 0:t.trim();if(W(e)){if(K(e))return null===(n=e.childNodes[0])||void 0===n?void 0:n.nodeValue;let t={};for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];Q(r.nodeName)||(t[r.nodeName]=r.nodeValue)}if(e.children.length>0)for(let n=0;n<e.children.length;n++){let r=e.children[n],i=H(r);if(void 0===i)continue;let o=r.nodeName;void 0===t[o]?t[o]=i:Array.isArray(t[o])?t[o].push(i):t[o]=[t[o],i]}return 0===Object.keys(t).length?"":t}},W=e=>e.nodeType===Node.ELEMENT_NODE,q=e=>e.nodeType===Node.DOCUMENT_NODE,K=e=>{var t;return Y(e)&&0===e.children.length&&(null===(t=e.firstChild)||void 0===t?void 0:t.nodeType)===Node.TEXT_NODE},Y=e=>{for(let t=0;t<e.attributes.length;t++)if(!Q(e.attributes[t].nodeName))return!1;return!0},Q=e=>"xmlns"===e||e.startsWith("xmlns:");n(8606);let Z=async e=>{var t,n;if(!e||e.statusCode<300)return;let{statusCode:r}=e,i=await J(e),o=(null==i?void 0:i.Code)?i.Code:404===r?"NotFound":r.toString();return Object.assign(Error(null!==(n=null!==(t=null==i?void 0:i.message)&&void 0!==t?t:null==i?void 0:i.Message)&&void 0!==n?n:o),{name:o,$metadata:(0,s.B)(e)})},J=async e=>{if(!e.body)throw Error("S3 aborted request.");let t=await e.body.text();if((null==t?void 0:t.length)>0)try{return z.parse(t)}catch(e){throw Error("Failed to parse XML response.")}return{}};n(2221),n(2805);let X=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,$=/(\d+\.){3}\d+/,ee=/\.\./,et=e=>X.test(e)&&!$.test(e)&&!ee.test(e),en={service:"s3",endpointResolver:(e,t)=>{let n;let{region:r,useAccelerateEndpoint:i,customEndpoint:o,forcePathStyle:a}=e;if(o)n=new O.a(o);else if(i){if(a)throw Error("Path style URLs are not supported with S3 Transfer Acceleration.");n=new O.a("https://s3-accelerate.".concat((0,V.b)(r)))}else n=new O.a("https://s3.".concat(r,".").concat((0,V.b)(r)));if(null==t?void 0:t.Bucket){if(!et(t.Bucket))throw Error('Invalid bucket name: "'.concat(t.Bucket,'".'));a||t.Bucket.includes(".")?n.pathname="/".concat(t.Bucket):n.host="".concat(t.Bucket,".").concat(n.host)}return{url:n}},retryDecider:(0,j.j)(Z),computeDelay:G.k,userAgentValue:(0,B.Zm)(),useAccelerateEndpoint:!1,uriEscapePath:!1},er="Network Error",ei="Request aborted",eo="x-amz-content-sha256";var ea=n(8355),es=n(5881);let el=(e,t)=>{let n=y(t),{accessKeyId:r,credentialScope:i,longDate:o,sessionToken:a}=n,s={...e.headers};s[u]=e.url.host,s[d]=o,a&&(s[f]=a);let l={...e,headers:s},c=k(l,n),h="Credential=".concat(r,"/").concat(i),g="SignedHeaders=".concat(P(s));return s.authorization="".concat(p," ").concat(h,", ").concat(g,", ").concat("Signature=".concat(c)),l},ec=e=>new Date(Date.now()+e),eu=(e,t)=>Math.abs(ec(t).getTime()-e)>=3e5,ed=(e,t)=>eu(e,t)?e-Date.now():t,ef=function(){var e,t;let{headers:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!==(t=null!==(e=null==n?void 0:n.date)&&void 0!==e?e:null==n?void 0:n.Date)&&void 0!==t?t:null==n?void 0:n["x-amz-date"]};var eh=n(9464),ep=n(8174),eg=n(709),em=n(5507);class ev extends em._{constructor(e){super(e),this.constructor=ev,Object.setPrototypeOf(this,ev.prototype)}}class ey extends ev{constructor(e={}){super({name:"CanceledError",message:"Upload is canceled by user",...e}),this.constructor=ey,Object.setPrototypeOf(this,ey.prototype)}}let eE=new eg.k("xhr-http-handler"),eS=e=>({transferredBytes:e.loaded,totalBytes:e.lengthComputable?e.total:void 0}),ew=(e,t)=>{let n=Error(e);return n.name=t,n},ex=e=>e?e.split("\r\n").reduce((e,t)=>{let n=t.split(": "),r=n.shift(),i=n.join(": ");return e[r.toLowerCase()]=i,e},{}):{},eb=e=>{let t=new FileReader;return new Promise((n,r)=>{t.onloadend=()=>{t.readyState===FileReader.DONE&&n(t.result)},t.onerror=()=>{r(t.error)},t.readAsText(e)})},eC=["host"],eI=(0,eh.V)((e,t)=>{let{url:n,method:r,headers:i,body:o}=e,{onDownloadProgress:a,onUploadProgress:s,responseType:l,abortSignal:c}=t;return new Promise((e,t)=>{let u=new XMLHttpRequest;if(u.open(r.toUpperCase(),n.toString()),Object.entries(i).filter(e=>{let[t]=e;return!eC.includes(t)}).forEach(e=>{let[t,n]=e;u.setRequestHeader(t,n)}),u.responseType=l,a&&u.addEventListener("progress",e=>{a(eS(e)),eE.debug(e)}),s&&u.upload.addEventListener("progress",e=>{s(eS(e)),eE.debug(e)}),u.addEventListener("error",()=>{let e=ew(er,"ECONNABORTED");eE.error(er),t(e),u=null}),u.addEventListener("abort",()=>{if(!u||(null==c?void 0:c.aborted))return;let e=ew(ei,"ERR_ABORTED");eE.error(ei),t(e),u=null}),u.addEventListener("readystatechange",()=>{u&&u.readyState===u.DONE&&setTimeout(()=>{if(!u)return;let t=ex(u.getAllResponseHeaders()),n=u.responseType,r=u.response,i="text"===n?u.responseText:"",o={blob:()=>Promise.resolve(r),text:(0,ep.p)(()=>"blob"===n?eb(r):Promise.resolve(i)),json:()=>Promise.reject(Error("Parsing response to JSON is not implemented. Please use response.text() instead."))};e({statusCode:u.status,headers:t,body:"blob"===u.responseType?Object.assign(r,o):o}),u=null})}),c){let e=()=>{u&&(t(new ey({name:"ERR_CANCELED",message:"canceled"})),u.abort(),u=null)};c.aborted?e():c.addEventListener("abort",e)}if("function"==typeof ReadableStream&&o instanceof ReadableStream)throw Error("ReadableStream request payload is not supported.");u.send(null!=o?o:null)})},[e=>e=>async function(t){if(t.headers[eo])return e(t);{let n=await R(t.body);return t.headers[eo]=n,e(t)}},ea.a,es.w,e=>{let t,{credentials:n,region:r,service:i,uriEscapePath:o=!0}=e;return e=>async function(a){t=null!=t?t:0;let s={credentials:"function"==typeof n?await n():n,signingDate:ec(t),signingRegion:r,signingService:i,uriEscapePath:o},l=await el(a,s),c=await e(l),u=ef(c);return u&&(t=ed(Date.parse(u),t)),c}}]),eA=(e,t)=>{let n={};for(let[r,i]of Object.entries(t)){let[t,o]=Array.isArray(i)?i:[i];e.hasOwnProperty(t)&&(n[r]=o?o(e[t]):String(e[t]))}return n},e_=e=>e?Number(e):void 0,eR=e=>e?"true"===e:void 0,eT=e=>e?new Date(e):void 0,eN=e=>{let t="x-amz-meta-",n=Object.keys(e).filter(e=>e.startsWith(t)).reduce((n,r)=>(n[r.replace(t,"")]=e[r],n),{});return Object.keys(n).length>0?n:void 0},eP=(e,t)=>{let n=new ev({name:e.name,message:e.message});return 404===t&&(n.recoverySuggestion="Please add the object with this key to the bucket as the key is not found."),n},eU=e=>encodeURIComponent(e).replace(/[!'()*]/g,eM),eM=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase());var eF=n(1088);let ek=(e,t)=>e.pathname.replace(/\/$/,"")+"/".concat(t.split("/").map(eU).join("/"));function eO(e,t){if(!e)throw new ev({name:eF.Z.Unknown,message:"An unknown error has occurred.",underlyingError:TypeError("Expected a non-null value for S3 parameter ".concat(t)),recoverySuggestion:"This is likely to be a bug. Please reach out to library authors."})}let eD=async(e,t)=>{let n=new O.a(t.url.toString());return eO(!!e.Key,"Key"),n.pathname=ek(n,e.Key),{method:"GET",headers:{...e.Range&&{Range:e.Range}},url:n}},eL=async e=>{if(!(e.statusCode>=300))return{...eA(e.headers,{DeleteMarker:["x-amz-delete-marker",eR],AcceptRanges:"accept-ranges",Expiration:"x-amz-expiration",Restore:"x-amz-restore",LastModified:["last-modified",eT],ContentLength:["content-length",e_],ETag:"etag",ChecksumCRC32:"x-amz-checksum-crc32",ChecksumCRC32C:"x-amz-checksum-crc32c",ChecksumSHA1:"x-amz-checksum-sha1",ChecksumSHA256:"x-amz-checksum-sha256",MissingMeta:["x-amz-missing-meta",e_],VersionId:"x-amz-version-id",CacheControl:"cache-control",ContentDisposition:"content-disposition",ContentEncoding:"content-encoding",ContentLanguage:"content-language",ContentRange:"content-range",ContentType:"content-type",Expires:["expires",eT],WebsiteRedirectLocation:"x-amz-website-redirect-location",ServerSideEncryption:"x-amz-server-side-encryption",SSECustomerAlgorithm:"x-amz-server-side-encryption-customer-algorithm",SSECustomerKeyMD5:"x-amz-server-side-encryption-customer-key-md5",SSEKMSKeyId:"x-amz-server-side-encryption-aws-kms-key-id",BucketKeyEnabled:["x-amz-server-side-encryption-bucket-key-enabled",eR],StorageClass:"x-amz-storage-class",RequestCharged:"x-amz-request-charged",ReplicationStatus:"x-amz-replication-status",PartsCount:["x-amz-mp-parts-count",e_],TagCount:["x-amz-tagging-count",e_],ObjectLockMode:"x-amz-object-lock-mode",ObjectLockRetainUntilDate:["x-amz-object-lock-retain-until-date",eT],ObjectLockLegalHoldStatus:"x-amz-object-lock-legal-hold"}),Metadata:eN(e.headers),$metadata:(0,s.B)(e),Body:e.body};throw eP(await Z(e),e.statusCode)};(0,L.z)(eI,eD,eL,{...en,responseType:"blob"});let eB=async(e,t)=>{let n=en.endpointResolver(e,t),{url:r,headers:i,method:o}=await eD(t,n);if(r.searchParams.append(eo,g),e.userAgentValue){var a;r.searchParams.append(null!==(a=e.userAgentHeader)&&void 0!==a?a:"x-amz-user-agent",e.userAgentValue)}for(let[e,t]of Object.entries(i).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}))r.searchParams.append(e,t);return D({method:o,url:r,body:void 0},{signingService:en.service,signingRegion:e.region,...en,...e})};var eV=n(8147);function ej(e,t){let{message:n,recoverySuggestion:r}=a[t];if(!e)throw new ev({name:t,message:n,recoverySuggestion:r})}n(6930),n(3880);let eG=e=>{let{accessLevel:t,targetIdentityId:n}=e;return"private"===t?(ej(!!n,i.NoIdentityId),"private/".concat(n,"/")):"protected"===t?(ej(!!n,i.NoIdentityId),"protected/".concat(n,"/")):"public/"},ez=async(e,t)=>{var n,r,o,a,s,l,c,u,d;let{credentials:f,identityId:h}=await e.Auth.fetchAuthSession({forceRefresh:!1});ej(!!f,i.NoCredentials),ej(!!h,i.NoIdentityId);let{bucket:p,region:g,dangerouslyConnectToHttpEndpointForTesting:m}=null!==(s=null===(r=e.getConfig())||void 0===r?void 0:null===(n=r.Storage)||void 0===n?void 0:n.S3)&&void 0!==s?s:{};ej(!!p,i.NoBucket),ej(!!g,i.NoRegion);let{defaultAccessLevel:v,prefixResolver:y=eG,isObjectLockEnabled:E}=null!==(l=null===(a=e.libraryOptions)||void 0===a?void 0:null===(o=a.Storage)||void 0===o?void 0:o.S3)&&void 0!==l?l:{},S=await y({accessLevel:null!==(u=null!==(c=null==t?void 0:t.accessLevel)&&void 0!==c?c:v)&&void 0!==u?u:"guest",targetIdentityId:(null==t?void 0:t.accessLevel)==="protected"&&null!==(d=null==t?void 0:t.targetIdentityId)&&void 0!==d?d:h});return{s3Config:{credentials:f,region:g,useAccelerateEndpoint:null==t?void 0:t.useAccelerateEndpoint,...m?{customEndpoint:"http://localhost:20005",forcePathStyle:!0}:{}},bucket:p,keyPrefix:S,isObjectLockEnabled:E}},eH=new eg.k("Storage"),eW=async(e,t)=>{let n=new O.a(t.url.toString());return eO(!!e.Key,"Key"),n.pathname=ek(n,e.Key),{method:"HEAD",headers:{},url:n}},eq=async e=>{if(e.statusCode>=300)throw eP(await Z(e),e.statusCode);{let t={...eA(e.headers,{ContentLength:["content-length",e_],ContentType:"content-type",ETag:"etag",LastModified:["last-modified",eT],VersionId:"x-amz-version-id"}),Metadata:eN(e.headers)};return{$metadata:(0,s.B)(e),...t}}},eK=(0,L.z)(eI,eW,eq,{...en,responseType:"text"}),eY=async function(e,t,n){var r;let{key:i,options:o}=t,{s3Config:a,bucket:s,keyPrefix:l}=await ez(e,o),c="".concat(l).concat(i);eH.debug("get properties of ".concat(i," from ").concat(c));let u=await eK({...a,userAgentValue:(r=null!=n?n:eV.r7.GetProperties,(0,B.Zm)({category:eV.WD.Storage,action:r}))},{Bucket:s,Key:c});return{key:i,contentType:u.ContentType,size:u.ContentLength,eTag:u.ETag,lastModified:u.LastModified,metadata:u.Metadata,versionId:u.VersionId}},eQ=async function(e,t){var n,r;let{key:o,options:a}=t;(null==a?void 0:a.validateObjectExistence)&&await eY(e,{key:o,options:a},eV.r7.GetUrl);let{s3Config:s,keyPrefix:l,bucket:c}=await ez(e,a),u=null!==(r=null==a?void 0:a.expiresIn)&&void 0!==r?r:900,d=null===(n=s.credentials)||void 0===n?void 0:n.expiration;return d&&(u=Math.min(Math.floor((d.getTime()-Date.now())/1e3),u)),ej(u<=604800,i.UrlExpirationMaxLimitExceed),{url:await eB({...s,expiration:u},{Bucket:c,Key:"".concat(l).concat(o)}),expiresAt:new Date(Date.now()+1e3*u)}},eZ=e=>eQ(o.d,e)},3604:function(e,t,n){"use strict";let r,i,o,a,s;n.d(t,{_:function(){return l5}});var l,c,u,d,f,h,p,g,m,v,y,E,S,w,x,b,C,I,A,_,R,T,N,P,U,M,F,k,O,D,L,B,V,j,G,z,H,W,q,K,Y,Q,Z,J,X,$,ee,et,en,er,ei,eo,ea,es,el,ec,eu,ed,ef,eh,ep,eg,em,ev,ey,eE,eS,ew,ex,eb,eC,eI={};n.r(eI),n.d(eI,{e4:function(){return nk},assign:function(){return nF},al:function(){return nP},choose:function(){return nV},aT:function(){return nO},Sl:function(){return nD},vU:function(){return nL},Tn:function(){return nB},o$:function(){return nC},bf:function(){return nb},OU:function(){return nR},yC:function(){return nG},lW:function(){return nT},xc:function(){return nN},BL:function(){return nU},stop:function(){return nM},Q8:function(){return nI},AE:function(){return nA},XA:function(){return n_}});var eA=n(4090),e_=n.t(eA,2),eR=n(6373),eT=n(9292),eN=eA.useLayoutEffect,eP=function(e,t){return e===t},eU=function(e,t){if("state"in e&&"machine"in e){if(0===e.status&&t.current)return t.current;var n=0!==e.status?e.getSnapshot():e.machine.initialState;return t.current=0===e.status?n:null,n}return"state"in e?e.state:void 0};let eM=e=>{var t;return null===(t=e.context.actorRef)||void 0===t?void 0:t.getSnapshot()},eF=e=>{var t;return null===(t=eM(e))||void 0===t?void 0:t.context},ek=(e,t)=>{if(null==t?void 0:t.matches("federatedSignIn")){if(e.matches("signUpActor"))return"signUp";if(e.matches("signInActor"))return"signIn"}switch(!0){case e.matches("idle"):return"idle";case e.matches("setup"):return"setup";case e.matches("signOut"):return"signOut";case e.matches("authenticated"):return"authenticated";case null==t?void 0:t.matches("confirmSignUp"):case null==t?void 0:t.matches("resendSignUpCode"):return"confirmSignUp";case null==t?void 0:t.matches("confirmSignIn"):return"confirmSignIn";case null==t?void 0:t.matches("setupTotp.edit"):case null==t?void 0:t.matches("setupTotp.submit"):return"setupTotp";case null==t?void 0:t.matches("signIn"):return"signIn";case null==t?void 0:t.matches("signUp"):case null==t?void 0:t.matches("autoSignIn"):return"signUp";case null==t?void 0:t.matches("forceChangePassword"):return"forceNewPassword";case null==t?void 0:t.matches("forgotPassword"):return"forgotPassword";case null==t?void 0:t.matches("confirmResetPassword"):return"confirmResetPassword";case null==t?void 0:t.matches("selectUserAttributes"):return"verifyUser";case null==t?void 0:t.matches("confirmVerifyUserAttribute"):return"confirmVerifyUser";case e.matches("getCurrentUser"):case null==t?void 0:t.matches("fetchUserAttributes"):return"transition";default:return null}},eO=e=>{let t=t=>n=>e({type:t,data:n});return{initializeMachine:t("INIT"),resendCode:t("RESEND"),signOut:t("SIGN_OUT"),submitForm:t("SUBMIT"),updateForm:t("CHANGE"),updateBlur:t("BLUR"),toFederatedSignIn:t("FEDERATED_SIGN_IN"),toForgotPassword:t("FORGOT_PASSWORD"),toSignIn:t("SIGN_IN"),toSignUp:t("SIGN_UP"),skipVerification:t("SKIP")}},eD=e=>{var t,n,r,i,o;let a=null!==(r=eF(e))&&void 0!==r?r:{},{challengeName:s,codeDeliveryDetails:l,remoteError:c,validationError:u,totpSecretCode:d=null,unverifiedUserAttributes:f,username:h}=a,{socialProviders:p=[]}=null!==(i=null===(t=e.context)||void 0===t?void 0:t.config)&&void 0!==i?i:{},g=null!==(o=null==a?void 0:a.user)&&void 0!==o?o:null===(n=e.context)||void 0===n?void 0:n.user,m=!!(u&&Object.keys(u).length>0),v=eM(e),y=e.hasTag("pending")||(null==v?void 0:v.hasTag("pending")),E=ek(e,v);return{authStatus:(e=>{switch(e){case"idle":case"setup":return"configuring";case"authenticated":return"authenticated";default:return"unauthenticated"}})(E),challengeName:s,codeDeliveryDetails:l,error:c,hasValidationErrors:m,isPending:y,route:E,socialProviders:p,totpSecretCode:d,unverifiedUserAttributes:f,user:g,username:h,validationErrors:u}},eL=e=>{let{send:t,state:n}=e,r=eO(t),i=eD(n);return{...r,...i}},eB=eA.createContext(null),eV=["username","email","phone_number","birthdate","email","family_name","given_name","middle_name","name","nickname","phone_number","preferred_username","profile","website","confirmation_code","password","confirm_password"],ej=e=>eV.includes(e),eG=["+1","+7","+20","+27","+30","+31","+32","+33","+34","+36","+39","+40","+41","+43","+44","+45","+46","+47","+48","+49","+51","+52","+53","+54","+55","+56","+57","+58","+60","+61","+62","+63","+64","+65","+66","+81","+82","+84","+86","+90","+91","+92","+93","+94","+95","+98","+212","+213","+216","+218","+220","+221","+222","+223","+224","+225","+226","+227","+228","+229","+230","+231","+232","+233","+234","+235","+236","+237","+238","+239","+240","+241","+242","+243","+244","+245","+246","+248","+249","+250","+251","+252","+253","+254","+255","+256","+257","+258","+260","+261","+262","+263","+264","+265","+266","+267","+268","+269","+290","+291","+297","+298","+299","+345","+350","+351","+352","+353","+354","+355","+356","+357","+358","+359","+370","+371","+372","+373","+374","+375","+376","+377","+378","+379","+380","+381","+382","+385","+386","+387","+389","+420","+421","+423","+500","+501","+502","+503","+504","+505","+506","+507","+508","+509","+537","+590","+591","+593","+594","+595","+596","+597","+598","+599","+670","+672","+673","+674","+675","+676","+677","+678","+679","+680","+681","+682","+683","+685","+686","+687","+688","+689","+690","+691","+692","+850","+852","+853","+855","+856","+872","+880","+886","+960","+961","+962","+963","+964","+965","+966","+967","+968","+970","+971","+972","+973","+974","+975","+976","+977","+992","+993","+994","+995","+996","+998"],ez={birthdate:{label:"Birthdate",placeholder:"Enter your Birthdate",type:"date",autocomplete:"bday",isRequired:!0},confirmation_code:{label:"Confirmation Code",placeholder:"Enter your Confirmation Code",type:"text",autocomplete:"one-time-code",isRequired:!0},confirm_password:{label:"Confirm Password",placeholder:"Please confirm your Password",type:"password",autocomplete:"new-password",isRequired:!0},email:{label:"Email",placeholder:"Enter your Email",type:"email",autocomplete:"username",isRequired:!0},family_name:{label:"Family Name",placeholder:"Enter your Family Name",type:"text",autocomplete:"family-name",isRequired:!0},given_name:{label:"Given Name",placeholder:"Enter your Given Name",type:"text",autocomplete:"given-name",isRequired:!0},middle_name:{label:"Middle Name",placeholder:"Enter your Middle Name",type:"text",autocomplete:"additional-name",isRequired:!0},name:{label:"Name",placeholder:"Enter your Name",type:"text",autocomplete:"name",isRequired:!0},nickname:{label:"Nickname",placeholder:"Enter your Nickname",type:"text",autocomplete:"tel",isRequired:!0},password:{label:"Password",placeholder:"Enter your Password",type:"password",autocomplete:"new-password",isRequired:!0},phone_number:{label:"Phone Number",placeholder:"Enter your Phone Number",type:"tel",autocomplete:"tel",dialCode:"+1",dialCodeList:eG,isRequired:!0},preferred_username:{label:"Preferred Username",placeholder:"Enter your Preferred Username",type:"text",isRequired:!0},profile:{label:"Profile",placeholder:"Add your Profile",type:"url",autocomplete:"url",isRequired:!0},website:{label:"Website",placeholder:"Add your Website",type:"url",autocomplete:"url",isRequired:!0},username:{label:"Username",placeholder:"Enter your Username",type:"text",autocomplete:"username",isRequired:!0}},eH=["^","$","*",".","[","]","{","}","(",")","?",'"',"!","@","#","%","&","/","\\",",",">","<","'",":",";","|","_","~","`","=","+","-"," "],eW=e=>eV.includes(e),eq=e=>Array.isArray(e),eK=e=>e?eq(e)?e:[e]:null;var eY=n(709);let eQ=new eY.k("I18n"),eZ=class{setDefaultLanguage(){!this._lang&&window&&window.navigator&&(this._lang=window.navigator.language),eQ.debug(this._lang)}setLanguage(e){this._lang=e}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this.setDefaultLanguage(),!this._lang)return void 0!==t?t:e;let n=this._lang,r=this.getByLanguage(e,n);return r||((n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r)?r:void 0!==t?t:e)}getByLanguage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return n;let r=this._dict[t];return r?r[e]:n}putVocabulariesForLanguage(e,t){let n=this._dict[e];n||(n=this._dict[e]={}),this._dict[e]={...n,...t}}putVocabularies(e){Object.keys(e).map(t=>{this.putVocabulariesForLanguage(t,e[t])})}constructor(){this._options=null,this._lang=null,this._dict={}}};var eJ=n(4838);(z||(z={})).NotConfigured="NotConfigured";let eX={[z.NotConfigured]:{message:"i18n is not configured."}},e$=(0,eJ.$)(eX),e0=new eY.k("I18n"),e1={language:null},e2=null;class e4{static configure(e){return e0.debug("configure I18n"),e&&(e1=Object.assign({},e1,e.I18n||e),e4.createInstance()),e1}static getModuleName(){return"I18n"}static createInstance(){e0.debug("create I18n instance"),e2||(e2=new eZ)}static setLanguage(e){return e4.checkConfig(),e$(!!e2,z.NotConfigured),e2.setLanguage(e)}static get(e,t){return e4.checkConfig()?(e$(!!e2,z.NotConfigured),e2.get(e,t)):void 0===t?e:t}static putVocabulariesForLanguage(e,t){return e4.checkConfig(),e$(!!e2,z.NotConfigured),e2.putVocabulariesForLanguage(e,t)}static putVocabularies(e){return e4.checkConfig(),e$(!!e2,z.NotConfigured),e2.putVocabularies(e)}static checkConfig(){return e2||e4.createInstance(),!0}}e4.createInstance();let e3={BACK_SIGN_IN:"Back to Sign In",CHANGE_PASSWORD:"Change Password",CHANGING_PASSWORD:"Changing",CODE_ARRIVAL:"It may take a minute to arrive",CODE_EMAILED:"Your code is on the way. To log in, enter the code we emailed to",CODE_SENT:"Your code is on the way. To log in, enter the code we sent you",CODE_TEXTED:"Your code is on the way. To log in, enter the code we texted to",CONFIRM_SMS:"Confirm SMS Code",CONFIRM_TOTP:"Confirm TOTP Code",CONFIRM:"Confirm",CONFIRMING:"Confirming",CREATE_ACCOUNT:"Create Account",CREATING_ACCOUNT:"Creating Account",FORGOT_PASSWORD:"Forgot Password?",FORGOT_YOUR_PASSWORD:"Forgot your password?",HIDE_PASSWORD:"Hide password",LOADING:"Loading",OR:"or",RESEND_CODE:"Resend Code",RESET_PASSWORD:"Reset Password",SEND_CODE:"Send code",SENDING:"Sending",SETUP_TOTP:"Setup TOTP",SHOW_PASSWORD:"Show password",SIGN_IN_BUTTON:"Sign in",SIGN_IN_TAB:"Sign In",SIGNING_IN_BUTTON:"Signing in",SKIP:"Skip",SUBMIT:"Submit",SUBMITTING:"Submitting",UPPERCASE_COPY:"COPY",VERIFY_CONTACT:"Verify Contact",VERIFY_HEADING:"Account recovery requires verified contact information",VERIFY:"Verify",WE_EMAILED:"We Emailed You",WE_SENT_CODE:"We Sent A Code",WE_TEXTED:"We Texted You"};function e5(e){return e4.get(e)}let e6=e=>{var t;let n=null==e?void 0:null===(t=e.context.config)||void 0===t?void 0:t.loginMechanisms,[r]=null!=n?n:["username"];return r},e8=e=>{let t={...e};for(let[n,r]of Object.entries(e)){let{label:e,placeholder:i}=r;t[n]={...r,label:e?e5(e):void 0,placeholder:i?e5(i):void 0}}return t},e9=e=>Object.entries(e).sort((e,t)=>(e[1].order||Number.MAX_VALUE)-(t[1].order||Number.MAX_VALUE)).filter(e=>void 0!==e[1]),e7=e=>{let t=ez[e],{type:n}=t;return"tel"===n&&(t={...t,dialCode:"+1"}),t},te=e=>({...e7(e6(e)),autocomplete:"username"}),tt=e=>({confirmation_code:{...e7("confirmation_code"),label:"Code *",placeholder:"Code"}}),tn={signIn:e=>({username:{...te(e)},password:{...e7("password"),autocomplete:"current-password"}}),signUp:e=>{let{loginMechanisms:t,signUpAttributes:n}=e.context.config,r=e6(e),i=Array.from(new Set([...t,"password","confirm_password",...n])),o={};for(let t of i)if(eW(t)){let n=t===r?te(e):e7(t);o[t]={...n}}else console.debug("Authenticator does not have a default implementation for ".concat(t,". Customize SignUp FormFields to add your own."));return o},confirmSignUp:e=>({confirmation_code:{...e7("confirmation_code"),placeholder:"Enter your code"}}),confirmSignIn:tt,forceNewPassword:e=>{let{missingAttributes:t}=eM(e).context,n=Array.from(new Set(["password","confirm_password",...null!=t?t:[]])),r={};for(let e of n)eW(e)?r[e]={...e7(e)}:console.debug("Authenticator does not have a default implementation for ".concat(e,". Customize ForceNewPassword FormFields to add your own."));return r},forgotPassword:e=>{let{label:t}=ez[e6(e)];return{username:{...te(e),label:"Enter your ".concat(t.toLowerCase()),placeholder:"Enter your ".concat(t.toLowerCase())}}},confirmResetPassword:e=>({...tt(),password:{...e7("password"),label:"New Password",placeholder:"New Password"},confirm_password:{...e7("confirm_password"),label:"Confirm Password",placeholder:"Confirm Password"}}),confirmVerifyUser:tt,setupTotp:tt},tr=(e,t)=>(0,tn[e])(t),ti=(e,t)=>{var n,r;let i=null===(r=eF(t))||void 0===r?void 0:null===(n=r.formFields)||void 0===n?void 0:n[e];return i&&0!==Object.keys(i).length?Object.entries(i).reduce((n,r)=>{let[i,o]=r;if(("signIn"===e||"forgotPassword"===e)&&"username"===i){let e={...te(t),...o};return{...n,[i]:e}}if(!ej(i))return{...n,[i]:o};{let e={...ez[i],...o};return{...n,[i]:e}}},{}):{}},to=(e,t)=>{let n=tr(e,t),r=ti(e,t),i={...n,...r};return delete i.QR,e8(i)},ta=e=>e.map(e=>[e[0],{...e[1],order:void 0}]),ts=(e,t)=>ta(e9(to(e,t))),tl=["confirmResetPassword","confirmSignIn","confirmSignUp","confirmVerifyUser","forceNewPassword","forgotPassword","setupTotp","signIn","signUp","verifyUser"],tc=e=>tl.some(t=>t===e),tu=()=>!1,td=e=>(t,n)=>{let r=e(t),i=e(n);return r.length===i.length&&r.every((e,t)=>{let n=i[t];return!!((0,eR.yc)(e,n)||(0,eR.XN)(e,n))||e===n})},tf=e=>{var t,n,r;return{...null===(r=eF(e))||void 0===r?void 0:null===(n=r.formFields)||void 0===n?void 0:null===(t=n.setupTotp)||void 0===t?void 0:t.QR}},th=e=>e.flatMap(e=>{let[t,n]=e;return{name:t,...n}}),tp=e=>e&&Object.entries(e).map(e=>{let[t,n]=e;return(0,eR.HD)(n)&&t?{name:t,label:n,type:"radio",value:n}:{}}),tg=(e,t,n)=>tc(e)?"verifyUser"===e?tp(n):th(ts(e,t)):[];function tm(e){var t,n,r,i,o;let a=eA.useContext(eB);if(!a)throw Error("`useAuthenticator` must be used inside an `Authenticator.Provider`.");let{service:s}=a,{send:l}=s,c=(0,eA.useCallback)(e=>({...eL({send:l,state:e})}),[l]),u=e?td(e):tu,{authStatus:d}=a,{route:f,totpSecretCode:h,unverifiedUserAttributes:p,user:g,...m}=(void 0===(t=u)&&(t=eP),r=(0,eA.useRef)(null),i=(0,eA.useCallback)(function(e){return s.subscribe(e).unsubscribe},[s]),o=(0,eA.useCallback)(function(){return n?n(s):eU(s,r)},[s,n]),(0,eT.useSyncExternalStoreWithSelector)(i,o,o,c,t)),v=s.getSnapshot(),y="setupTotp"===f?tf(v):null,E=tg(f,v,p);return{...m,authStatus:d,route:f,totpSecretCode:h,unverifiedUserAttributes:p,user:g,fields:E,QRFields:y}}let tv=e=>{let{route:t}=e;return[t]};var ty=n(918),tE=n(8147);let tS={apis:[tE.g4.DeleteUser,tE.g4.UpdatePassword],category:tE.WD.Auth},tw={apis:[tE.g4.SignUp,tE.g4.ConfirmSignUp,tE.g4.ResendSignUpCode,tE.g4.SignIn,tE.g4.ConfirmSignIn,tE.g4.FetchUserAttributes,tE.g4.SignOut,tE.g4.ResetPassword,tE.g4.ConfirmResetPassword,tE.g4.SignInWithRedirect],category:tE.WD.Auth},tx={apis:[tE.xf.NotifyMessageInteraction],category:tE.WD.InAppMessaging},tb={category:tE.WD.Geo,apis:[tE.PL.SearchByText,tE.PL.SearchForSuggestions,tE.PL.SearchByPlaceId]},tC={category:tE.WD.Geo,apis:[]},tI={apis:[tE.r7.UploadData],category:tE.WD.Storage},tA=e=>{let{componentName:t,packageName:n,version:r}=e,i=["ui-".concat(n),r];switch(t){case"Authenticator":(0,ty.o)({...tw,additionalDetails:[[t],i]});break;case"ChangePassword":case"DeleteUser":(0,ty.o)({...tS,additionalDetails:[["AccountSettings"],i]});break;case"InAppMessaging":(0,ty.o)({...tx,additionalDetails:[[t],i]});break;case"LocationSearch":(0,ty.o)({...tb,additionalDetails:[[t],i]});break;case"MapView":(0,ty.o)({...tC,additionalDetails:[[t],i]});break;case"StorageManager":(0,ty.o)({...tI,additionalDetails:[[t],i]})}return eR.ZT};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var t_=function(){return(t_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function tR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function tT(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tN(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function tP(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}(l=H||(H={})).Start="xstate.start",l.Stop="xstate.stop",l.Raise="xstate.raise",l.Send="xstate.send",l.Cancel="xstate.cancel",l.NullEvent="",l.Assign="xstate.assign",l.After="xstate.after",l.DoneState="done.state",l.DoneInvoke="done.invoke",l.Log="xstate.log",l.Init="xstate.init",l.Invoke="xstate.invoke",l.ErrorExecution="error.execution",l.ErrorCommunication="error.communication",l.ErrorPlatform="error.platform",l.ErrorCustom="xstate.error",l.Update="xstate.update",l.Pure="xstate.pure",l.Choose="xstate.choose",(c=W||(W={})).Parent="#_parent",c.Internal="#_internal";var tU={},tM="xstate.guard",tF=H.Start,tk=H.Stop,tO=H.Raise,tD=H.Send,tL=H.Cancel,tB=H.NullEvent,tV=H.Assign;H.After,H.DoneState;var tj=H.Log,tG=H.Init,tz=H.Invoke;H.ErrorExecution;var tH=H.ErrorPlatform,tW=H.ErrorCustom,tq=H.Update,tK=H.Choose,tY=H.Pure;function tQ(e,t,n){void 0===n&&(n=".");var r=tX(e,n),i=tX(t,n);return nn(i)?!!nn(r)&&i===r:nn(r)?r in i:Object.keys(r).every(function(e){return e in i&&tQ(r[e],i[e])})}function tZ(e){try{return nn(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw Error("Events must be strings or objects with a string event.type property.")}}function tJ(e,t){try{if(ne(e))return e;return e.toString().split(t)}catch(t){throw Error("'".concat(e,"' is not a valid state path."))}}function tX(e,t){return"object"==typeof e&&"value"in e&&"context"in e&&"event"in e&&"_event"in e?e.value:ne(e)?t$(e):"string"!=typeof e?e:t$(tJ(e,t))}function t$(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function t0(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function t1(e,t,n){var r,i,o={};try{for(var a=tT(Object.keys(e)),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l];n(c)&&(o[l]=t(c,l,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var t2=function(e){return function(t){var n,r,i=t;try{for(var o=tT(e),a=o.next();!a.done;a=o.next())i=i[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function t4(e){return e?nn(e)?[[e]]:t3(Object.keys(e).map(function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?t4(e[t]).map(function(e){return[t].concat(e)}):[[t]]})):[[]]}function t3(e){var t;return(t=[]).concat.apply(t,tP([],tN(e),!1))}function t5(e){return void 0===e?[]:ne(e)?e:[e]}function t6(e,t,n){if(nt(e))return e(t,n.data);var r,i,o={};try{for(var a=tT(Object.keys(e)),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l];nt(c)?o[l]=c(t,n.data):o[l]=c}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function t8(e){return!!(e instanceof Promise||null!==e&&(nt(e)||"object"==typeof e)&&nt(e.then))}function t9(e,t,n,r){return e?n.reduce(function(e,n){var i,o,a=n.assignment,s={state:r,action:n,_event:t},l={};if(nt(a))l=a(e,t.data,s);else try{for(var c=tT(Object.keys(a)),u=c.next();!u.done;u=c.next()){var d=u.value,f=a[d];l[d]=nt(f)?f(e,t.data,s):f}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return Object.assign({},e,l)},e):e}var t7=function(){};function ne(e){return Array.isArray(e)}function nt(e){return"function"==typeof e}function nn(e){return"string"==typeof e}function nr(e,t){return e?nn(e)?{type:tM,name:e,predicate:t?t[e]:void 0}:nt(e)?{type:tM,name:e.name,predicate:e}:e:void 0}var ni="function"==typeof Symbol&&Symbol.observable||"@@observable";function no(e){return!!e&&"__xstatenode"in e}(q={})[ni]=function(){return this},q[Symbol.observable]=function(){return this};var na=(u=0,function(){return u++,u.toString(16)});function ns(e,t){return nn(e)||"number"==typeof e?t_({type:e},t):e}function nl(e,t){if(!nn(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=ns(e);return t_({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function nc(e,t){return(ne(t)?t:[t]).map(function(t){return void 0===t||"string"==typeof t||no(t)?{target:t,event:e}:t_(t_({},t),{event:e})})}function nu(e,t,n,r,i){var o=e.options.guards,a={state:i,cond:t,_event:r};if(t.type===tM)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,a);var s=null==o?void 0:o[t.type];if(!s)throw Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function nd(e){return"string"==typeof e?{type:e}:e}function nf(e,t,n){var r=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function nh(e,t){return"".concat(e,":invocation[").concat(t,"]")}function np(e){return(e.type===tO||e.type===tD&&e.to===W.Internal)&&"number"!=typeof e.delay}var ng=function(e){return"atomic"===e.type||"final"===e.type};function nm(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function nv(e){return nm(e).filter(function(e){return"history"!==e.type})}function ny(e,t){var n,r,i,o,a,s,l,c,u=nE(new Set(e)),d=new Set(t);try{for(var f=tT(d),h=f.next();!h.done;h=f.next())for(var p=h.value,g=p.parent;g&&!d.has(g);)d.add(g),g=g.parent}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var m=nE(d);try{for(var v=tT(d),y=v.next();!y.done;y=v.next()){var p=y.value;if("compound"!==p.type||m.get(p)&&m.get(p).length){if("parallel"===p.type)try{for(var E=(a=void 0,tT(nv(p))),S=E.next();!S.done;S=E.next()){var w=S.value;d.has(w)||(d.add(w),u.get(w)?u.get(w).forEach(function(e){return d.add(e)}):w.initialStateNodes.forEach(function(e){return d.add(e)}))}}catch(e){a={error:e}}finally{try{S&&!S.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}}else u.get(p)?u.get(p).forEach(function(e){return d.add(e)}):p.initialStateNodes.forEach(function(e){return d.add(e)})}}catch(e){i={error:e}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var x=tT(d),b=x.next();!b.done;b=x.next())for(var p=b.value,g=p.parent;g&&!d.has(g);)d.add(g),g=g.parent}catch(e){l={error:e}}finally{try{b&&!b.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}return d}function nE(e){var t,n,r=new Map;try{for(var i=tT(e),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function nS(e,t){return Array.isArray(e)?e.some(function(e){return e===t}):e instanceof Set&&e.has(t)}function nw(e,t){return"compound"===t.type?nv(t).some(function(t){return"final"===t.type&&nS(e,t)}):"parallel"===t.type&&nv(t).every(function(t){return nw(e,t)})}function nx(e){return new Set(t3(e.map(function(e){return e.tags})))}var nb=nl({type:tG});function nC(e,t){return t&&t[e]||void 0}function nI(e,t){var n;if(nn(e)||"number"==typeof e){var r=nC(e,t);n=nt(r)?{type:e,exec:r}:r||{type:e,exec:void 0}}else if(nt(e))n={type:e.name||e.toString(),exec:e};else{var r=nC(e.type,t);if(nt(r))n=t_(t_({},e),{exec:r});else if(r){var i=r.type||e.type;n=t_(t_(t_({},r),e),{type:i})}else n=e}return n}var nA=function(e,t){return e?(ne(e)?e:[e]).map(function(e){return nI(e,t)}):[]};function n_(e){var t=nI(e);return t_(t_({id:nn(e)?e:t.id},t),{type:t.type})}function nR(e,t){return{type:tO,event:"function"==typeof e?e:ns(e),delay:t?t.delay:void 0,id:null==t?void 0:t.id}}function nT(e,t){return{to:t?t.to:void 0,type:tD,event:nt(e)?e:ns(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:nt(e)?e.name:tZ(e)}}function nN(){return nT(tq,t_(t_({},void 0),{to:W.Parent}))}var nP=function(e){return{type:tL,sendId:e}};function nU(e){var t=n_(e);return{type:H.Start,activity:t,exec:void 0}}function nM(e){var t=nt(e)?e:n_(e);return{type:H.Stop,activity:t,exec:void 0}}var nF=function(e){return{type:tV,assignment:e}};function nk(e,t){return"".concat(H.After,"(").concat(e,")").concat(t?"#".concat(t):"")}function nO(e,t){var n="".concat(H.DoneState,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function nD(e,t){var n="".concat(H.DoneInvoke,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function nL(e,t){var n="".concat(H.ErrorPlatform,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function nB(e,t){return nT(function(e,t){return t},t_(t_({},t),{to:e}))}function nV(e){return{type:H.Choose,conds:e}}var nj=function(e){var t,n,r=[];try{for(var i=tT(e),o=i.next();!o.done;o=i.next())for(var a=o.value,s=0;s<a.actions.length;){if(a.actions[s].type===tV){r.push(a.actions[s]),a.actions.splice(s,1);continue}s++}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function nG(e,t,n,r,i,o,a){void 0===a&&(a=!1);var s=a?[]:nj(i),l=s.length?t9(n,r,s,t):n,c=a?[n]:void 0,u=[];return[t3(i.map(function(i){var s,d,f=[];try{for(var h=tT(i.actions),p=h.next();!p.done;p=h.next()){var g=p.value,m=function(i,s){var d;switch(s.type){case tO:var f=function(e,t,n,r){var i,o={_event:n},a=nl(nt(e.event)?e.event(t,n.data,o):e.event);if(nn(e.delay)){var s=r&&r[e.delay];i=nt(s)?s(t,n.data,o):s}else i=nt(e.delay)?e.delay(t,n.data,o):e.delay;return t_(t_({},e),{type:tO,_event:a,delay:i})}(s,l,r,e.options.delays);return o&&"number"==typeof f.delay&&o(f,l,r),f;case tD:var h=function(e,t,n,r){var i,o={_event:n},a=nl(nt(e.event)?e.event(t,n.data,o):e.event);if(nn(e.delay)){var s=r&&r[e.delay];i=nt(s)?s(t,n.data,o):s}else i=nt(e.delay)?e.delay(t,n.data,o):e.delay;var l=nt(e.to)?e.to(t,n.data,o):e.to;return t_(t_({},e),{to:l,_event:a,event:a.data,delay:i})}(s,l,r,e.options.delays);return o&&h.to!==W.Internal&&("entry"===i?u.push(h):o(h,l,r)),h;case tj:var p,g=(p=l,t_(t_({},s),{value:nn(s.expr)?s.expr:s.expr(p,r.data,{_event:r})}));return null==o||o(g,l,r),g;case tK:var m=null===(d=s.conds.find(function(n){var i=nr(n.cond,e.options.guards);return!i||nu(e,i,l,r,o?void 0:t)}))||void 0===d?void 0:d.actions;if(!m)return[];var v=tN(nG(e,t,l,r,[{type:i,actions:nA(t5(m),e.options.actions)}],o,a),2),y=v[0];return l=v[1],null==c||c.push(l),y;case tY:var m=s.get(l,r.data);if(!m)return[];var E=tN(nG(e,t,l,r,[{type:i,actions:nA(t5(m),e.options.actions)}],o,a),2),S=E[0];return l=E[1],null==c||c.push(l),S;case tk:var w,x,g=(w=l,x=nt(s.activity)?s.activity(w,r.data):s.activity,{type:H.Stop,activity:"string"==typeof x?{id:x}:x});return null==o||o(g,n,r),g;case tV:l=t9(l,r,[s],o?void 0:t),null==c||c.push(l);break;default:var b=nI(s,e.options.actions),C=b.exec;if(o)o(b,l,r);else if(C&&c){var I=c.length-1;b=t_(t_({},b),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];C.apply(void 0,tP([c[I]],tN(t),!1))}})}return b}}(i.type,g);m&&(f=f.concat(m))}}catch(e){s={error:e}}finally{try{p&&!p.done&&(d=h.return)&&d.call(h)}finally{if(s)throw s.error}}return u.forEach(function(e){o(e,l,r)}),u.length=0,f})),l]}var nz=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=tU,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||tU,this.meta=(void 0===(t=e.configuration)&&(t=[]),t.reduce(function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e},{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(n=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==n?n:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){var e;return e=r.configuration,tP([],tN(new Set(t3(tP([],tN(e.map(function(e){return e.ownEvents})),!1)))),!1)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:nb,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){return t instanceof e?t.actions.length?new e({value:t.value,context:n,_event:nb,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}}):t:e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),nn(e))return[e];var r=Object.keys(e);return r.concat.apply(r,tP([],tN(r.map(function(r){return n.toStrings(e[r],t).map(function(e){return r+t+e})})),!1))},e.prototype.toJSON=function(){this.configuration,this.transitions;var e=this.tags;this.machine;var t=tR(this,["configuration","transitions","tags","machine"]);return t_(t_({},t),{tags:Array.from(e)})},e.prototype.matches=function(e){return tQ(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){t7(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var t,n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some(function(e){return void 0!==e.target||e.actions.length})},e}(),nH={deferEvents:!1},nW=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=t_(t_({},nH),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(0!==this.queue.length)throw Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),nq=[],nK=function(e,t){nq.push(e);var n=t(e);return nq.pop(),n};function nY(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[ni]=function(){return this},t}function nQ(e,t,n){var r=nY(t);if(r.deferred=!0,no(e)){var i=r.state=nK(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return i}}return r}var nZ=new Map,nJ=0,nX={bookId:function(){return"x:".concat(nJ++)},register:function(e,t){return nZ.set(e,t),e},get:function(e){return nZ.get(e)},free:function(e){nZ.delete(e)}};function n$(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window}var n0={sync:!1,autoForward:!1};(d=K||(K={}))[d.NotStarted=0]="NotStarted",d[d.Running=1]="Running",d[d.Stopped=2]="Stopped";var n1=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=K.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(ne(e))return r.batch(e),r.state;var n=nl(ns(e,t));if(r.status===K.Stopped)return r.state;if(r.status!==K.Running&&!r.options.deferEvents)throw Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule(function(){r.forward(n);var e=r._nextState(n);r.update(e,n)}),r._state},this.sendTo=function(e,t,n){var i=r.parent&&(t===W.Parent||r.parent.id===t),o=i?r.parent:nn(t)?t===W.Internal?r:r.children.get(t)||nX.get(t):t&&"function"==typeof t.send?t:void 0;if(!o){if(!i)throw Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."));return}if("machine"in o){if(r.status!==K.Stopped||r.parent!==o||r.state.done){var a=t_(t_({},e),{name:e.name===tW?"".concat(nL(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([o,a]):o.send(a)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([o,e.data]):o.send(e.data)},this._exec=function(e,t,n,i){void 0===i&&(i=r.machine.options.actions);var o=e.exec||nC(e.type,i),a=nt(o)?o:o?o.exec:e.exec;if(a)try{return a(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(e){throw r.parent&&r.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case tO:r.defer(e);break;case tD:if("number"==typeof e.delay){r.defer(e);return}e.to?r.sendTo(e._event,e.to,n===nb):r.send(e._event);break;case tL:r.cancel(e.sendId);break;case tF:if(r.status!==K.Running)return;var s=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[s.id||s.type])break;if(s.type===H.Invoke){var l=nd(s.src),c=r.machine.options.services?r.machine.options.services[l.type]:void 0,u=s.id,d=s.data,f="autoForward"in s?s.autoForward:!!s.forward;if(!c)return;var h=d?t6(d,t,n):void 0;if("string"==typeof c)return;var p=nt(c)?c(t,n.data,{data:h,src:l,meta:s.meta}):c;if(!p)return;var g=void 0;no(p)&&(p=h?p.withContext(h):p,g={autoForward:f}),r.spawn(p,u,g)}else r.spawnActivity(s);break;case tk:r.stopChild(e.activity.id);break;case tj:var m=e.label,v=e.value;m?r.logger(m,v):r.logger(v)}};var i=t_(t_({},e.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,l=i.id,c=void 0!==l?l:t.id;this.id=c,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new nW({deferEvents:this.options.deferEvents}),this.sessionId=nX.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:nK(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=tT(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,o,a,s,l,c,u=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||t===nb)&&this.options.execute)this.execute(this.state);else for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);if(this.children.forEach(function(e){u.state.children[e.id]=e}),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var f=tT(this.eventListeners),h=f.next();!h.done;h=f.next()){var p=h.value;p(e.event)}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var g=tT(this.listeners),m=g.next();!m.done;m=g.next()){var p=m.value;p(e,e.event)}}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var v=tT(this.contextListeners),y=v.next();!y.done;y=v.next())(0,y.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(this.state.done){var E=e.configuration.find(function(e){return"final"===e.type&&e.parent===u.machine}),S=E&&E.doneData?t6(E.doneData,e.context,t):void 0;this._doneEvent=nD(this.id,S);try{for(var w=tT(this.doneListeners),x=w.next();!x.done;x=w.next()){var p=x.value;p(this._doneEvent)}}catch(e){l={error:e}}finally{try{x&&!x.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}this._stop(),this._stopChildren(),nX.free(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===K.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,i=nf(e,t,n);this.listeners.add(i.next),this.status!==K.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===K.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===K.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===K.Running)return this;this.machine._init(),nX.register(this.sessionId,this),this.initialized=!0,this.status=K.Running;var n=void 0===e?this.initialState:nK(this,function(){return"object"==typeof e&&null!==e&&"value"in e&&"_event"in e?t.machine.resolveState(e):t.machine.resolveState(nz.from(e,t.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){t.update(n,nb)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(e){nt(e.stop)&&e.stop()}),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,i,o,a,s,l,c;try{for(var u=tT(this.listeners),d=u.next();!d.done;d=u.next()){var f=d.value;this.listeners.delete(f)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}try{for(var h=tT(this.stopListeners),p=h.next();!p.done;p=h.next()){var f=p.value;f(),this.stopListeners.delete(f)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var g=tT(this.contextListeners),m=g.next();!m.done;m=g.next()){var f=m.value;this.contextListeners.delete(f)}}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var v=tT(this.doneListeners),y=v.next();!y.done;y=v.next()){var f=y.value;this.doneListeners.delete(f)}}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=K.Stopped,this._initialState=void 0;try{for(var E=tT(Object.keys(this.delayedEventsMap)),S=E.next();!S.done;S=E.next()){var w=S.value;this.clock.clearTimeout(this.delayedEventsMap[w])}}catch(e){l={error:e}}finally{try{S&&!S.done&&(c=E.return)&&c.call(E)}finally{if(l)throw l.error}}this.scheduler.clear(),this.scheduler=new nW({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule(function(){if(null===(t=e._state)||void 0===t||!t.done){var t,n=nl({type:"xstate.stop"}),r=nK(e,function(){var t=t3(tP([],tN(e.state.configuration),!1).sort(function(e,t){return t.order-e.order}).map(function(t){return nA(t.onExit,e.machine.options.actions)})),r=tN(nG(e.machine,e.state,e.state.context,n,[{type:"exit",actions:t}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=r[0],o=r[1],a=new nz({value:e.state.value,context:o,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter(function(e){return!np(e)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return a.changed=!0,a});e.update(r,n),e._stopChildren(),nX.free(e.sessionId)}}),this},e.prototype.batch=function(e){var t=this;if(this.status===K.NotStarted&&this.options.deferEvents);else if(this.status!==K.Running)throw Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var r,i,o=t.state,a=!1,s=[];try{for(var l=tT(e),c=l.next();!c.done;c=l.next()){var u=c.value;!function(e){var r=nl(e);t.forward(r),o=nK(t,function(){return t.machine.transition(o,r,void 0,n||void 0)}),s.push.apply(s,tP([],tN(t.machine.config.predictableActionArguments?o.actions:o.actions.map(function(e){var t,n;return t=o,n=e.exec,t_(t_({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})})),!1)),a=a||!!o.changed}(u)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,t.update(o,nl(e[e.length-1]))})}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=nl(e);if(0===r.name.indexOf(tH)&&!this.state.nextEvents.some(function(e){return 0===e.indexOf(tH)}))throw r.data.data;return nK(this,function(){return n.machine.transition(n.state,r,void 0,t||void 0)})},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=tT(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout(function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),nt(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==K.Running)return nQ(e,t);if(t8(e))return this.spawnPromise(Promise.resolve(e),t);if(nt(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(e)&&"id"in e)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&nt(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(no(e))return this.spawnMachine(e,t_(t_({},n),{id:t}));if(null!==e&&"object"==typeof e&&"transition"in e&&"function"==typeof e.transition)return this.spawnBehavior(e,t);throw Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,t_(t_({},this.options),{parent:this,id:n.id||t.id})),o=t_(t_({},n0),n);return o.sync&&i.onTransition(function(e){r.send(tq,{state:e,id:i.id})}),this.children.set(i.id,i),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(e){r.removeChild(i.id),r.send(nl(e,{origin:i.id}))}).start(),i},e.prototype.spawnBehavior=function(e,t){var n,r,i,o,a,s,l,c,u,d,f=(n={id:t,parent:this},r=e.initialState,i=new Set,o=[],a=!1,s=function(){if(!a){for(a=!0;o.length>0;){var t=o.shift();r=e.transition(r,t,d),i.forEach(function(e){return e.next(r)})}a=!1}},l={id:n.id,send:function(e){o.push(e),s()},getSnapshot:function(){return r},subscribe:function(e,t,n){var o=nf(e,t,n);return i.add(o),o.next(r),{unsubscribe:function(){i.delete(o)}}}},u=t_(((c={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[ni]=function(){return this},c),l),d={parent:n.parent,self:u,id:n.id||"anonymous",observers:i},r=e.start?e.start(d):r,u);return this.children.set(t,f),f},e.prototype.spawnPromise=function(e,t){var n,r,i=this,o=!1;e.then(function(e){o||(r=e,i.removeChild(t),i.send(nl(nD(t,e),{origin:t})))},function(e){if(!o){i.removeChild(t);var n=nL(t,e);try{i.send(nl(n,{origin:t}))}catch(e){i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}});var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var i=nf(t,n,r),o=!1;return e.then(function(e){!o&&(i.next(e),o||i.complete())},function(e){o||i.error(e)}),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[ni]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,i,o=this,a=!1,s=new Set,l=new Set;try{i=e(function(e){r=e,l.forEach(function(t){return t(e)}),a||o.send(nl(e,{origin:t}))},function(e){s.add(e)})}catch(e){this.send(nL(t,e))}if(t8(i))return this.spawnPromise(i,t);var c=((n={id:t,send:function(e){return s.forEach(function(t){return t(e)})},subscribe:function(e){var t=nf(e);return l.add(t.next),{unsubscribe:function(){l.delete(t.next)}}},stop:function(){a=!0,nt(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[ni]=function(){return this},n);return this.children.set(t,c),c},e.prototype.spawnObservable=function(e,t){var n,r,i=this,o=e.subscribe(function(e){r=e,i.send(nl(e,{origin:t}))},function(e){i.removeChild(t),i.send(nl(nL(t,e),{origin:t}))},function(){i.removeChild(t),i.send(nl(nD(t),{origin:t}))}),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[ni]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[ni]=function(){return this},n))},e.prototype.attachDev=function(){var e=n$();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(t_(t_({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:t_({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(n$()){var t=function(){var e=n$();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[ni]=function(){return this},e.prototype.getSnapshot=function(){return this.status===K.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=n4,e}();function n2(e,t){var n,r=nn(t)?t_(t_({},n0),{name:t}):t_(t_(t_({},n0),{name:na()}),t);return(n=nq[nq.length-1])?n.spawn(e,r.name,r):nQ(e,r.name)}function n4(e,t){return new n1(e,t)}function n3(e){var t=eA.useRef();return t.current||(t.current={v:e()}),t.current.v}var n5=function(){return(n5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},n6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},n8=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},n9=n(9826),n7=n(3853),re=n(3822);let rt=async e=>{var t,n,r;let i=null===(t=e.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(i);let o=await e.Auth.getTokens({forceRefresh:!1});(0,re.CA)(o);let{"cognito:username":a,sub:s}=null!==(r=null===(n=o.idToken)||void 0===n?void 0:n.payload)&&void 0!==r?r:{},l={username:a,userId:s},c=null==o?void 0:o.signInDetails;return c&&(l.signInDetails=c),l},rn=async()=>rt(n9.d);var rr=n(9188);let ri=(e,t,n)=>{let{payload:r}=e,{event:i}=r,{send:o}=t,{onSignIn:a,onSignOut:s}=null!=n?n:{};switch(i){case"signedIn":(0,eR.mf)(a)&&a(r);break;case"signInWithRedirect":o("SIGN_IN_WITH_REDIRECT");break;case"signedOut":case"tokenRefresh_failure":"signedOut"===i&&(0,eR.mf)(s)&&s(),o("SIGN_OUT")}},ro=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri;return rr.Xb.listen("auth",n=>t(n,e),"authenticator-hub-handler")};function ra(e){return t_(t_({type:tz},e),{toJSON:function(){e.onDone,e.onError;var t=tR(e,["onDone","onError"]);return t_(t_({},t),{type:tz,src:function(e){if("string"==typeof e){var t={type:e};return t.toString=function(){return e},t}return e}(e.src)})}})}var rs={},rl=function(e){return"#"===e[0]},rc=function(){function e(t,n,r,i){void 0===r&&(r="context"in t?t.context:void 0);var o,a=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||tP([this.machine.key],tN(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?t0(this.config.states,function(t,n){var r,i=new e(t,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,t_(((r={})[i.id]=i,r),i.idMap)),i}):rs;var s=0;!function e(t){var n,r;t.order=s++;try{for(var i=tT(nm(t)),o=i.next();!o.done;o=i.next()){var a=o.value;e(a)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(e){return""===e.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=t5(this.config.entry||this.config.onEntry).map(function(e){return nI(e)}),this.onExit=t5(this.config.exit||this.config.onExit).map(function(e){return nI(e)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=t5(this.config.invoke).map(function(e,t){if(no(e)){var n,r,i=nh(a.id,t);return a.machine.options.services=t_(((n={})[i]=e,n),a.machine.options.services),ra({src:i,id:i})}if(nn(e.src)){var i=e.id||nh(a.id,t);return ra(t_(t_({},e),{id:i,src:e.src}))}if(no(e.src)||nt(e.src)){var i=e.id||nh(a.id,t);return a.machine.options.services=t_(((r={})[i]=e.src,r),a.machine.options.services),ra(t_(t_({id:i},e),{src:i}))}var o=e.src;return ra(t_(t_({id:nh(a.id,t)},e),{src:o}))}),this.activities=t5(this.config.activities).concat(this.invoke).map(function(e){return n_(e)}),this.transition=this.transition.bind(this),this.tags=t5(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||(function e(t){var n=[t];return ng(t)?n:n.concat(t3(nv(t).map(e)))})(this).forEach(function(e){return e.on})},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,l=r.delays;return new e(this.config,{actions:t_(t_({},i),t.actions),activities:t_(t_({},o),t.activities),guards:t_(t_({},a),t.guards),services:t_(t_({},s),t.services),delays:t_(t_({},l),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return nt(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:t0(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,n=this.transitions.filter(function(n){var r=n.eventType===e;return t?r:r||"*"===n.eventType});return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=nk(nt(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push(nT(r,{delay:t})),e.onExit.push(nP(r)),r};return(ne(t)?t.map(function(e,t){var r=n(e.delay,t);return t_(t_({},e),{event:r})}):t3(Object.keys(t).map(function(e,r){var i=t[e],o=nn(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=n(a,r);return t5(o).map(function(e){return t_(t_({},e),{event:s,delay:a})})}))).map(function(t){var n=t.delay;return t_(t_({},e.formatTransition(t)),{delay:n})})},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof nz?e.value:tX(e,this.delimiter);if(nn(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object.keys(r),a=[this];return a.push.apply(a,tP([],tN(t3(o.map(function(e){return n.getStateNode(e).getStateNodes(r[e])}))),!1)),a},e.prototype.handles=function(e){var t=tZ(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof nz?e:nz.create(e),n=Array.from(ny([],this.getStateNodes(t.value)));return new nz(t_(t_({},t),{value:this.resolve(t.value),configuration:n,done:nw(n,this),tags:nx(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var a=tT(Object.keys(e)),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l];if(c){var u=this.getStateNode(l)._transition(c,t,n);u&&(o[l]=u)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var d=Object.keys(o).map(function(e){return o[e]}),f=t3(d.map(function(e){return e.transitions}));if(!d.some(function(e){return e.transitions.length>0}))return this.next(t,n);var h=t3(Object.keys(o).map(function(e){return o[e].configuration}));return{transitions:f,exitSet:t3(d.map(function(e){return e.exitSet})),configuration:h,source:t,actions:t3(Object.keys(o).map(function(e){return o[e].actions}))}},e.prototype._transition=function(e,t,n){return nn(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,nl(t))},e.prototype.next=function(e,t){var n,r,i,o=this,a=t.name,s=[],l=[];try{for(var c=tT(this.getCandidates(a)),u=c.next();!u.done;u=c.next()){var d=u.value,f=d.cond,h=d.in,p=e.context,g=!h||(nn(h)&&rl(h)?e.matches(tX(this.getStateNodeById(h).path,this.delimiter)):tQ(tX(h,this.delimiter),t2(this.path.slice(0,-2))(e.value))),m=!1;try{m=!f||nu(this.machine,f,p,t,e)}catch(e){throw Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(m&&g){void 0!==d.target&&(l=d.target),s.push.apply(s,tP([],tN(d.actions),!1)),i=d;break}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(i){if(!l.length)return{transitions:[i],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var v=t3(l.map(function(t){return o.getRelativeStateNodes(t,e.historyValue)})),y=!!i.internal;return{transitions:[i],exitSet:y?[]:t3(l.map(function(e){return o.getPotentiallyReenteringNodes(e)})),configuration:v,source:e,actions:s}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this;n&&n!==e;)t.push(n),n=n.parent;return n!==e?[]:(t.push(e),t)},e.prototype.getActions=function(e,t,n,r,i,o,a){var s,l,c,u,d=this,f=o?ny([],this.getStateNodes(o.value)):[],h=new Set;try{for(var p=tT(Array.from(e).sort(function(e,t){return e.order-t.order})),g=p.next();!g.done;g=p.next()){var m=g.value;(!nS(f,m)||nS(n.exitSet,m)||m.parent&&h.has(m.parent))&&h.add(m)}}catch(e){s={error:e}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}try{for(var v=tT(f),y=v.next();!y.done;y=v.next()){var m=y.value;(!nS(e,m)||nS(n.exitSet,m.parent))&&n.exitSet.push(m)}}catch(e){c={error:e}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(c)throw c.error}}n.exitSet.sort(function(e,t){return t.order-e.order});var E=Array.from(h).sort(function(e,t){return e.order-t.order}),S=new Set(n.exitSet),w=t3(E.map(function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(nO(e.id,e.doneData),nO(o.id,e.doneData?t6(e.doneData,r,i):void 0));var a=o.parent;return"parallel"===a.type&&nv(a).every(function(e){return nw(n.configuration,e)})&&t.push(nO(a.id)),t})),x=E.map(function(e){var t=e.onEntry,n=e.activities.map(function(e){return nU(e)});return{type:"entry",actions:nA(a?tP(tP([],tN(t),!1),tN(n),!1):tP(tP([],tN(n),!1),tN(t),!1),d.machine.options.actions)}}).concat({type:"state_done",actions:w.map(function(e){return nR(e)})}),b=Array.from(S).map(function(e){return{type:"exit",actions:nA(tP(tP([],tN(e.onExit),!1),tN(e.activities.map(function(e){return nM(e)})),!1),d.machine.options.actions)}}).concat({type:"transition",actions:nA(n.actions,this.machine.options.actions)}).concat(x);if(t){var C=nA(t3(tP([],tN(e),!1).sort(function(e,t){return t.order-e.order}).map(function(e){return e.onExit})),this.machine.options.actions).filter(function(e){return!np(e)});return b.concat({type:"stop",actions:C})}return b},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var i,o,a=nl(t);if(e instanceof nz)o=void 0===n?e:this.resolveState(nz.from(e,n));else{var s=nn(e)?this.resolve(t$(this.getResolvedPath(e))):this.resolve(e),l=null!=n?n:this.machine.context;o=this.resolveState(nz.from(s,l))}if(this.strict&&!this.events.includes(a.name)&&(i=a.name,!/^(done|error)\./.test(i)))throw Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var c=this._transition(o.value,o,a)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},u=ny([],this.getStateNodes(o.value)),d=c.configuration.length?ny(u,c.configuration):u;return c.configuration=tP([],tN(d),!1),this.resolveTransition(c,o,o.context,r,a)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var i,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,tP([],tN(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,i){var o,a,s,l,c,u,d=this;void 0===i&&(i=nb);var f=e.configuration,h=!t||e.transitions.length>0,p=h?e.configuration:t?t.configuration:[],g=nw(p,this),m=h?(a=ny([o=this.machine],f),function e(t,n){var r=n.get(t);if(!r)return{};if("compound"===t.type){var i=r[0];if(!i)return{};if(ng(i))return i.key}var o={};return r.forEach(function(t){o[t.key]=e(t,n)}),o}(o,nE(a))):void 0,v=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,y=this.getActions(new Set(p),g,e,n,i,t,r),E=t?t_({},t.activities):{};try{for(var S=tT(y),w=S.next();!w.done;w=S.next()){var x=w.value;try{for(var b=(c=void 0,tT(x.actions)),C=b.next();!C.done;C=b.next()){var I=C.value;I.type===tF?E[I.activity.id||I.activity.type]=I:I.type===tk&&(E[I.activity.id||I.activity.type]=!1)}}catch(e){c={error:e}}finally{try{C&&!C.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}}}catch(e){s={error:e}}finally{try{w&&!w.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}var A=tN(nG(this,t,n,i,y,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),_=A[0],R=A[1],T=tN(function(e,t){var n,r,i=tN([[],[]],2),o=i[0],a=i[1];try{for(var s=tT(e),l=s.next();!l.done;l=s.next()){var c=l.value;t(c)?o.push(c):a.push(c)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(_,np),2),N=T[0],P=T[1],U=_.filter(function(e){var t;return e.type===tF&&(null===(t=e.activity)||void 0===t?void 0:t.type)===tz}).reduce(function(e,t){var n,r,o,a,s,l,c,u;return e[t.activity.id]=(n=t.activity,r=d.machine,o=i,s=nd(n.src),l=null===(a=null==r?void 0:r.options.services)||void 0===a?void 0:a[s.type],c=n.data?t6(n.data,R,o):void 0,(u=l?nQ(l,n.id,c):nY(n.id)).meta=n,u),e},t?t_({},t.children):{}),M=new nz({value:m||t.value,context:R,_event:i,_sessionid:t?t._sessionid:null,historyValue:m?v?{current:m,states:function e(t,n){return t0(t.states,function(t,r){if(t){var i=(nn(n)?void 0:n[r])||(t?t.current:void 0);if(i)return{current:i,states:e(t,i)}}})}(v,m)}:void 0:t?t.historyValue:void 0,history:!m||e.source?t:void 0,actions:m?P:[],activities:m?E:t?t.activities:{},events:[],configuration:p,transitions:e.transitions,children:U,done:g,tags:nx(p),machine:this}),F=n!==R;M.changed=i.name===tq||F;var k=M.history;k&&delete k.history;var O=!g&&(this._transient||f.some(function(e){return e._transient}));if(!h&&(!O||""===i.name))return M;var D=M;if(!g)for(O&&(D=this.resolveRaisedTransition(D,{type:tB},i,r));N.length;){var L=N.shift();D=this.resolveRaisedTransition(D,L._event,i,r)}var B=D.changed||(k?!!D.actions.length||F||typeof k.value!=typeof D.value||!function e(t,n){if(t===n)return!0;if(void 0===t||void 0===n)return!1;if(nn(t)||nn(n))return t===n;var r=Object.keys(t),i=Object.keys(n);return r.length===i.length&&r.every(function(r){return e(t[r],n[r])})}(D.value,k.value):void 0);return D.changed=B,D.history=k,D},e.prototype.getStateNode=function(e){if(rl(e))return this.machine.getStateNodeById(e);if(!this.states)throw Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=rl(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&rl(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=tJ(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||rs;switch(this.type){case"parallel":return t0(this.initialStateValue,function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):rs});case"compound":if(nn(e)){var r=this.getStateNode(e);if("parallel"===r.type||"compound"===r.type)return(t={})[e]=r.initialStateValue,t;return e}if(!Object.keys(e).length)return this.initialStateValue||{};return t0(e,function(e,t){return e?n.getStateNode(t).resolve(e):rs});default:return e||rs}},e.prototype.getResolvedPath=function(e){if(rl(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw Error("Unable to find state node '".concat(e,"'"));return t.path}return tJ(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=t1(this.states,function(e){return e.initialStateValue||rs},function(e){return"history"!==e.type});else if(void 0!==this.initial){if(!this.states[this.initial])throw Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=ng(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=nn(t.target)&&rl(t.target)?t$(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return ng(this)?[this]:"compound"!==this.type||this.initial?t3(t4(this.initialStateValue).map(function(t){return e.getFromRelativePath(t)})):[this]},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=tN(e),n=t[0],r=t.slice(1);if(!this.states)throw Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:t1(this.states,function(t,n){if(!e)return t.historyValue();var r=nn(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)},function(e){return!e.history})}},e.prototype.resolveHistory=function(e){var t,n=this;if("history"!==this.type)return[this];var r=this.parent;if(!e){var i=this.target;return i?t3(t4(i).map(function(e){return r.getFromRelativePath(e)})):r.initialStateNodes}var o=(t=r.path,function(e){var n,r,i=e;try{for(var o=tT(t),a=o.next();!a.done;a=o.next()){var s=a.value;i=i.states[s]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i})(e).current;return nn(o)?[r.getStateNode(o)]:t3(t4(o).map(function(e){return"deep"===n.history?r.getFromRelativePath(e):[r.states[e[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=t3(Object.keys(this.states).map(function(t){return e.states[t].stateIds}));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){if(this.__cache.events)return this.__cache.events;var e,t,n,r,i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=tT(Object.keys(i)),s=a.next();!s.done;s=a.next()){var l=i[s.value];if(l.states)try{for(var c=(n=void 0,tT(l.events)),u=c.next();!u.done;u=c.next()){var d=u.value;o.add("".concat(d))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){return Array.from(new Set(this.transitions.filter(function(e){return!(!e.target&&!e.actions.length&&e.internal)}).map(function(e){return e.eventType})))},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map(function(e){if(!nn(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}})},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return t5(e)}(e.target),r="internal"in e?e.internal:!n||n.some(function(e){return nn(e)&&e[0]===t.delimiter}),i=this.machine.options.guards,o=this.resolveTarget(n),a=t_(t_({},e),{actions:nA(t5(e.actions)),cond:nr(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return t_(t_({},a),{target:a.target?a.target.map(function(e){return"#".concat(e.id)}):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on){if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i["*"],a=tR(i,["*"]);n=t3(Object.keys(a).map(function(e){return nc(e,a[e])}).concat(nc("*",void 0===o?[]:o)))}}else n=[];var s=this.config.always?nc("",this.config.always):[],l=this.config.onDone?nc(String(nO(this.id)),this.config.onDone):[],c=t3(this.invoke.map(function(e){var t=[];return e.onDone&&t.push.apply(t,tP([],tN(nc(String(nD(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,tP([],tN(nc(String(nL(e.id)),e.onError)),!1)),t})),u=this.after,d=t3(tP(tP(tP(tP([],tN(l),!1),tN(c),!1),tN(n),!1),tN(s),!1).map(function(e){return t5(e).map(function(e){return r.formatTransition(e)})}));try{for(var f=tT(u),h=f.next();!h.done;h=f.next()){var p=h.value;d.push(p)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}return d},e}();function ru(e,t){return new rc(e,t)}var rd=nN;let rf=e=>{let t=e.trim().split("");for(let e=0;e<t.length;e++)e>0&&e<t.length-1&&(t[e]="*");return t.join("")},rh=e=>{if(e.length<4)return e;let t=e.split("");for(let e=0;e<t.length-4;e++)t[e]="*";return t.join("")},rp=e=>eH.some(t=>e.includes(t)),rg=(e,t,n)=>encodeURI("otpauth://totp/".concat(e,":").concat(t,"?secret=").concat(n,"&issuer=").concat(e));var rm=n(2923);let rv=(e,t)=>"".concat(e).concat(t).replace(/[^A-Z0-9+]/gi,""),ry=(e,t)=>{switch(t){case"address":case"birthdate":case"email":case"family_name":case"gender":case"given_name":case"locale":case"middle_name":case"name":case"nickname":case"phone_number":case"picture":case"preferred_username":case"profile":case"updated_at":case"website":case"zoneinfo":return!0;default:return t.startsWith("custom:")}},rE=e=>{let{phone_number:t,...n}=rm(e,ry);if((0,eR.HD)(t)&&""!==t){let{country_code:r}=e;return{...n,phone_number:rv(r,t)}}return n},rS=(e,t,n)=>{let{password:r,...i}=t,o=rE(i),a={autoSignIn:!0,userAttributes:{..."phone_number"===n?{...o,phone_number:e}:o}};return{username:e,password:r,options:a}},{assign:rw}=eI,rx=rw({actorDoneData:void 0}),rb=rw({challengeName:void 0}),rC=rw({missingAttributes:void 0}),rI=rw({remoteError:void 0}),rA=rw({formValues:{}}),r_=rw({touched:{}}),rR=rw({user:void 0}),rT=rw({validationError:{}}),rN=rw({totpSecretCode:(e,t)=>{var n,r;let{data:i}=t,{sharedSecret:o}=null!==(r=null===(n=i.nextStep)||void 0===n?void 0:n.totpSetupDetails)&&void 0!==r?r:{};return o}}),rP=rw({step:"SIGN_IN"}),rU=rw({step:"SHOULD_CONFIRM_USER_ATTRIBUTE"}),rM=rw({step:"CONFIRM_ATTRIBUTE_COMPLETE"}),rF=rw({challengeName:(e,t)=>{let{data:n}=t,{signInStep:r}=n.nextStep;return"CONFIRM_SIGN_IN_WITH_SMS_CODE"===r?"SMS_MFA":"CONFIRM_SIGN_IN_WITH_TOTP_CODE"===r?"SOFTWARE_TOKEN_MFA":void 0}}),rk=rw({username:e=>{let{formValues:t,loginMechanisms:n}=e,r=n[0],{username:i,country_code:o}=t;return"phone_number"===r?rv(o,i):i}}),rO=rw({username:e=>{let{formValues:t,loginMechanisms:n}=e,r=n[0];if("phone_number"===r){let{country_code:e,phone_number:n}=t;return rv(e,n)}return t[r]}}),rD=rw({username:e=>{let{formValues:t,loginMechanisms:n}=e,r=n[0],{username:i,country_code:o}=t;return"phone_number"===r?rv(o,i):i}}),rL=rw({step:(e,t)=>{let{data:n}=t;return"DONE"===n.nextStep.signInStep?"SIGN_IN_COMPLETE":n.nextStep.signInStep}}),rB=rw({step:(e,t)=>{let{data:n}=t;return"DONE"===n.nextStep.signUpStep?"SIGN_UP_COMPLETE":n.nextStep.signUpStep}}),rV=rw({step:(e,t)=>{let{data:n}=t;return"DONE"===n.nextStep.resetPasswordStep?"RESET_PASSWORD_COMPLETE":n.nextStep.resetPasswordStep}}),rj=rw({missingAttributes:(e,t)=>{var n;let{data:r}=t;return null===(n=r.nextStep)||void 0===n?void 0:n.missingAttributes}}),rG=rw({validationError:(e,t)=>{let{data:n}=t;return n}}),rz=rw({remoteError:(e,t)=>{let{data:n}=t;return"NoUserPoolError"===n.name?"Configuration error (see console) – please contact the administrator":(null==n?void 0:n.message)||n}}),rH=rw({user:(e,t)=>{let{data:n}=t;return n}}),rW=e=>({Destination:e.destination,DeliveryMedium:e.deliveryMedium,AttributeName:e.attributName}),rq=rw({codeDeliveryDetails:(e,t)=>{var n;let{data:r}=t;return(null==r?void 0:null===(n=r.nextStep)||void 0===n?void 0:n.codeDeliveryDetails)?rW(r.nextStep.codeDeliveryDetails):rW(r)}}),rK=rw({formValues:(e,t)=>{let{data:n}=t,{name:r,value:i}=n;return{...e.formValues,[r]:i}}}),rY=rw({formValues:(e,t)=>{let{data:n}=t;return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.entries(e).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:n.includes(r)?i:null==i?void 0:i.trim()}},{})}({...e.formValues,...n},"password")}}),rQ=rw({touched:(e,t)=>{let{data:n}=t;return{...e.touched,[n.name]:!0}}}),rZ=rw({unverifiedUserAttributes:(e,t)=>{let{data:n}=t,{email:r,phone_number:i}=n;return{...r&&{email:r},...i&&{phone_number:i}}}}),rJ=rw({selectedUserAttribute:void 0}),rX=rw({selectedUserAttribute:e=>{var t;return null===(t=e.formValues)||void 0===t?void 0:t.unverifiedAttr}}),r$={clearActorDoneData:rx,clearChallengeName:rb,clearError:rI,clearFormValues:rA,clearMissingAttributes:rC,clearSelectedUserAttribute:rJ,clearTouched:r_,clearUser:rR,clearValidationError:rT,handleBlur:rQ,handleInput:rK,handleSubmit:rY,setChallengeName:rF,setCodeDeliveryDetails:rq,setFieldErrors:rG,setMissingAttributes:rj,setNextResetPasswordStep:rV,setNextSignInStep:rL,setNextSignUpStep:rB,setRemoteError:rz,setConfirmAttributeCompleteStep:rM,setConfirmSignUpSignUpStep:rw({step:"CONFIRM_SIGN_UP"}),setShouldVerifyUserAttributeStep:rU,setSelectedUserAttribute:rX,setSignInStep:rP,setTotpSecretCode:rN,setUser:rH,setUnverifiedUserAttributes:rZ,setUsernameForgotPassword:rk,setUsernameSignIn:rD,setUsernameSignUp:rO},r0=["CONFIRM_SIGN_IN_WITH_SMS_CODE","CONFIRM_SIGN_IN_WITH_TOTP_CODE"],r1={hasCompletedAttributeConfirmation:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.step)==="CONFIRM_ATTRIBUTE_COMPLETE"},hasCompletedResetPassword:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.nextStep.resetPasswordStep)==="DONE"},hasCompletedSignIn:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.nextStep.signInStep)==="DONE"},hasCompletedSignUp:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.nextStep.signUpStep)==="DONE"},isConfirmSignUpStep:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.step)==="CONFIRM_SIGN_UP"},isConfirmUserAttributeStep:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.step)==="CONFIRM_ATTRIBUTE_WITH_CODE"},isResetPasswordStep:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.step)==="RESET_PASSWORD"},isShouldConfirmUserAttributeStep:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.step)==="SHOULD_CONFIRM_USER_ATTRIBUTE"},isUserAlreadyConfirmed:(e,t)=>{let{data:n}=t;return"User is already confirmed."===n.message},shouldAutoSignIn:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.nextStep.signUpStep)==="COMPLETE_AUTO_SIGN_IN"},shouldConfirmResetPassword:e=>{let{step:t}=e;return"CONFIRM_RESET_PASSWORD_WITH_CODE"===t},shouldConfirmSignIn:e=>{let{step:t}=e;return r0.includes(t)},shouldConfirmSignInWithNewPassword:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.nextStep.signInStep)==="CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED"},shouldConfirmSignUp:e=>{let{step:t}=e;return"CONFIRM_SIGN_UP"===t},shouldConfirmSignUpFromSignIn:(e,t)=>{let{data:n}=t;return(null==n?void 0:n.nextStep.signInStep)==="CONFIRM_SIGN_UP"},shouldResetPassword:e=>{let{step:t}=e;return"RESET_PASSWORD"===t},shouldResetPasswordFromSignIn:(e,t)=>{var n;let{data:r}=t;return(null==r?void 0:null===(n=r.nextStep)||void 0===n?void 0:n.signInStep)==="RESET_PASSWORD"},shouldSetupTotp:e=>{let{step:t}=e;return"CONTINUE_SIGN_IN_WITH_TOTP_SETUP"===t},shouldVerifyAttribute:(e,t)=>{let{data:n}=t,{phone_number_verified:r,email_verified:i}=n;return(void 0===i||"false"===i)&&(void 0===r||"false"===r)}};var r2=n(3957);let r4=async(e,t,n,r)=>{let i=r2({},...await Promise.all(r.map(r=>r(e,t,n))));return(0,eR.xb)(i)?Promise.resolve():Promise.reject(i)};var r3=n(851);(f=Y||(Y={})).EmptySignInUsername="EmptySignInUsername",f.EmptySignInPassword="EmptySignInPassword",f.CustomAuthSignInPassword="CustomAuthSignInPassword",f.EmptySignUpUsername="EmptySignUpUsername",f.EmptySignUpPassword="EmptySignUpPassword",f.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",f.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",f.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",f.EmptyChallengeResponse="EmptyChallengeResponse",f.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",f.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",f.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",f.EmptyResetPasswordUsername="EmptyResetPasswordUsername",f.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",f.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",f.IncorrectMFAMethod="IncorrectMFAMethod",f.EmptyUpdatePassword="EmptyUpdatePassword";let r5={[Y.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[Y.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[Y.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[Y.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[Y.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[Y.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[Y.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[Y.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[Y.EmptySignInPassword]:{message:"password is required to signIn"},[Y.EmptySignInUsername]:{message:"username is required to signIn"},[Y.EmptySignUpPassword]:{message:"password is required to signUp"},[Y.EmptySignUpUsername]:{message:"username is required to signUp"},[Y.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[Y.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS or TOTP",recoverySuggestion:"Try to pass TOTP or SMS as the challengeResponse"},[Y.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[Y.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[Y.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}};(h=Q||(Q={})).DEFAULT_MSG="Authentication Error",h.EMPTY_EMAIL="Email cannot be empty",h.EMPTY_PHONE="Phone number cannot be empty",h.EMPTY_USERNAME="Username cannot be empty",h.INVALID_USERNAME="The username should either be a string or one of the sign in types",h.EMPTY_PASSWORD="Password cannot be empty",h.EMPTY_CODE="Confirmation code cannot be empty",h.SIGN_UP_ERROR="Error creating account",h.NO_MFA="No valid MFA method provided",h.INVALID_MFA="Invalid MFA type",h.EMPTY_CHALLENGE="Challenge response cannot be empty",h.NO_USER_SESSION="Failed to get the session because the user is empty",h.NETWORK_ERROR="Network Error",h.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",h.AUTOSIGNIN_ERROR="Please use your credentials to sign in",h.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings",(p=Z||(Z={})).SignInException="SignInException",p.OAuthSignInError="OAuthSignInException";var r6=n(7753);function r8(e,t){let{message:n,recoverySuggestion:r}=r5[t];if(!e)throw new r6.l({name:t,message:n,recoverySuggestion:r})}var r9=n(265),r7=n(6070),ie=n(2307);let it={convert(e){let{urlSafe:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{urlSafe:!1},n="string"==typeof e?e:Array.from(e,e=>String.fromCodePoint(e)).join(""),r=(0,ie.Ds)()(n);return t?r.replace(/\+/g,"-").replace(/\//g,"_"):r}};function ir(e,t){null!=e&&this.fromString(e,t)}function ii(){return new ir(null,null)}let io="undefined"!=typeof navigator;io&&"Microsoft Internet Explorer"===navigator.appName?(ir.prototype.am=function(e,t,n,r,i,o){let a=32767&t,s=t>>15;for(;--o>=0;){let t=32767&this[e],o=this[e++]>>15,l=s*t+o*a;i=((t=a*t+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*o+(i>>>30),n[r++]=1073741823&t}return i},r=30):io&&"Netscape"!==navigator.appName?(ir.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){let o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},r=26):(ir.prototype.am=function(e,t,n,r,i,o){let a=16383&t,s=t>>14;for(;--o>=0;){let t=16383&this[e],o=this[e++]>>14,l=s*t+o*a;i=((t=a*t+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*o,n[r++]=268435455&t}return i},r=28),ir.prototype.DB=r,ir.prototype.DM=(1<<r)-1,ir.prototype.DV=1<<r,ir.prototype.FV=4503599627370496,ir.prototype.F1=52-r,ir.prototype.F2=2*r-52;let ia=[];for(o=0,i=48;o<=9;++o)ia[i++]=o;for(o=10,i=97;o<36;++o)ia[i++]=o;for(o=10,i=65;o<36;++o)ia[i++]=o;function is(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function il(e){var t=ii();return t.fromInt(e),t}function ic(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function iu(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}iu.prototype.convert=function(e){var t=ii();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(ir.ZERO)>0&&this.m.subTo(t,t),t},iu.prototype.revert=function(e){var t=ii();return e.copyTo(t),this.reduce(t),t},iu.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},iu.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},iu.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},ir.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},ir.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},ir.prototype.fromString=function(e,t){let n;if(16===t)n=4;else if(8===t)n=3;else if(2===t)n=1;else if(32===t)n=5;else if(4===t)n=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let r=e.length,i=!1,o=0;for(;--r>=0;){let t=function(e,t){var n=ia[e.charCodeAt(t)];return null==n?-1:n}(e,r);if(t<0){"-"===e.charAt(r)&&(i=!0);continue}i=!1,0===o?this[this.t++]=t:o+n>this.DB?(this[this.t-1]|=(t&(1<<this.DB-o)-1)<<o,this[this.t++]=t>>this.DB-o):this[this.t-1]|=t<<o,(o+=n)>=this.DB&&(o-=this.DB)}this.clamp(),i&&ir.ZERO.subTo(this,this)},ir.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},ir.prototype.dlShiftTo=function(e,t){let n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},ir.prototype.drShiftTo=function(e,t){for(let n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},ir.prototype.lShiftTo=function(e,t){let n=e%this.DB,r=this.DB-n,i=(1<<r)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM,s;for(s=this.t-1;s>=0;--s)t[s+o+1]=this[s]>>r|a,a=(this[s]&i)<<n;for(s=o-1;s>=0;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},ir.prototype.rShiftTo=function(e,t){t.s=this.s;let n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}let r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(let e=n+1;e<this.t;++e)t[e-n-1]|=(this[e]&o)<<i,t[e-n]=this[e]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()},ir.prototype.subTo=function(e,t){let n=0,r=0,i=Math.min(e.t,this.t);for(;n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},ir.prototype.multiplyTo=function(e,t){let n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&ir.ZERO.subTo(t,t)},ir.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},ir.prototype.divRemTo=function(e,t,n){var r=e.abs();if(r.t<=0)return;var i=this.abs();if(i.t<r.t){null!=t&&t.fromInt(0),null!=n&&this.copyTo(n);return}null===n&&(n=ii());var o=ii(),a=this.s,s=e.s,l=this.DB-ic(r[r.t-1]);l>0?(r.lShiftTo(l,o),i.lShiftTo(l,n)):(r.copyTo(o),i.copyTo(n));let c=o.t,u=o[c-1];if(0===u)return;let d=u*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),f=this.FV/d,h=(1<<this.F1)/d,p=1<<this.F2,g=n.t,m=g-c,v=null===t?ii():t;for(o.dlShiftTo(m,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),ir.ONE.dlShiftTo(c,v),v.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--m>=0;){var y=n[--g]===u?this.DM:Math.floor(n[g]*f+(n[g-1]+p)*h);if((n[g]+=o.am(0,y,n,m,0,c))<y)for(o.dlShiftTo(m,v),n.subTo(v,n);n[g]<--y;)n.subTo(v,n)}null!==t&&(n.drShiftTo(c,t),a!==s&&ir.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&ir.ZERO.subTo(n,n)},ir.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},ir.prototype.addTo=function(e,t){let n=0,r=0,i=Math.min(e.t,this.t);for(;n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},ir.prototype.toString=function(e){var t;if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8===e)t=3;else if(2===e)t=1;else if(32===e)t=5;else if(4===e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");let n=(1<<t)-1,r,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(i=!0,o=is(r));a>=0;)s<t?r=(this[a]&(1<<s)-1)<<t-s|this[--a]>>(s+=this.DB-t):(r=this[a]>>(s-=t)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=is(r));return i?o:"0"},ir.prototype.negate=function(){var e=ii();return ir.ZERO.subTo(this,e),e},ir.prototype.abs=function(){return this.s<0?this.negate():this},ir.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},ir.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ic(this[this.t-1]^this.s&this.DM)},ir.prototype.mod=function(e){var t=ii();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(ir.ZERO)>0&&e.subTo(t,t),t},ir.prototype.equals=function(e){return 0===this.compareTo(e)},ir.prototype.add=function(e){var t=ii();return this.addTo(e,t),t},ir.prototype.subtract=function(e){var t=ii();return this.subTo(e,t),t},ir.prototype.multiply=function(e){var t=ii();return this.multiplyTo(e,t),t},ir.prototype.divide=function(e){var t=ii();return this.divRemTo(e,t,null),t},ir.prototype.modPow=function(e,t,n){let r=e.bitLength(),i,o=il(1),a=new iu(t);if(r<=0)return o;let s=[],l=3,c=(i=r<18?1:r<48?3:r<144?4:r<768?5:6)-1,u=(1<<i)-1;if(s[1]=a.convert(this),i>1){let e=ii();for(a.sqrTo(s[1],e);l<=u;)s[l]=ii(),a.mulTo(e,s[l-2],s[l]),l+=2}let d=e.t-1,f,h=!0,p=ii(),g;for(r=ic(e[d])-1;d>=0;){for(r>=c?f=e[d]>>r-c&u:(f=(e[d]&(1<<r+1)-1)<<c-r,d>0&&(f|=e[d-1]>>this.DB+r-c)),l=i;(1&f)==0;)f>>=1,--l;if((r-=l)<0&&(r+=this.DB,--d),h)s[f].copyTo(o),h=!1;else{for(;l>1;)a.sqrTo(o,p),a.sqrTo(p,o),l-=2;l>0?a.sqrTo(o,p):(g=o,o=p,p=g),a.mulTo(p,s[f],o)}for(;d>=0&&(e[d]&1<<r)==0;)a.sqrTo(o,p),g=o,o=p,p=g,--r<0&&(r=this.DB-1,--d)}var m=a.revert(o);return n(null,m),m},ir.ZERO=il(0),ir.ONE=il(1);let id={convert:e=>new TextEncoder().encode(e)},ih=async e=>{let{a:t,g:n,k:r,x:i,B:o,N:a,U:s}=e;return new Promise((e,l)=>{n.modPow(i,a,(n,c)=>{if(n){l(n);return}o.subtract(r.multiply(c)).modPow(t.add(s.multiply(i)),a,(t,n)=>{if(t){l(t);return}e(n.mod(a))})})})},ip={},ig={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t="0".concat(t)),ip[e]=t,ig[t]=e}let im=e=>{if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let r=e.slice(n,n+2).toLowerCase();if(r in ig)t[n/2]=ig[r];else throw Error("Cannot decode unrecognized sequence ".concat(r," as hexadecimal"))}return t};var iv=n(146);let iy=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=ip[e[n]];return t},iE=e=>{let t=new iv.f;t.update(e);let n=iy(t.digestSync());return Array(64-n.length).join("0")+n},iS=e=>iE(im(e)),iw=/^[89a-f]/i,ix=e=>{if(!(e instanceof ir))throw Error("Not a BigInteger");let t=0>e.compareTo(ir.ZERO),n=e.abs().toString(16);return n=n.length%2!=0?"0".concat(n):n,n=iw.test(n)?"00".concat(n):n,t&&(n=new ir(n.split("").map(e=>{let t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join(""),16).add(ir.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2)),n},ib=e=>{let{A:t,B:n}=e,r=new ir(iS(ix(t)+ix(n)),16);if(r.equals(ir.ZERO))throw Error("U cannot be zero.");return r},iC=(e,t,n)=>{let r=new iv.f(t);r.update(e);let i=r.digestSync(),o=new iv.f(i);return o.update(n),o.digestSync().slice(0,16)};class iI{random(e){let t=[];for(let n=0;n<e;n+=4)t.push((0,ie.MX)().getRandomValues(new Uint32Array(1))[0]);return new iI(t,e)}toString(){return function(e){let t=e.words,n=e.sigBytes,r=[];for(let e=0;e<n;e++){let n=t[e>>>2]>>>24-e%4*8&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")}(this)}constructor(e,t){this.words=[];let n=e;n=this.words=n||[],void 0!==t?this.sigBytes=t:this.sigBytes=4*n.length}}let iA=e=>im(new iI().random(e).toString()),i_=()=>it.convert(iA(40));class iR{getRandomPassword(){if(!this.randomPassword)throw new r6.l({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new r6.l({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new r6.l({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(e,t){this.randomPassword=i_();let n=iE("".concat(e).concat(t,":").concat(this.randomPassword)),r=iy(iA(16));return this.saltToHashDevices=ix(new ir(r,16)),new Promise((e,t)=>{this.g.modPow(new ir(iS(this.saltToHashDevices+n),16),this.N,(n,r)=>{if(n){t(n);return}this.verifierDevices=ix(r),e()})})}async getPasswordAuthenticationKey(e){let{username:t,password:n,serverBValue:r,salt:i}=e;if(r.mod(this.N).equals(ir.ZERO))throw Error("B cannot be zero.");let o=ib({A:this.A,B:r}),a=iE("".concat(this.userPoolName).concat(t,":").concat(n)),s=new ir(iS(ix(i)+a),16),l=await ih({a:this.a,g:this.g,k:this.k,x:s,B:r,N:this.N,U:o}),c=this.encoder.convert("Caldera Derived Key"),u=this.encoder.convert("\x01"),d=new Uint8Array(c.byteLength+u.byteLength);return d.set(c,0),d.set(u,c.byteLength),iC(im(ix(l)),im(ix(o)),d)}constructor({userPoolName:e,a:t,g:n,A:r,N:i}){this.encoder=id,this.userPoolName=e,this.a=t,this.g=n,this.A=r,this.N=i,this.k=new ir(iS("".concat(ix(i)).concat(ix(n))),16)}}let iT=async e=>{let{a:t,g:n,N:r}=e;return new Promise((e,i)=>{n.modPow(t,r,(t,n)=>{if(t){i(t);return}if(n.mod(r).equals(ir.ZERO)){i(Error("Illegal parameter. A mod N cannot be 0."));return}e(n)})})},iN=async e=>{let t=new ir("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),n=new ir("2",16),r=iP(),i=await iT({a:r,g:n,N:t});return new iR({userPoolName:e,a:r,g:n,A:i,N:t})},iP=()=>new ir(iy(iA(128)),16),iU=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],iM=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],iF=()=>{let e=new Date,t=iM[e.getUTCDay()],n=iU[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0".concat(i));let o=e.getUTCMinutes();o<10&&(o="0".concat(o));let a=e.getUTCSeconds();a<10&&(a="0".concat(a));let s=e.getUTCFullYear();return"".concat(t," ").concat(n," ").concat(r," ").concat(i,":").concat(o,":").concat(a," UTC ").concat(s)};var ik=n(4494);let iO=e=>{let{userPoolName:t,username:n,challengeParameters:r,dateNow:i,hkdf:o}=e,a=id.convert(t),s=id.convert(n),l=iD(r.SECRET_BLOCK),c=id.convert(i),u=new Uint8Array(a.byteLength+s.byteLength+l.byteLength+c.byteLength);u.set(a,0),u.set(s,a.byteLength),u.set(l,a.byteLength+s.byteLength),u.set(c,a.byteLength+s.byteLength+l.byteLength);let d=new iv.f(o);d.update(u);let f=d.digestSync();return it.convert(f)},iD=e=>{let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=ik.$.convert(n),i=new Uint8Array(r.length);for(let e=0;e<r.length;++e)i[e]=r.charCodeAt(e);return i};function iL(){return{username:void 0,challengeName:void 0,signInSession:void 0}}(g=J||(J={})).ConcurrentModificationException="ConcurrentModificationException",g.ForbiddenException="ForbiddenException",g.InternalErrorException="InternalErrorException",g.InvalidParameterException="InvalidParameterException",g.NotAuthorizedException="NotAuthorizedException",g.ResourceNotFoundException="ResourceNotFoundException",g.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",(m=X||(X={})).ForbiddenException="ForbiddenException",m.InternalErrorException="InternalErrorException",m.InvalidParameterException="InvalidParameterException",m.InvalidPasswordException="InvalidPasswordException",m.LimitExceededException="LimitExceededException",m.NotAuthorizedException="NotAuthorizedException",m.PasswordResetRequiredException="PasswordResetRequiredException",m.ResourceNotFoundException="ResourceNotFoundException",m.TooManyRequestsException="TooManyRequestsException",m.UserNotConfirmedException="UserNotConfirmedException",m.UserNotFoundException="UserNotFoundException",(v=$||($={})).ForbiddenException="ForbiddenException",v.InternalErrorException="InternalErrorException",v.InvalidLambdaResponseException="InvalidLambdaResponseException",v.InvalidParameterException="InvalidParameterException",v.InvalidPasswordException="InvalidPasswordException",v.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",v.NotAuthorizedException="NotAuthorizedException",v.PasswordResetRequiredException="PasswordResetRequiredException",v.ResourceNotFoundException="ResourceNotFoundException",v.TooManyRequestsException="TooManyRequestsException",v.UsernameExistsException="UsernameExistsException",v.UserNotConfirmedException="UserNotConfirmedException",v.UserNotFoundException="UserNotFoundException",(y=ee||(ee={})).CodeMismatchException="CodeMismatchException",y.ExpiredCodeException="ExpiredCodeException",y.ForbiddenException="ForbiddenException",y.InternalErrorException="InternalErrorException",y.InvalidLambdaResponseException="InvalidLambdaResponseException",y.InvalidParameterException="InvalidParameterException",y.InvalidPasswordException="InvalidPasswordException",y.LimitExceededException="LimitExceededException",y.NotAuthorizedException="NotAuthorizedException",y.ResourceNotFoundException="ResourceNotFoundException",y.TooManyFailedAttemptsException="TooManyFailedAttemptsException",y.TooManyRequestsException="TooManyRequestsException",y.UnexpectedLambdaException="UnexpectedLambdaException",y.UserLambdaValidationException="UserLambdaValidationException",y.UserNotConfirmedException="UserNotConfirmedException",y.UserNotFoundException="UserNotFoundException",(E=et||(et={})).AliasExistsException="AliasExistsException",E.CodeMismatchException="CodeMismatchException",E.ExpiredCodeException="ExpiredCodeException",E.ForbiddenException="ForbiddenException",E.InternalErrorException="InternalErrorException",E.InvalidLambdaResponseException="InvalidLambdaResponseException",E.InvalidParameterException="InvalidParameterException",E.LimitExceededException="LimitExceededException",E.NotAuthorizedException="NotAuthorizedException",E.ResourceNotFoundException="ResourceNotFoundException",E.TooManyFailedAttemptsException="TooManyFailedAttemptsException",E.TooManyRequestsException="TooManyRequestsException",E.UnexpectedLambdaException="UnexpectedLambdaException",E.UserLambdaValidationException="UserLambdaValidationException",E.UserNotFoundException="UserNotFoundException",(S=en||(en={})).ForbiddenException="ForbiddenException",S.InternalErrorException="InternalErrorException",S.InvalidParameterException="InvalidParameterException",S.NotAuthorizedException="NotAuthorizedException",S.PasswordResetRequiredException="PasswordResetRequiredException",S.ResourceNotFoundException="ResourceNotFoundException",S.TooManyRequestsException="TooManyRequestsException",S.UserNotConfirmedException="UserNotConfirmedException",S.UserNotFoundException="UserNotFoundException",(w=er||(er={})).ForbiddenException="ForbiddenException",w.InternalErrorException="InternalErrorException",w.InvalidParameterException="InvalidParameterException",w.NotAuthorizedException="NotAuthorizedException",w.PasswordResetRequiredException="PasswordResetRequiredException",w.ResourceNotFoundException="ResourceNotFoundException",w.TooManyRequestsException="TooManyRequestsException",w.UserNotConfirmedException="UserNotConfirmedException",w.UserNotFoundException="UserNotFoundException",(x=ei||(ei={})).ForbiddenException="ForbiddenException",x.InternalErrorException="InternalErrorException",x.InvalidParameterException="InvalidParameterException",x.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",x.NotAuthorizedException="NotAuthorizedException",x.PasswordResetRequiredException="PasswordResetRequiredException",x.ResourceNotFoundException="ResourceNotFoundException",x.TooManyRequestsException="TooManyRequestsException",x.UserNotConfirmedException="UserNotConfirmedException",x.UserNotFoundException="UserNotFoundException",(b=eo||(eo={})).CodeDeliveryFailureException="CodeDeliveryFailureException",b.ForbiddenException="ForbiddenException",b.InternalErrorException="InternalErrorException",b.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",b.InvalidLambdaResponseException="InvalidLambdaResponseException",b.InvalidParameterException="InvalidParameterException",b.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",b.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",b.LimitExceededException="LimitExceededException",b.NotAuthorizedException="NotAuthorizedException",b.ResourceNotFoundException="ResourceNotFoundException",b.TooManyRequestsException="TooManyRequestsException",b.UnexpectedLambdaException="UnexpectedLambdaException",b.UserLambdaValidationException="UserLambdaValidationException",b.UserNotFoundException="UserNotFoundException",(C=ea||(ea={})).ForbiddenException="ForbiddenException",C.InternalErrorException="InternalErrorException",C.InvalidParameterException="InvalidParameterException",C.NotAuthorizedException="NotAuthorizedException",C.PasswordResetRequiredException="PasswordResetRequiredException",C.ResourceNotFoundException="ResourceNotFoundException",C.TooManyRequestsException="TooManyRequestsException",C.UserNotConfirmedException="UserNotConfirmedException",C.UserNotFoundException="UserNotFoundException",(I=es||(es={})).ExternalServiceException="ExternalServiceException",I.InternalErrorException="InternalErrorException",I.InvalidParameterException="InvalidParameterException",I.LimitExceededException="LimitExceededException",I.NotAuthorizedException="NotAuthorizedException",I.ResourceConflictException="ResourceConflictException",I.ResourceNotFoundException="ResourceNotFoundException",I.TooManyRequestsException="TooManyRequestsException",(A=el||(el={})).ExternalServiceException="ExternalServiceException",A.InternalErrorException="InternalErrorException",A.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",A.InvalidParameterException="InvalidParameterException",A.NotAuthorizedException="NotAuthorizedException",A.ResourceConflictException="ResourceConflictException",A.ResourceNotFoundException="ResourceNotFoundException",A.TooManyRequestsException="TooManyRequestsException",(_=ec||(ec={})).CodeDeliveryFailureException="CodeDeliveryFailureException",_.ForbiddenException="ForbiddenException",_.InternalErrorException="InternalErrorException",_.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",_.InvalidLambdaResponseException="InvalidLambdaResponseException",_.InvalidParameterException="InvalidParameterException",_.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",_.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",_.LimitExceededException="LimitExceededException",_.NotAuthorizedException="NotAuthorizedException",_.PasswordResetRequiredException="PasswordResetRequiredException",_.ResourceNotFoundException="ResourceNotFoundException",_.TooManyRequestsException="TooManyRequestsException",_.UnexpectedLambdaException="UnexpectedLambdaException",_.UserLambdaValidationException="UserLambdaValidationException",_.UserNotConfirmedException="UserNotConfirmedException",_.UserNotFoundException="UserNotFoundException",(R=eu||(eu={})).ForbiddenException="ForbiddenException",R.InternalErrorException="InternalErrorException",R.InvalidParameterException="InvalidParameterException",R.NotAuthorizedException="NotAuthorizedException",R.PasswordResetRequiredException="PasswordResetRequiredException",R.ResourceNotFoundException="ResourceNotFoundException",R.TooManyRequestsException="TooManyRequestsException",R.UserNotConfirmedException="UserNotConfirmedException",(T=ed||(ed={})).PasswordResetRequiredException="PasswordResetRequiredException",T.ForbiddenException="ForbiddenException",T.InternalErrorException="InternalErrorException",T.InvalidLambdaResponseException="InvalidLambdaResponseException",T.InvalidParameterException="InvalidParameterException",T.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",T.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",T.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",T.NotAuthorizedException="NotAuthorizedException",T.ResourceNotFoundException="ResourceNotFoundException",T.TooManyRequestsException="TooManyRequestsException",T.UnexpectedLambdaException="UnexpectedLambdaException",T.UserLambdaValidationException="UserLambdaValidationException",T.UserNotConfirmedException="UserNotConfirmedException",T.UserNotFoundException="UserNotFoundException",(N=ef||(ef={})).CodeDeliveryFailureException="CodeDeliveryFailureException",N.ForbiddenException="ForbiddenException",N.InternalErrorException="InternalErrorException",N.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",N.InvalidLambdaResponseException="InvalidLambdaResponseException",N.InvalidParameterException="InvalidParameterException",N.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",N.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",N.LimitExceededException="LimitExceededException",N.NotAuthorizedException="NotAuthorizedException",N.ResourceNotFoundException="ResourceNotFoundException",N.TooManyRequestsException="TooManyRequestsException",N.UnexpectedLambdaException="UnexpectedLambdaException",N.UserLambdaValidationException="UserLambdaValidationException",N.UserNotFoundException="UserNotFoundException",(P=eh||(eh={})).AliasExistsException="AliasExistsException",P.CodeMismatchException="CodeMismatchException",P.ExpiredCodeException="ExpiredCodeException",P.ForbiddenException="ForbiddenException",P.InternalErrorException="InternalErrorException",P.InvalidLambdaResponseException="InvalidLambdaResponseException",P.InvalidParameterException="InvalidParameterException",P.InvalidPasswordException="InvalidPasswordException",P.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",P.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",P.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",P.MFAMethodNotFoundException="MFAMethodNotFoundException",P.NotAuthorizedException="NotAuthorizedException",P.PasswordResetRequiredException="PasswordResetRequiredException",P.ResourceNotFoundException="ResourceNotFoundException",P.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",P.TooManyRequestsException="TooManyRequestsException",P.UnexpectedLambdaException="UnexpectedLambdaException",P.UserLambdaValidationException="UserLambdaValidationException",P.UserNotConfirmedException="UserNotConfirmedException",P.UserNotFoundException="UserNotFoundException",(U=ep||(ep={})).ForbiddenException="ForbiddenException",U.InternalErrorException="InternalErrorException",U.InvalidParameterException="InvalidParameterException",U.NotAuthorizedException="NotAuthorizedException",U.PasswordResetRequiredException="PasswordResetRequiredException",U.ResourceNotFoundException="ResourceNotFoundException",U.UserNotConfirmedException="UserNotConfirmedException",U.UserNotFoundException="UserNotFoundException",(M=eg||(eg={})).CodeDeliveryFailureException="CodeDeliveryFailureException",M.InternalErrorException="InternalErrorException",M.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",M.InvalidLambdaResponseException="InvalidLambdaResponseException",M.InvalidParameterException="InvalidParameterException",M.InvalidPasswordException="InvalidPasswordException",M.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",M.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",M.NotAuthorizedException="NotAuthorizedException",M.ResourceNotFoundException="ResourceNotFoundException",M.TooManyRequestsException="TooManyRequestsException",M.UnexpectedLambdaException="UnexpectedLambdaException",M.UserLambdaValidationException="UserLambdaValidationException",M.UsernameExistsException="UsernameExistsException",(F=em||(em={})).AliasExistsException="AliasExistsException",F.CodeDeliveryFailureException="CodeDeliveryFailureException",F.CodeMismatchException="CodeMismatchException",F.ExpiredCodeException="ExpiredCodeException",F.ForbiddenException="ForbiddenException",F.InternalErrorException="InternalErrorException",F.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",F.InvalidLambdaResponseException="InvalidLambdaResponseException",F.InvalidParameterException="InvalidParameterException",F.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",F.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",F.NotAuthorizedException="NotAuthorizedException",F.PasswordResetRequiredException="PasswordResetRequiredException",F.ResourceNotFoundException="ResourceNotFoundException",F.TooManyRequestsException="TooManyRequestsException",F.UnexpectedLambdaException="UnexpectedLambdaException",F.UserLambdaValidationException="UserLambdaValidationException",F.UserNotConfirmedException="UserNotConfirmedException",F.UserNotFoundException="UserNotFoundException",(k=ev||(ev={})).CodeMismatchException="CodeMismatchException",k.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",k.ForbiddenException="ForbiddenException",k.InternalErrorException="InternalErrorException",k.InvalidParameterException="InvalidParameterException",k.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",k.NotAuthorizedException="NotAuthorizedException",k.PasswordResetRequiredException="PasswordResetRequiredException",k.ResourceNotFoundException="ResourceNotFoundException",k.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",k.TooManyRequestsException="TooManyRequestsException",k.UserNotConfirmedException="UserNotConfirmedException",k.UserNotFoundException="UserNotFoundException",(O=ey||(ey={})).AliasExistsException="AliasExistsException",O.CodeMismatchException="CodeMismatchException",O.ExpiredCodeException="ExpiredCodeException",O.ForbiddenException="ForbiddenException",O.InternalErrorException="InternalErrorException",O.InvalidParameterException="InvalidParameterException",O.LimitExceededException="LimitExceededException",O.NotAuthorizedException="NotAuthorizedException",O.PasswordResetRequiredException="PasswordResetRequiredException",O.ResourceNotFoundException="ResourceNotFoundException",O.TooManyRequestsException="TooManyRequestsException",O.UserNotConfirmedException="UserNotConfirmedException",O.UserNotFoundException="UserNotFoundException",(D=eE||(eE={})).ForbiddenException="ForbiddenException",D.InternalErrorException="InternalErrorException",D.InvalidParameterException="InvalidParameterException",D.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",D.NotAuthorizedException="NotAuthorizedException",D.PasswordResetRequiredException="PasswordResetRequiredException",D.ResourceNotFoundException="ResourceNotFoundException",D.TooManyRequestsException="TooManyRequestsException",D.UserNotConfirmedException="UserNotConfirmedException",D.UserNotFoundException="UserNotFoundException",(L=eS||(eS={})).ForbiddenException="ForbiddenException",L.InternalErrorException="InternalErrorException",L.InvalidParameterException="InvalidParameterException",L.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",L.NotAuthorizedException="NotAuthorizedException",L.PasswordResetRequiredException="PasswordResetRequiredException",L.ResourceNotFoundException="ResourceNotFoundException",L.TooManyRequestsException="TooManyRequestsException",L.UserNotConfirmedException="UserNotConfirmedException",L.UserNotFoundException="UserNotFoundException";let iB=(s=(B=(e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return{...t.value};case"SET_CHALLENGE_NAME":return{...e,challengeName:t.value};case"SET_USERNAME":return{...e,username:t.value};case"SET_INITIAL_STATE":return iL();default:return e}})(iL(),{type:"SET_INITIAL_STATE"}),{getState:()=>s,dispatch:e=>{s=B(s,e)}});function iV(e){iB.dispatch({type:"SET_SIGN_IN_STATE",value:e})}function ij(){iB.dispatch({type:"SET_INITIAL_STATE"})}var iG=n(8707),iz=n(9467),iH=n(1417),iW=n(3279);let iq=(e,t)=>(0,iW.Zm)({category:tE.WD.Auth,action:e,...t});var iK=n(7082);let iY="userAttributes.";async function iQ(e){let{challengeResponse:t,clientMetadata:n,session:r,username:i,config:o,tokenOrchestrator:a}=e,{userPoolId:s,userPoolClientId:l}=o,c={USERNAME:i,ANSWER:t},u=await (null==a?void 0:a.getDeviceMetadata(i));u&&u.deviceKey&&(c.DEVICE_KEY=u.deviceKey);let d=(0,iK.u)({username:i,userPoolId:s,userPoolClientId:l}),f=await (0,iG.H6)({region:(0,iz.u)(s),userAgentValue:iq(tE.g4.ConfirmSignIn)},{ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:c,Session:r,ClientMetadata:n,ClientId:l,UserContextData:d});return"DEVICE_SRP_AUTH"===f.ChallengeName?i5({username:i,config:o,clientMetadata:n,session:f.Session,tokenOrchestrator:a}):f}async function iZ(e){let{challengeResponse:t,username:n,clientMetadata:r,session:i,deviceName:o,config:a}=e,{userPoolId:s,userPoolClientId:l}=a,{Session:c}=await (0,iG.fn)({region:(0,iz.u)(s),userAgentValue:iq(tE.g4.ConfirmSignIn)},{UserCode:t,Session:i,FriendlyDeviceName:o});return iB.dispatch({type:"SET_SIGN_IN_SESSION",value:c}),(0,iG.H6)({region:(0,iz.u)(s)},{ChallengeName:"MFA_SETUP",ChallengeResponses:{USERNAME:n},Session:c,ClientMetadata:r,ClientId:l})}async function iJ(e){let t,{challengeResponse:n,username:r,clientMetadata:i,session:o,config:a}=e,{userPoolId:s,userPoolClientId:l}=a;r8("TOTP"===n||"SMS"===n,Y.IncorrectMFAMethod);let c={USERNAME:r,ANSWER:(t="SMS_MFA","TOTP"===n&&(t="SOFTWARE_TOKEN_MFA"),t)},u=(0,iK.u)({username:r,userPoolId:s,userPoolClientId:l});return(0,iG.H6)({region:(0,iz.u)(s),userAgentValue:iq(tE.g4.ConfirmSignIn)},{ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:c,Session:o,ClientMetadata:i,ClientId:l,UserContextData:u})}async function iX(e){let{challengeResponse:t,clientMetadata:n,session:r,username:i,config:o}=e,{userPoolId:a,userPoolClientId:s}=o,l=(0,iK.u)({username:i,userPoolId:a,userPoolClientId:s});return(0,iG.H6)({region:(0,iz.u)(a),userAgentValue:iq(tE.g4.ConfirmSignIn)},{ChallengeName:"SMS_MFA",ChallengeResponses:{USERNAME:i,SMS_MFA_CODE:t},Session:r,ClientMetadata:n,ClientId:s,UserContextData:l})}async function i$(e){let{challengeResponse:t,clientMetadata:n,session:r,username:i,config:o}=e,{userPoolId:a,userPoolClientId:s}=o,l=(0,iK.u)({username:i,userPoolId:a,userPoolClientId:s});return(0,iG.H6)({region:(0,iz.u)(a),userAgentValue:iq(tE.g4.ConfirmSignIn)},{ChallengeName:"SOFTWARE_TOKEN_MFA",ChallengeResponses:{USERNAME:i,SOFTWARE_TOKEN_MFA_CODE:t},Session:r,ClientMetadata:n,ClientId:s,UserContextData:l})}async function i0(e){let{challengeResponse:t,clientMetadata:n,session:r,username:i,requiredAttributes:o,config:a}=e,{userPoolId:s,userPoolClientId:l}=a,c={...function(e){if(!e)return{};let t={};return Object.entries(e).forEach(e=>{let[n,r]=e;r&&(t["".concat(iY).concat(n)]=r)}),t}(o),NEW_PASSWORD:t,USERNAME:i},u=(0,iK.u)({username:i,userPoolId:s,userPoolClientId:l});return(0,iG.H6)({region:(0,iz.u)(s),userAgentValue:iq(tE.g4.ConfirmSignIn)},{ChallengeName:"NEW_PASSWORD_REQUIRED",ChallengeResponses:c,ClientMetadata:n,Session:r,ClientId:l,UserContextData:u})}async function i1(e,t,n,r,i){var o,a,s,l;let{userPoolClientId:c,userPoolId:u}=r,d={USERNAME:e,PASSWORD:t},f=await i.getDeviceMetadata(e);f&&f.deviceKey&&(d.DEVICE_KEY=f.deviceKey);let h=(0,iK.u)({username:e,userPoolId:u,userPoolClientId:c}),p=await (0,iG.Cg)({region:(0,iz.u)(u),userAgentValue:iq(tE.g4.SignIn)},{AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:d,ClientMetadata:n,ClientId:c,UserContextData:h}),g=null!==(l=null!==(s=null===(o=p.ChallengeParameters)||void 0===o?void 0:o.USERNAME)&&void 0!==s?s:null===(a=p.ChallengeParameters)||void 0===a?void 0:a.USER_ID_FOR_SRP)&&void 0!==l?l:e;return(os(g),"DEVICE_SRP_AUTH"===p.ChallengeName)?i5({username:g,config:r,clientMetadata:n,session:p.Session,tokenOrchestrator:i}):p}async function i2(e,t,n,r,i){var o;let{userPoolId:a,userPoolClientId:s}=r,l=(null==a?void 0:a.split("_")[1])||"",c=await iN(l),u={USERNAME:e,SRP_A:c.A.toString(16)},d=(0,iK.u)({username:e,userPoolId:a,userPoolClientId:s}),{ChallengeParameters:f,Session:h}=await (0,iG.Cg)({region:(0,iz.u)(a),userAgentValue:iq(tE.g4.SignIn)},{AuthFlow:"USER_SRP_AUTH",AuthParameters:u,ClientMetadata:n,ClientId:s,UserContextData:d}),p=null!==(o=null==f?void 0:f.USERNAME)&&void 0!==o?o:e;return os(p),oa(i8,[t,f,n,h,c,r,i],p,i)}async function i4(e,t,n,r){var i,o;let{userPoolClientId:a,userPoolId:s}=n,l={USERNAME:e},c=await r.getDeviceMetadata(e);c&&c.deviceKey&&(l.DEVICE_KEY=c.deviceKey);let u=(0,iK.u)({username:e,userPoolId:s,userPoolClientId:a}),d=await (0,iG.Cg)({region:(0,iz.u)(s),userAgentValue:iq(tE.g4.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:l,ClientMetadata:t,ClientId:a,UserContextData:u}),f=null!==(o=null===(i=d.ChallengeParameters)||void 0===i?void 0:i.USERNAME)&&void 0!==o?o:e;return(os(f),"DEVICE_SRP_AUTH"===d.ChallengeName)?i5({username:f,config:n,clientMetadata:t,session:d.Session,tokenOrchestrator:r}):d}async function i3(e,t,n,r,i){var o;(0,n7.FG)(r);let{userPoolId:a,userPoolClientId:s}=r,l=(null==a?void 0:a.split("_")[1])||"",c=await iN(l),u={USERNAME:e,SRP_A:c.A.toString(16),CHALLENGE_NAME:"SRP_A"},d=(0,iK.u)({username:e,userPoolId:a,userPoolClientId:s}),{ChallengeParameters:f,Session:h}=await (0,iG.Cg)({region:(0,iz.u)(a),userAgentValue:iq(tE.g4.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:u,ClientMetadata:n,ClientId:s,UserContextData:d}),p=null!==(o=null==f?void 0:f.USERNAME)&&void 0!==o?o:e;return os(p),oa(i8,[t,f,n,h,c,r,i],p,i)}async function i5(e){let{username:t,config:n,clientMetadata:r,session:i,tokenOrchestrator:o}=e,a=n.userPoolId,s=n.userPoolClientId,l=await (null==o?void 0:o.getDeviceMetadata(t));(0,re.tr)(l);let c=await iN(l.deviceGroupKey),u={USERNAME:t,SRP_A:c.A.toString(16),DEVICE_KEY:l.deviceKey},{ChallengeParameters:d,Session:f}=await (0,iG.H6)({region:(0,iz.u)(a)},{ChallengeName:"DEVICE_SRP_AUTH",ClientId:s,ChallengeResponses:u,ClientMetadata:r,Session:i});return i6(t,d,r,f,c,n,o)}async function i6(e,t,n,r,i,o,a){var s;let{userPoolId:l,userPoolClientId:c}=o,u=await (null==a?void 0:a.getDeviceMetadata(e));(0,re.tr)(u);let d=new ir(null==t?void 0:t.SRP_B,16),f=new ir(null==t?void 0:t.SALT,16),h=u.deviceKey,p=u.deviceGroupKey,g=await i.getPasswordAuthenticationKey({username:u.deviceKey,password:u.randomPassword,serverBValue:d,salt:f}),m=iF(),v={USERNAME:null!==(s=null==t?void 0:t.USERNAME)&&void 0!==s?s:e,PASSWORD_CLAIM_SECRET_BLOCK:null==t?void 0:t.SECRET_BLOCK,TIMESTAMP:m,PASSWORD_CLAIM_SIGNATURE:iO({username:h,userPoolName:p,challengeParameters:t,dateNow:m,hkdf:g}),DEVICE_KEY:h},y=(0,iK.u)({username:e,userPoolId:l,userPoolClientId:c});return(0,iG.H6)({region:(0,iz.u)(l)},{ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:c,ChallengeResponses:v,Session:r,ClientMetadata:n,UserContextData:y})}async function i8(e,t,n,r,i,o,a){let{userPoolId:s,userPoolClientId:l}=o,c=(null==s?void 0:s.split("_")[1])||"",u=new ir(null==t?void 0:t.SRP_B,16),d=new ir(null==t?void 0:t.SALT,16),f=null==t?void 0:t.USER_ID_FOR_SRP;if(!f)throw new r6.l({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});let h=await i.getPasswordAuthenticationKey({username:f,password:e,serverBValue:u,salt:d}),p=iF(),g={USERNAME:f,PASSWORD_CLAIM_SECRET_BLOCK:null==t?void 0:t.SECRET_BLOCK,TIMESTAMP:p,PASSWORD_CLAIM_SIGNATURE:iO({username:f,userPoolName:c,challengeParameters:t,dateNow:p,hkdf:h})},m=await a.getDeviceMetadata(f);m&&m.deviceKey&&(g.DEVICE_KEY=m.deviceKey);let v=(0,iK.u)({username:f,userPoolId:s,userPoolClientId:l}),y=await (0,iG.H6)({region:(0,iz.u)(s)},{ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:g,ClientMetadata:n,Session:r,ClientId:l,UserContextData:v});return"DEVICE_SRP_AUTH"===y.ChallengeName?i5({username:f,config:o,clientMetadata:n,session:y.Session,tokenOrchestrator:a}):y}async function i9(e){var t,n;let{challengeName:r,challengeParameters:i}=e,o=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;switch((0,n7.FG)(o),r){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:i}};case"MFA_SETUP":let{signInSession:a,username:s}=iB.getState();if(!function(e,t){let{MFAS_CAN_SETUP:n}=e,r=on(or(n));return!!r&&r.includes(t)}(i,"TOTP"))throw new r6.l({name:Z.SignInException,message:"Cannot initiate MFA setup from available types: ".concat(on(or(i.MFAS_CAN_SETUP)))});let{Session:l,SecretCode:c}=await (0,iG.Vo)({region:(0,iz.u)(o.userPoolId)},{Session:a});return iB.dispatch({type:"SET_SIGN_IN_SESSION",value:l}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:{sharedSecret:c,getSetupUri:(e,t)=>{let n="otpauth://totp/".concat(e,":").concat(null!=t?t:s,"?secret=").concat(c,"&issuer=").concat(e);return new r7.a(n)}}}};case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:(n=i.requiredAttributes)?JSON.parse(n).map(e=>e.includes(iY)?e.replace(iY,""):e):[]}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:on(or(i.MFAS_CAN_CHOOSE))}};case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:i.CODE_DELIVERY_DELIVERY_MEDIUM,destination:i.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}}}throw new r6.l({name:Z.SignInException,message:"An error occurred during the sign in process. "+"".concat(r," challengeName returned by the underlying service was not addressed.")})}function i7(e){return e===ed.PasswordResetRequiredException?{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}}:e===ed.UserNotConfirmedException?{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}:void 0}async function oe(e,t,n,r,i,o,a,s){let l=null==s?void 0:s.userAttributes,c=null==s?void 0:s.friendlyDeviceName;switch(t){case"SMS_MFA":return iX({challengeResponse:r,clientMetadata:a,session:n,username:e,config:i});case"SELECT_MFA_TYPE":return iJ({challengeResponse:r,clientMetadata:a,session:n,username:e,config:i});case"MFA_SETUP":return iZ({challengeResponse:r,clientMetadata:a,session:n,username:e,deviceName:c,config:i});case"NEW_PASSWORD_REQUIRED":return i0({challengeResponse:r,clientMetadata:a,session:n,username:e,requiredAttributes:l,config:i});case"CUSTOM_CHALLENGE":return oa(iQ,[{challengeResponse:r,clientMetadata:a,session:n,username:e,config:i,tokenOrchestrator:o}],e,o);case"SOFTWARE_TOKEN_MFA":return i$({challengeResponse:r,clientMetadata:a,session:n,username:e,config:i})}throw new r6.l({name:Z.SignInException,message:"An error occurred during the sign in process. \n		".concat(t," challengeName returned by the underlying service was not addressed.")})}function ot(e){return"SMS_MFA"===e?"SMS":"SOFTWARE_TOKEN_MFA"===e?"TOTP":void 0}function on(e){if(e)return e.map(ot).filter(Boolean)}function or(e){return e?JSON.parse(e):[]}async function oi(){let e;try{e=await rn()}catch(e){}if(e&&e.userId&&e.username)throw new r6.l({name:iH.EU,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}async function oo(e,t,n){if(!t)return;let r=e.split("_")[1]||"",i=await iN(r),o=null==t?void 0:t.DeviceKey,a=null==t?void 0:t.DeviceGroupKey;try{await i.generateHashDevice(null!=a?a:"",null!=o?o:"")}catch(e){return}let s={Salt:it.convert(im(i.getSaltToHashDevices())),PasswordVerifier:it.convert(im(i.getVerifierDevices()))},l=i.getRandomPassword();try{return await (0,iG.Cq)({region:(0,iz.u)(e)},{AccessToken:n,DeviceKey:null==t?void 0:t.DeviceKey,DeviceSecretVerifierConfig:s}),{deviceKey:o,deviceGroupKey:a,randomPassword:l}}catch(e){return}}async function oa(e,t,n,r){try{return await e(...t)}catch(i){if(i instanceof r6.l&&"ResourceNotFoundException"===i.name&&i.message.includes("Device does not exist."))return await r.clearDeviceMetadata(n),await e(...t);throw i}}function os(e){let{dispatch:t}=iB;t({type:"SET_USERNAME",value:e})}function ol(e){var t;return null!==(t=iB.getState().username)&&void 0!==t?t:e}var oc=n(5507),ou=n(9723);async function od(e){if(e.AccessToken){let t,n,r;let i=(0,n7.xp)(e.AccessToken),o=1e3*(i.payload.iat||0),a=new Date().getTime();e.RefreshToken&&(n=e.RefreshToken),e.IdToken&&(t=(0,n7.xp)(e.IdToken)),(null==e?void 0:e.NewDeviceMetadata)&&(r=e.NewDeviceMetadata);let s={accessToken:i,idToken:t,refreshToken:n,clockDrift:o>0?o-a:0,deviceMetadata:r,username:e.username};(null==e?void 0:e.signInDetails)&&(s.signInDetails=e.signInDetails),await ou.C.setTokens({tokens:s})}else throw new oc._({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}async function of(e){var t;let n=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(n);let{username:r,password:i,options:o}=e,a={loginId:r,authFlowType:"CUSTOM_WITHOUT_SRP"},s=null==o?void 0:o.clientMetadata;r8(!!r,Y.EmptySignInUsername),r8(!i,Y.CustomAuthSignInPassword);try{let{ChallengeName:e,ChallengeParameters:t,AuthenticationResult:i,Session:o}=await oa(i4,[r,s,n,ou.C],r,ou.C),l=ol(r);if(iV({signInSession:o,username:l,challengeName:e,signInDetails:a}),i)return ij(),await od({username:l,...i,NewDeviceMetadata:await oo(n.userPoolId,i.NewDeviceMetadata,i.AccessToken),signInDetails:a}),rr.Xb.dispatch("auth",{event:"signedIn",data:await rn()},"Auth",rr.SQ),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return i9({challengeName:e,challengeParameters:t})}catch(t){ij(),(0,r9.R)(t);let e=i7(t.name);if(e)return e;throw t}}async function oh(e){var t;let{username:n,password:r,options:i}=e,o={loginId:n,authFlowType:"CUSTOM_WITH_SRP"},a=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(a);let s=null==i?void 0:i.clientMetadata;r8(!!n,Y.EmptySignInUsername),r8(!!r,Y.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:t,AuthenticationResult:i,Session:l}=await i3(n,r,s,a,ou.C),c=ol(n);if(iV({signInSession:l,username:c,challengeName:e,signInDetails:o}),i)return await od({username:c,...i,NewDeviceMetadata:await oo(a.userPoolId,i.NewDeviceMetadata,i.AccessToken),signInDetails:o}),ij(),rr.Xb.dispatch("auth",{event:"signedIn",data:await rn()},"Auth",rr.SQ),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return i9({challengeName:e,challengeParameters:t})}catch(t){ij(),(0,r9.R)(t);let e=i7(t.name);if(e)return e;throw t}}async function op(e){var t,n;let{username:r,password:i}=e,o=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito,a={loginId:r,authFlowType:"USER_SRP_AUTH"};(0,n7.FG)(o);let s=null===(n=e.options)||void 0===n?void 0:n.clientMetadata;r8(!!r,Y.EmptySignInUsername),r8(!!i,Y.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:t,AuthenticationResult:n,Session:l}=await i2(r,i,s,o,ou.C),c=ol(r);if(iV({signInSession:l,username:c,challengeName:e,signInDetails:a}),n)return ij(),await od({username:c,...n,NewDeviceMetadata:await oo(o.userPoolId,n.NewDeviceMetadata,n.AccessToken),signInDetails:a}),rr.Xb.dispatch("auth",{event:"signedIn",data:await rn()},"Auth",rr.SQ),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return i9({challengeName:e,challengeParameters:t})}catch(t){ij(),(0,r9.R)(t);let e=i7(t.name);if(e)return e;throw t}}async function og(e){var t;let{username:n,password:r,options:i}=e,o=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito,a={loginId:n,authFlowType:"USER_PASSWORD_AUTH"};(0,n7.FG)(o);let s=null==i?void 0:i.clientMetadata;r8(!!n,Y.EmptySignInUsername),r8(!!r,Y.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:t,AuthenticationResult:i,Session:l}=await oa(i1,[n,r,s,o,ou.C],n,ou.C),c=ol(n);if(iV({signInSession:l,username:c,challengeName:e,signInDetails:a}),i)return await od({...i,username:c,NewDeviceMetadata:await oo(o.userPoolId,i.NewDeviceMetadata,i.AccessToken),signInDetails:a}),ij(),rr.Xb.dispatch("auth",{event:"signedIn",data:await rn()},"Auth",rr.SQ),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return i9({challengeName:e,challengeParameters:t})}catch(t){ij(),(0,r9.R)(t);let e=i7(t.name);if(e)return e;throw t}}async function om(e){var t;let n=null===(t=e.options)||void 0===t?void 0:t.authFlowType;switch(await oi(),n){case"USER_SRP_AUTH":default:return op(e);case"USER_PASSWORD_AUTH":return og(e);case"CUSTOM_WITHOUT_SRP":return of(e);case"CUSTOM_WITH_SRP":return oh(e)}}function ov(e){return Object.entries(e).map(e=>{let[t,n]=e;return{Name:t,Value:n}})}let oy=async()=>{throw new r6.l({name:iH.MA,message:"The autoSignIn flow has not started, or has been cancelled/completed.",recoverySuggestion:"Please try to use the signIn API or log out before starting a new autoSignIn flow."})},oE=oy;function oS(e,t){let n;return function(r){n||e(...r),clearTimeout(n),n=setTimeout(()=>{n=void 0},t)}}let ow=oS(function(e,t,n){let r=Date.now(),i=setInterval(async()=>{if(Date.now()-r>18e4){clearInterval(i),oC(!1),n(new r6.l({name:iH.MA,message:"The account was not confirmed on time.",recoverySuggestion:"Try to verify your account by clicking the link sent your email or phone and then login manually."})),oE=oy;return}try{let n=await om(e);if("CONFIRM_SIGN_UP"!==n.nextStep.signInStep){t(n),clearInterval(i),oC(!1),oE=oy;return}}catch(e){clearInterval(i),oC(!1),n(e),oE=oy}},5e3)},300),ox=oS(oA,300),ob=!1;function oC(e){!1===e&&(a=void 0),ob=e}function oI(e){return!!e.UserConfirmed}async function oA(e,t,n){try{let n=await om(e);t(n),oE=oy}catch(e){n(e),oE=oy}}function o_(e){return async()=>new Promise(async(t,n)=>{ox([e,t,n])})}async function oR(e){var t;let{challengeResponse:n,options:r}=e,{username:i,challengeName:o,signInSession:a,signInDetails:s}=iB.getState(),l=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(l);let c=null==r?void 0:r.clientMetadata;if(r8(!!n,Y.EmptyChallengeResponse),!i||!o||!a)throw new r6.l({name:Z.SignInException,message:"\n			An error occurred during the sign in process. \n			\n			This most likely occurred due to:\n			1. signIn was not called before confirmSignIn.\n			2. signIn threw an exception.\n			3. page was refreshed during the sign in flow.\n			",recoverySuggestion:"Make sure a successful call to signIn is made before calling confirmSignInand that the page is not refreshed until the sign in process is done."});try{let{Session:e,ChallengeName:t,AuthenticationResult:u,ChallengeParameters:d}=await oe(i,o,a,n,l,ou.C,c,r);if(iV({signInSession:e,username:i,challengeName:t,signInDetails:s}),u)return ij(),await od({username:i,...u,NewDeviceMetadata:await oo(l.userPoolId,u.NewDeviceMetadata,u.AccessToken),signInDetails:s}),rr.Xb.dispatch("auth",{event:"signedIn",data:await rn()},"Auth",rr.SQ),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return i9({challengeName:t,challengeParameters:d})}catch(t){(0,r9.R)(t);let e=i7(t.name);if(e)return e;throw t}}async function oT(e){var t,n;let r=e.username;r8(!!r,Y.EmptyResetPasswordUsername);let i=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(i);let{userPoolClientId:o,userPoolId:a}=i,s=null===(n=e.options)||void 0===n?void 0:n.clientMetadata,l=(0,iK.u)({username:r,userPoolId:a,userPoolClientId:o}),c=(await (0,iG.gF)({region:(0,iz.u)(i.userPoolId),userAgentValue:iq(tE.g4.ResetPassword)},{Username:r,ClientMetadata:s,ClientId:i.userPoolClientId,UserContextData:l})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:null==c?void 0:c.DeliveryMedium,destination:null==c?void 0:c.Destination,attributeName:null==c?void 0:c.AttributeName}}}}let oN=e=>Array.isArray(e),oP=e=>e?oN(e)?Object.entries(e).map(e=>{let[t,n]=e;return Object.keys(n)[0]}):Object.keys(e):void 0,oU={async getAmplifyConfig(){var e,t,n,r,i;let o=r3.V.getConfig(),a=null===(e=o.Auth)||void 0===e?void 0:e.Cognito,{loginWith:s,userAttributes:l}=null!==(i=null===(t=o.Auth)||void 0===t?void 0:t.Cognito)&&void 0!==i?i:{},c=s?Object.entries(s).filter(e=>{let[t,n]=e;return"oauth"!==t}).filter(e=>{let[t,n]=e;return!!n}).map(e=>"phone"===e[0]?"phone_number":e[0]):void 0,u=oP(l),d=(null==s?void 0:null===(n=s.oauth)||void 0===n?void 0:n.providers)?null===(r=s.oauth.providers)||void 0===r?void 0:r.map(e=>e.toString().toLowerCase()):void 0;return{...a,loginMechanisms:c,signUpAttributes:u,socialProviders:d}},getCurrentUser:rn,handleSignIn:om,handleSignUp:async function(e){var t,n,r;let{username:i,password:o,options:s}=e,l=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito,c=null!==(n=null==l?void 0:l.signUpVerificationMethod)&&void 0!==n?n:"code",{clientMetadata:u,validationData:d,autoSignIn:f}=null!==(r=e.options)&&void 0!==r?r:{};(0,n7.FG)(l),r8(!!i,Y.EmptySignUpUsername),r8(!!o,Y.EmptySignUpPassword);let h="boolean"!=typeof f?f:void 0,p={username:i,options:h};(null==h?void 0:h.authFlowType)!=="CUSTOM_WITHOUT_SRP"&&(p.password=o),(h||!0===f)&&(a=i,oC(!0));let g=await (0,iG.y1)({region:(0,iz.u)(l.userPoolId),userAgentValue:iq(tE.g4.SignUp)},{Username:i,Password:o,UserAttributes:(null==s?void 0:s.userAttributes)&&ov(null==s?void 0:s.userAttributes),ClientMetadata:u,ValidationData:d&&ov(d),ClientId:l.userPoolClientId}),{UserSub:m,CodeDeliveryDetails:v}=g;if(oI(g)&&ob)return oE=o_(p),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}};if(oI(g)&&!ob)return{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}};if(!oI(g)&&ob&&"code"===c)!function(e){let t=rr.qC.listen("auth-internal",async n=>{let{payload:r}=n;if("confirmSignUp"===r.event){let n=r.data;(null==n?void 0:n.isSignUpComplete)&&(rr.qC.dispatch("auth-internal",{event:"autoSignIn"}),oE=o_(e),t())}}),n=setTimeout(()=>{t(),oC(!1),clearTimeout(n),oE=oy},18e4)}(p);else if(!oI(g)&&ob&&"link"===c)return oE=async()=>new Promise(async(e,t)=>{ow([p,e,t])}),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:{deliveryMedium:null==v?void 0:v.DeliveryMedium,destination:null==v?void 0:v.Destination,attributeName:null==v?void 0:v.AttributeName}},userId:m};return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:{deliveryMedium:null==v?void 0:v.DeliveryMedium,destination:null==v?void 0:v.Destination,attributeName:null==v?void 0:v.AttributeName}},userId:m}},handleConfirmSignIn:oR,handleConfirmSignUp:async function(e){var t;let{username:n,confirmationCode:r,options:i}=e,o=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(o);let{userPoolId:s,userPoolClientId:l}=o,c=null==i?void 0:i.clientMetadata;r8(!!n,Y.EmptyConfirmSignUpUsername),r8(!!r,Y.EmptyConfirmSignUpCode);let u=(0,iK.u)({username:n,userPoolId:s,userPoolClientId:l});return await (0,iG._f)({region:(0,iz.u)(o.userPoolId),userAgentValue:iq(tE.g4.ConfirmSignUp)},{Username:n,ConfirmationCode:r,ClientMetadata:c,ForceAliasCreation:null==i?void 0:i.forceAliasCreation,ClientId:o.userPoolClientId,UserContextData:u}),new Promise((e,t)=>{try{let t={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}};if(!ob||a!==n)return e(t);let r=rr.qC.listen("auth-internal",t=>{let{payload:n}=t;"autoSignIn"===n.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),oC(!1),r())});rr.qC.dispatch("auth-internal",{event:"confirmSignUp",data:t})}catch(e){t(e)}})},handleForgotPasswordSubmit:async function(e){var t,n;let r=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(r);let{userPoolClientId:i,userPoolId:o}=r,{username:a,newPassword:s}=e;r8(!!a,Y.EmptyConfirmResetPasswordUsername),r8(!!s,Y.EmptyConfirmResetPasswordNewPassword);let l=e.confirmationCode;r8(!!l,Y.EmptyConfirmResetPasswordConfirmationCode);let c=null===(n=e.options)||void 0===n?void 0:n.clientMetadata,u=(0,iK.u)({username:a,userPoolId:o,userPoolClientId:i});await (0,iG.fI)({region:(0,iz.u)(r.userPoolId),userAgentValue:iq(tE.g4.ConfirmResetPassword)},{Username:a,ConfirmationCode:l,Password:s,ClientMetadata:c,ClientId:r.userPoolClientId,UserContextData:u})},handleForgotPassword:oT,async validateCustomSignUp(e,t){},async validateFormPassword(e,t,n){var r;let{password:i}=e,{password:o}=t;if(!o||!n)return null;let a=[],s=null!==(r=n.minLength)&&void 0!==r?r:8;return i.length<s&&a.push("Password must have at least ".concat(s," characters")),n.requireLowercase&&!/[a-z]/.test(i)&&a.push("Password must have lower case letters"),n.requireUppercase&&!/[A-Z]/.test(i)&&a.push("Password must have upper case letters"),n.requireNumbers&&!/[0-9]/.test(i)&&a.push("Password must have numbers"),n.requireSpecialCharacters&&!rp(i)&&a.push("Password must have special characters"),0!==a.length?{password:a}:null},async validateConfirmPassword(e,t){let{password:n,confirm_password:r}=e,{confirm_password:i,password:o}=t;return n||r?(n||r)&&n!==r&&(i&&o||(null==n?void 0:n.length)>=6&&(null==r?void 0:r.length)>=6)?{confirm_password:"Your passwords must match"}:void 0:null},async validatePreferredUsername(e,t){}},oM=(e,t)=>e.Auth.fetchAuthSession(t),oF=async e=>{var t;let n=null===(t=e.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(n);let{tokens:r}=await oM(e,{forceRefresh:!1});(0,re.CA)(r);let{UserAttributes:i}=await (0,iG.PR)({region:(0,iz.u)(n.userPoolId),userAgentValue:iq(tE.g4.FetchUserAttributes)},{AccessToken:r.accessToken.toString()});return function(e){let t={};return null==e||e.forEach(e=>{e.Name&&(t[e.Name]=e.Value)}),t}(i)},ok=()=>oF(n9.d);async function oO(e){var t,n;let r=e.username;r8(!!r,Y.EmptySignUpUsername);let i=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(i);let{userPoolClientId:o,userPoolId:a}=i,s=null===(n=e.options)||void 0===n?void 0:n.clientMetadata,l=(0,iK.u)({username:r,userPoolId:a,userPoolClientId:o}),{CodeDeliveryDetails:c}=await (0,iG.S5)({region:(0,iz.u)(i.userPoolId),userAgentValue:iq(tE.g4.ResendSignUpCode)},{Username:r,ClientMetadata:s,ClientId:i.userPoolClientId,UserContextData:l}),{DeliveryMedium:u,AttributeName:d,Destination:f}={...c};return{destination:f,deliveryMedium:u,attributeName:d||void 0}}var oD=n(1291),oL=n(4145),oB=n(9486);let oV="amplify-signin-with-hostedUI",oj="CognitoIdentityServiceProvider";class oG{async clearOAuthInflightData(){(0,n7.FG)(this.cognitoConfig);let e=oz(oj,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){(0,n7.FG)(this.cognitoConfig);let e=oz(oj,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(oV),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){(0,n7.FG)(this.cognitoConfig);let e=oz(oj,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){(0,n7.FG)(this.cognitoConfig);let t=oz(oj,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){(0,n7.FG)(this.cognitoConfig);let e=oz(oj,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){(0,n7.FG)(this.cognitoConfig);let t=oz(oj,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){(0,n7.FG)(this.cognitoConfig);let e=oz(oj,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){(0,n7.FG)(this.cognitoConfig);let t=oz(oj,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.setItem(t.inflightOAuth,"".concat(e))}async loadOAuthSignIn(){var e,t;(0,n7.FG)(this.cognitoConfig);let n=oz(oj,this.cognitoConfig.userPoolClientId),r=await this.keyValueStorage.getItem(oV),[i,o]=null!==(t=null===(e=await this.keyValueStorage.getItem(n.oauthSignIn))||void 0===e?void 0:e.split(","))&&void 0!==t?t:[];return{isOAuthSignIn:"true"===i||"true"===r,preferPrivateSession:"true"===o}}async storeOAuthSignIn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,n7.FG)(this.cognitoConfig);let n=oz(oj,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.setItem(n.oauthSignIn,"".concat(e,",").concat(t))}constructor(e){this.keyValueStorage=e}}let oz=(e,t)=>(0,oB._X)(re.Bx)(e,t),oH=new oG(oL.Fm);var oW=n(7046);(V=ew||(ew={})).NoConfig="noConfig",V.MissingAuthConfig="missingAuthConfig",V.EmptyUsername="emptyUsername",V.InvalidUsername="invalidUsername",V.EmptyPassword="emptyPassword",V.EmptyCode="emptyCode",V.SignUpError="signUpError",V.NoMFA="noMFA",V.InvalidMFA="invalidMFA",V.EmptyChallengeResponse="emptyChallengeResponse",V.NoUserSession="noUserSession",V.Default="default",V.DeviceConfig="deviceConfig",V.NetworkError="networkError",V.AutoSignInError="autoSignInError",V.OAuthSignInError="oauthSignInError";let oq=async e=>{let t=await oH.loadOAuthState(),n=e===t?t:void 0;if(!n)throw new r6.l({name:ew.OAuthSignInError,message:null===e?"`signInWithRedirect` has been canceled.":"An error occurred while validating the state.",recoverySuggestion:null===e?void 0:"Try to initiate an OAuth flow from Amplify"});return n},oK=[],oY=e=>{oK.push(e)},oQ=()=>{for(;oK.length;){var e;null===(e=oK.pop())||void 0===e||e()}};new eY.k("AuthError");let oZ={oauthSignInError:{message:Q.OAUTH_ERROR,log:"Make sure Cognito Hosted UI has been configured correctly"},noConfig:{message:Q.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Q.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Q.EMPTY_USERNAME},invalidUsername:{message:Q.INVALID_USERNAME},emptyPassword:{message:Q.EMPTY_PASSWORD},emptyCode:{message:Q.EMPTY_CODE},signUpError:{message:Q.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Q.NO_MFA},invalidMFA:{message:Q.INVALID_MFA},emptyChallengeResponse:{message:Q.EMPTY_CHALLENGE},noUserSession:{message:Q.NO_USER_SESSION},deviceConfig:{message:Q.DEVICE_CONFIG},networkError:{message:Q.NETWORK_ERROR},autoSignInError:{message:Q.AUTOSIGNIN_ERROR},default:{message:Q.DEFAULT_MSG}},oJ=(e,t)=>new r6.l({message:null!=e?e:"An error has occurred during the oauth process.",name:Z.OAuthSignInError,recoverySuggestion:null!=t?t:oZ.oauthSignInError.log}),oX=async e=>{let{currentUrl:t,userAgentValue:n,clientId:r,redirectUri:i,responseType:o,domain:a,preferPrivateSession:s}=e,l=new r7.a(t),c=l.searchParams.get("error"),u=l.searchParams.get("error_description");if(c)throw oJ(null!=u?u:c);return"code"===o?o$({currentUrl:t,userAgentValue:n,clientId:r,redirectUri:i,domain:a,preferPrivateSession:s}):o0({currentUrl:t,redirectUri:i,preferPrivateSession:s})},o$=async e=>{var t;let{currentUrl:n,userAgentValue:r,clientId:i,redirectUri:o,domain:a,preferPrivateSession:s}=e,l=new r7.a(n),c=l.searchParams.get("code"),u=l.searchParams.get("state");if(!c||!u)throw oJ("User cancelled OAuth flow.");let d=await oq(u),f=await oH.loadPKCE(),h=Object.entries({grant_type:"authorization_code",code:c,client_id:i,redirect_uri:o,...f?{code_verifier:f}:{}}).map(e=>{let[t,n]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))}).join("&"),{access_token:p,refresh_token:g,id_token:m,error:v,error_message:y,token_type:E,expires_in:S}=await (await fetch("https://"+a+"/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",[oW.Mt]:r},body:h})).json();if(v)throw oJ(null!=y?y:v);let w=null!==(t=p&&(0,n7.xp)(p).payload.username)&&void 0!==t?t:"username";return await od({username:w,AccessToken:p,IdToken:m,RefreshToken:g,TokenType:E,ExpiresIn:S}),o1({redirectUri:o,state:d,preferPrivateSession:s})},o0=async e=>{var t,n;let{currentUrl:r,redirectUri:i,preferPrivateSession:o}=e,{id_token:a,access_token:s,state:l,token_type:c,expires_in:u,error_description:d,error:f}=(null!==(t=new r7.a(r).hash)&&void 0!==t?t:"#").substring(1).split("&").map(e=>e.split("=")).reduce((e,t)=>{let[n,r]=t;return{...e,[n]:r}},{id_token:void 0,access_token:void 0,state:void 0,token_type:void 0,expires_in:void 0,error_description:void 0,error:void 0});if(f)throw oJ(null!=d?d:f);if(!s)throw oJ("No access token returned from OAuth flow.");let h=await oq(l),p=null!==(n=s&&(0,n7.xp)(s).payload.username)&&void 0!==n?n:"username";return await od({username:p,AccessToken:s,IdToken:a,TokenType:c,ExpiresIn:u}),o1({redirectUri:i,state:h,preferPrivateSession:o})},o1=async e=>{let{redirectUri:t,state:n,preferPrivateSession:r}=e;await oH.clearOAuthData(),await oH.storeOAuthSignIn(!0,r),oQ(),ou.D.setWaitForInflightOAuth(async()=>{}),o2(n)&&rr.Xb.dispatch("auth",{event:"customOAuthState",data:(o4(n).match(/.{2}/g)||[]).map(e=>String.fromCharCode(parseInt(e,16))).join("")},"Auth",rr.SQ),rr.Xb.dispatch("auth",{event:"signInWithRedirect"},"Auth",rr.SQ),rr.Xb.dispatch("auth",{event:"signedIn",data:await rn()},"Auth",rr.SQ),o3(t)},o2=e=>/-/.test(e),o4=e=>e.split("-").splice(1).join("-"),o3=e=>{void 0!==window.history&&window.history.replaceState(window.history.state,"",e)};function o5(e){var t,n;let r=null!==(t=null==e?void 0:e.find(o6))&&void 0!==t?t:null==e?void 0:e.find(o8),i=null!==(n=null==e?void 0:e.find(o7))&&void 0!==n?n:null==e?void 0:e.find(o9);if(r)return r;if(i)throw iH.VL;throw iH.vC}let o6=e=>{var t;return e.startsWith(String(null!==(t=window.location.origin+window.location.pathname)&&void 0!==t?t:"/"))},o8=e=>e.includes(String(window.location.hostname)),o9=e=>e.startsWith("http://"),o7=e=>e.startsWith("https://"),ae=async e=>{oQ(),await oH.clearOAuthInflightData(),rr.Xb.dispatch("auth",{event:"signInWithRedirect_failure",data:{error:e}},"Auth",rr.SQ)},at=async e=>{try{(0,n7.FG)(e),(0,n7.V0)(e),oH.setAuthConfig(e)}catch(e){return}if(!await oH.loadOAuthInFlight())return;let t=new Promise((e,t)=>{oY(e)});ou.D.setWaitForInflightOAuth(()=>t);try{let t=window.location.href,{loginWith:n,userPoolClientId:r}=e,{domain:i,redirectSignIn:o,responseType:a}=n.oauth,s=o5(o);await oX({currentUrl:t,clientId:r,domain:i,redirectUri:s,responseType:a,userAgentValue:iq(tE.g4.SignInWithRedirect)})}catch(e){await ae(e)}};void 0!==window.document&&n9.d[oD.w](at);let an={Google:"Google",Facebook:"Facebook",Amazon:"LoginWithAmazon",Apple:"SignInWithApple"},ar=async e=>{var t;(null===(t=window)||void 0===t?void 0:t.location)&&(window.location.href=e.replace("http://","https://"))},ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ao=e=>{let t;let n=new Uint8Array(e);(0,ie.MX)().getRandomValues(n);let r="";for(let e of n)r+=ai.charAt(e%ai.length);return{value:r,method:"S256",toCodeChallenge:()=>t||(t=function(e){let t=new iv.f;return t.update(e),it.convert(t.digestSync(),{urlSafe:!0}).replace(/=/g,"")}(r))}},aa=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},as=()=>aa(32);async function al(e){var t,n,r;let i=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(i),(0,n7.V0)(i),oH.setAuthConfig(i),await oi();let o="COGNITO";return"string"==typeof(null==e?void 0:e.provider)?o=an[e.provider]:(null==e?void 0:null===(n=e.provider)||void 0===n?void 0:n.custom)&&(o=e.provider.custom),ac({oauthConfig:i.loginWith.oauth,clientId:i.userPoolClientId,provider:o,customState:null==e?void 0:e.customState,preferPrivateSession:null==e?void 0:null===(r=e.options)||void 0===r?void 0:r.preferPrivateSession})}let ac=async e=>{var t;let{oauthConfig:n,provider:r,clientId:i,customState:o,preferPrivateSession:a}=e,{domain:s,redirectSignIn:l,responseType:c,scopes:u}=n,d=as(),f=o?"".concat(d,"-").concat(o.split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join("")):d,{value:h,method:p,toCodeChallenge:g}=ao(128),m=o5(n.redirectSignIn);oH.storeOAuthInFlight(!0),oH.storeOAuthState(f),oH.storePKCE(h);let v=Object.entries({redirect_uri:m,response_type:c,client_id:i,identity_provider:r,scope:u.join(" "),state:f,..."code"===c&&{code_challenge:g(),code_challenge_method:p}}).map(e=>{let[t,n]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))}).join("&"),y="https://".concat(s,"/oauth2/authorize?").concat(v),{type:E,error:S,url:w}=null!==(t=await ar(y))&&void 0!==t?t:{};try{if("error"===E)throw oJ(String(S));"success"===E&&w&&await oX({currentUrl:w,clientId:i,domain:s,redirectUri:m,responseType:c,userAgentValue:iq(tE.g4.SignInWithRedirect),preferPrivateSession:a})}catch(e){throw await ae(e),e}},au=e=>({entry:["sendUpdate","clearError"],invoke:{src:"signInWithRedirect",onDone:{target:e},onError:{actions:"setRemoteError",target:e}}}),ad={onDone:[{cond:"hasCompletedSignIn",actions:"setNextSignInStep",target:"#signInActor.fetchUserAttributes"},{cond:"shouldConfirmSignInWithNewPassword",actions:["setMissingAttributes","setNextSignInStep"],target:"#signInActor.forceChangePassword"},{cond:"shouldResetPasswordFromSignIn",actions:"setNextSignInStep",target:"#signInActor.resetPassword"},{cond:"shouldConfirmSignUpFromSignIn",actions:"setNextSignInStep",target:"#signInActor.resendSignUpCode"},{actions:["setChallengeName","setMissingAttributes","setNextSignInStep","setTotpSecretCode"],target:"#signInActor.init"}],onError:{actions:"setRemoteError",target:"edit"}},af={onDone:[{cond:"shouldVerifyAttribute",actions:["setShouldVerifyUserAttributeStep","setUnverifiedUserAttributes"],target:"#signInActor.resolved"},{actions:"setConfirmAttributeCompleteStep",target:"#signInActor.resolved"}],onError:{actions:"setConfirmAttributeCompleteStep",target:"#signInActor.resolved"}},ah={onDone:[{actions:"setCodeDeliveryDetails",target:"#signUpActor.resolved"}],onError:{actions:["setRemoteError","sendUpdate"]}},ap={onDone:[{cond:"hasCompletedSignIn",actions:"setNextSignInStep",target:"#signUpActor.fetchUserAttributes"},{cond:"shouldConfirmSignInWithNewPassword",actions:"setNextSignInStep",target:"#signUpActor.resolved"},{cond:"shouldResetPasswordFromSignIn",actions:"setNextSignInStep",target:"#signUpActor.resetPassword"},{cond:"shouldConfirmSignUpFromSignIn",actions:"setNextSignInStep",target:"#signUpActor.resendSignUpCode"},{actions:["setNextSignInStep","setChallengeName","setMissingAttributes","setTotpSecretCode"],target:"#signUpActor.resolved"}],onError:{actions:"setRemoteError",target:"#signUpActor.resolved"}},ag={onDone:[{cond:"shouldVerifyAttribute",actions:["setShouldVerifyUserAttributeStep","setUnverifiedUserAttributes"],target:"#signUpActor.resolved"},{actions:"setConfirmAttributeCompleteStep",target:"#signUpActor.resolved"}],onError:{actions:"setConfirmAttributeCompleteStep",target:"#signUpActor.resolved"}};function am(){return n9.d.Auth.clearCredentials()}let av=async e=>{await e.clearOAuthData(),ou.C.clearTokens(),await am(),rr.Xb.dispatch("auth",{event:"signedOut"},"Auth",rr.SQ)},ay=async function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,n7.V0)(e);let{loginWith:t,userPoolClientId:n}=e,{domain:r,redirectSignOut:i}=t.oauth,o=o5(i);return ar("https://".concat(r,"/logout?").concat(Object.entries({client_id:n,logout_uri:encodeURIComponent(o)}).map(e=>{let[t,n]=e;return"".concat(t,"=").concat(n)}).join("&")))},aE=async(e,t)=>{let{isOAuthSignIn:n}=await t.loadOAuthSignIn();if(await av(t),n)return ay(e)},aS=new eY.k("Auth");async function aw(e){var t,n;let r;let i=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(i),(null==e?void 0:e.global)?await ab(i):await ax(i);try{(0,n7.V0)(i),r=!0}catch(e){r=!1}if(r){let e=new oG(oL.Fm);e.setAuthConfig(i);let{type:t}=null!==(n=await aE(i,e))&&void 0!==n?n:{};if("error"===t)throw new r6.l({name:iH.wW,message:"An error occurred when attempting to log out from OAuth provider."})}else ou.C.clearTokens(),await am(),rr.Xb.dispatch("auth",{event:"signedOut"},"Auth",rr.SQ)}async function ax(e){try{let t=await ou.C.getTokenStore().loadTokens();(0,re.XD)(t),aC(t.accessToken)&&await (0,iG.PX)({region:(0,iz.u)(e.userPoolId),userAgentValue:iq(tE.g4.SignOut)},{ClientId:e.userPoolClientId,Token:t.refreshToken})}catch(e){aS.debug("Client signOut error caught but will proceed with token removal")}}async function ab(e){try{let t=await ou.C.getTokenStore().loadTokens();(0,re.CA)(t),await (0,iG.oe)({region:(0,iz.u)(e.userPoolId),userAgentValue:iq(tE.g4.SignOut)},{AccessToken:t.accessToken.toString()})}catch(e){aS.debug("Global signOut error caught but will proceed with token removal")}}let aC=e=>{var t;return!!(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.origin_jti)},aI=()=>ru({initial:"pending",id:"signOutActor",predictableActionArguments:!0,states:{pending:{tags:"pending",invoke:{src:"signOut",onDone:"resolved",onError:"rejected"}},resolved:{type:"final"},rejected:{type:"final"}}},{services:{signOut:()=>aw()}}),aA=e=>oM(n9.d,e),a_=async e=>{var t;let{userAttributeKey:n,options:r}=e,i=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito,o=null==r?void 0:r.clientMetadata;(0,n7.FG)(i);let{tokens:a}=await aA({forceRefresh:!1});(0,re.CA)(a);let{CodeDeliveryDetails:s}=await (0,iG.V3)({region:(0,iz.u)(i.userPoolId),userAgentValue:iq(tE.g4.SendUserAttributeVerificationCode)},{AccessToken:a.accessToken.toString(),ClientMetadata:o,AttributeName:n}),{DeliveryMedium:l,AttributeName:c,Destination:u}={...s};return{destination:u,deliveryMedium:l,attributeName:c}};async function aR(e){var t;let n=null===(t=n9.d.getConfig().Auth)||void 0===t?void 0:t.Cognito;(0,n7.FG)(n);let{confirmationCode:r,userAttributeKey:i}=e;r8(!!r,Y.EmptyConfirmUserAttributeCode);let{tokens:o}=await aA({forceRefresh:!1});(0,re.CA)(o),await (0,iG.tl)({region:(0,iz.u)(n.userPoolId),userAgentValue:iq(tE.g4.ConfirmUserAttribute)},{AccessToken:o.accessToken.toString(),AttributeName:i,Code:r})}let aT=(e,t)=>{var n,r,i,o,a,s,l;return{...e.actorDoneData,step:null!==(l=null==e?void 0:null===(n=e.actorDoneData)||void 0===n?void 0:n.step)&&void 0!==l?l:t,formValues:{},touched:{},validationError:{},formFields:null===(r=e.config)||void 0===r?void 0:r.formFields,loginMechanisms:null===(i=e.config)||void 0===i?void 0:i.loginMechanisms,passwordSettings:null===(o=e.config)||void 0===o?void 0:o.passwordSettings,signUpAttributes:null===(a=e.config)||void 0===a?void 0:a.signUpAttributes,socialProviders:null===(s=e.config)||void 0===s?void 0:s.socialProviders}},{choose:aN,stop:aP}=eI,aU=e=>aP(e),aM={on:{INIT:{actions:["configure"],target:"getConfig"},SIGN_OUT:"#authenticator.signOut"}},aF={always:{actions:["configure"],target:"getConfig"}};function ak(e){let{useNextWaitConfig:t,...n}=null!=e?e:{};return ru({id:"authenticator",initial:"idle",context:{user:void 0,config:{},services:oU,actorRef:void 0,hasSetup:!1},predictableActionArguments:!0,states:{idle:{invoke:{src:"handleGetCurrentUser",onDone:{actions:"setUser",target:"setup"},onError:{target:"setup"}}},setup:{initial:"initConfig",states:{initConfig:t?aF:aM,getConfig:{invoke:{src:"getAmplifyConfig",onDone:[{actions:["applyAmplifyConfig","setHasSetup"],cond:"hasUser",target:"#authenticator.authenticated"},{actions:["applyAmplifyConfig","setHasSetup"],target:"goToInitialState"}]}},goToInitialState:{always:[{cond:"isInitialStateSignUp",target:"#authenticator.signUpActor"},{cond:"isInitialStateResetPassword",target:"#authenticator.forgotPasswordActor"},{target:"#authenticator.signInActor"}]}}},getCurrentUser:{invoke:{src:"handleGetCurrentUser",onDone:{actions:"setUser",target:"#authenticator.authenticated"},onError:{target:"#authenticator.setup"}}},signInActor:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnSignInActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:aU("signInActor")}},on:{FORGOT_PASSWORD:"forgotPasswordActor",SIGN_IN:"signInActor",SIGN_UP:"signUpActor","done.invoke.signInActor":[{cond:"hasCompletedAttributeConfirmation",target:"#authenticator.getCurrentUser"},{cond:"isShouldConfirmUserAttributeStep",actions:"setActorDoneData",target:"#authenticator.verifyUserAttributesActor"},{cond:"isResetPasswordStep",actions:"setActorDoneData",target:"#authenticator.forgotPasswordActor"},{cond:"isConfirmSignUpStep",actions:"setActorDoneData",target:"#authenticator.signUpActor"}]}},signUpActor:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnSignUpActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:aU("signUpActor")}},on:{SIGN_IN:"signInActor","done.invoke.signUpActor":[{cond:"hasCompletedAttributeConfirmation",target:"#authenticator.getCurrentUser"},{cond:"isConfirmUserAttributeStep",target:"#authenticator.verifyUserAttributesActor"},{actions:"setActorDoneData",target:"#authenticator.signInActor"}]}},forgotPasswordActor:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnForgotPasswordActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:aU("forgotPasswordActor")}},on:{SIGN_IN:"signInActor","done.invoke.forgotPasswordActor":[{target:"#authenticator.signInActor"}]}},verifyUserAttributesActor:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnVerifyUserAttributesActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:aU("verifyUserAttributesActor")}},on:{"done.invoke.verifyUserAttributesActor":[{actions:"setActorDoneData",target:"#authenticator.getCurrentUser"}]}},authenticated:{initial:"idle",states:{idle:{on:{TOKEN_REFRESH:"refreshUser"}},refreshUser:{invoke:{src:"#authenticator.getCurrentUser",onDone:{actions:"setUser",target:"idle"},onError:{target:"#authenticator.signOut"}}}},on:{SIGN_OUT:"signOut"}},signOut:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnSignOutActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:aU("signOutActor")}},on:{"done.invoke.signOutActor":{actions:"clearUser",target:"setup.getConfig"}}}},on:{SIGN_IN_WITH_REDIRECT:{target:"#authenticator.getCurrentUser"},CHANGE:{actions:"forwardToActor"},BLUR:{actions:"forwardToActor"},SUBMIT:{actions:"forwardToActor"},FEDERATED_SIGN_IN:{actions:"forwardToActor"},RESEND:{actions:"forwardToActor"},SIGN_IN:{actions:"forwardToActor"},SKIP:{actions:"forwardToActor"}}},{actions:{...r$,forwardToActor:aN([{cond:"hasActor",actions:nB(e=>{let{actorRef:t}=e;return t})}]),setActorDoneData:nF({actorDoneData:(e,t)=>({codeDeliveryDetails:t.data.codeDeliveryDetails,missingAttributes:t.data.missingAttributes,remoteError:t.data.remoteError,username:t.data.username,step:t.data.step,totpSecretCode:t.data.totpSecretCode,unverifiedUserAttributes:t.data.unverifiedUserAttributes})}),applyAmplifyConfig:nF({config(e,t){var n,r,i,o;let{data:a}=t,{loginMechanisms:s=null!==(n=a.loginMechanisms)&&void 0!==n?n:[],signUpAttributes:l=null!==(r=a.signUpAttributes)&&void 0!==r?r:[],socialProviders:c=null!==(i=a.socialProviders)&&void 0!==i?i:[],initialState:u,formFields:d,passwordSettings:f=null!==(o=a.passwordFormat)&&void 0!==o?o:{}}=e.config;return 0===s.length&&s.push("username"),{formFields:null!==(d&&Object.keys(d).forEach(e=>{Object.keys(d[e]).forEach(t=>{let n=d[e][t];n.required=n.isRequired})}),d)&&void 0!==d?d:{},initialState:u,loginMechanisms:s,passwordSettings:f,signUpAttributes:l,socialProviders:c}}}),spawnSignInActor:nF({actorRef:(e,t)=>{let{services:n}=e;return n2((function(e){let{services:t}=e;return ru({id:"signInActor",initial:"init",predictableActionArguments:!0,states:{init:{always:[{cond:"shouldConfirmSignIn",target:"confirmSignIn"},{cond:"shouldSetupTotp",target:"setupTotp"},{cond:e=>{let{step:t}=e;return"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED"===t},actions:"setActorDoneData",target:"forceChangePassword"},{target:"signIn"}]},federatedSignIn:au("signIn"),fetchUserAttributes:{invoke:{src:"fetchUserAttributes",...af}},resendSignUpCode:{invoke:{src:"handleResendSignUpCode",onDone:{actions:"setCodeDeliveryDetails",target:"#signInActor.resolved"},onError:{actions:"setRemoteError",target:"#signInActor.signIn"}}},resetPassword:{invoke:{src:"resetPassword",onDone:[{actions:"setCodeDeliveryDetails",target:"#signInActor.resolved"}],onError:{actions:["setRemoteError","sendUpdate"]}}},signIn:{initial:"edit",exit:"clearTouched",states:{edit:{entry:"sendUpdate",on:{CHANGE:{actions:"handleInput"},FEDERATED_SIGN_IN:{target:"#signInActor.federatedSignIn"},SUBMIT:{actions:"handleSubmit",target:"submit"}}},submit:{tags:"pending",entry:["clearError","sendUpdate","setUsernameSignIn"],exit:"clearFormValues",invoke:{src:"handleSignIn",...ad}}}},confirmSignIn:{initial:"edit",exit:["clearChallengeName","clearFormValues","clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SIGN_IN:"#signInActor.signIn",CHANGE:{actions:"handleInput"}}},submit:{tags:"pending",entry:["clearError","sendUpdate"],invoke:{src:"confirmSignIn",...ad}}}},forceChangePassword:{entry:"sendUpdate",type:"parallel",exit:["clearFormValues","clearError","clearTouched"],states:{validation:{initial:"pending",states:{pending:{invoke:{src:"validateFields",onDone:{target:"valid",actions:"clearValidationError"},onError:{target:"invalid",actions:"setFieldErrors"}}},valid:{entry:"sendUpdate"},invalid:{entry:"sendUpdate"}},on:{SIGN_IN:{actions:"setSignInStep",target:"#signInActor.resolved"},CHANGE:{actions:"handleInput",target:".pending"},BLUR:{actions:"handleBlur",target:".pending"}}},submit:{initial:"edit",entry:"clearError",states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"validate"}}},validate:{entry:"sendUpdate",invoke:{src:"validateFields",onDone:{actions:"clearValidationError",target:"pending"},onError:{actions:"setFieldErrors",target:"edit"}}},pending:{tags:"pending",entry:["sendUpdate","clearError"],invoke:{src:"handleForceChangePassword",...ad}}}}}},setupTotp:{initial:"edit",exit:["clearFormValues","clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SIGN_IN:"#signInActor.signIn",CHANGE:{actions:"handleInput"}}},submit:{tags:"pending",entry:["sendUpdate","clearError"],invoke:{src:"confirmSignIn",...ad}}}},resolved:{type:"final",data:e=>({codeDeliveryDetails:e.codeDeliveryDetails,remoteError:e.remoteError,step:e.step,unverifiedUserAttributes:e.unverifiedUserAttributes,username:e.username})}}},{actions:{...r$,sendUpdate:rd()},guards:r1,services:{fetchUserAttributes:async()=>ok(),resetPassword(e){let{username:t}=e;return oT({username:t})},handleResendSignUpCode(e){let{username:t}=e;return oO({username:t})},handleSignIn(e){let{formValues:n,username:r}=e,{password:i}=n;return t.handleSignIn({username:r,password:i})},confirmSignIn(e){let{formValues:n}=e,{confirmation_code:r}=n;return t.handleConfirmSignIn({challengeResponse:r})},async handleForceChangePassword(e){let t,{formValues:n}=e,{password:r,phone_number:i,country_code:o,confirm_password:a,...s}=n;return i&&(t="".concat(o).concat(i).replace(/[^A-Z0-9+]/gi,""),s={...s,phone_number:t}),oR({challengeResponse:r,options:{userAttributes:s}})},signInWithRedirect(e,t){let{data:n}=t;return al(n)},validateFields:async e=>r4(e.formValues,e.touched,e.passwordSettings,[oU.validateFormPassword,oU.validateConfirmPassword])}})})({services:n}).withContext(aT(e,"SIGN_IN")),{name:"signInActor"})}}),spawnSignUpActor:nF({actorRef:(e,t)=>{let{services:n}=e;return n2((function(e){let{services:t}=e;return ru({id:"signUpActor",initial:"init",predictableActionArguments:!0,states:{init:{always:[{cond:"shouldConfirmSignUp",target:"confirmSignUp"},{target:"signUp"}]},autoSignIn:{tags:"pending",invoke:{src:"autoSignIn",...ap}},fetchUserAttributes:{invoke:{src:"fetchUserAttributes",...ag}},federatedSignIn:au("signUp"),resetPassword:{invoke:{src:"resetPassword",...ah}},resendSignUpCode:{tags:"pending",entry:"sendUpdate",exit:"sendUpdate",invoke:{src:"resendSignUpCode",onDone:{actions:["setCodeDeliveryDetails","sendUpdate"],target:"#signUpActor.confirmSignUp"},onError:[{cond:"isUserAlreadyConfirmed",target:"#signUpActor.resolved"},{actions:["setRemoteError","sendUpdate"]}]}},signUp:{type:"parallel",exit:"clearTouched",on:{FEDERATED_SIGN_IN:{target:"federatedSignIn"}},states:{validation:{initial:"pending",states:{pending:{invoke:{src:"validateSignUp",onDone:{actions:"clearValidationError",target:"valid"},onError:{actions:"setFieldErrors",target:"invalid"}}},valid:{entry:"sendUpdate"},invalid:{entry:"sendUpdate"}},on:{BLUR:{actions:"handleBlur",target:".pending"},CHANGE:{actions:"handleInput",target:".pending"}}},submission:{initial:"idle",states:{idle:{entry:["sendUpdate"],on:{SUBMIT:{actions:"handleSubmit",target:"validate"}}},validate:{entry:"sendUpdate",invoke:{src:"validateSignUp",onDone:{target:"handleSignUp",actions:"clearValidationError"},onError:{actions:"setFieldErrors",target:"idle"}}},handleSignUp:{tags:"pending",entry:["setUsernameSignUp","clearError"],exit:"sendUpdate",invoke:{src:"handleSignUp",onDone:[{cond:"hasCompletedSignUp",actions:"setNextSignUpStep",target:"#signUpActor.resolved"},{cond:"shouldAutoSignIn",actions:"setNextSignUpStep",target:"#signUpActor.autoSignIn"},{actions:["setCodeDeliveryDetails","setNextSignUpStep"],target:"#signUpActor.init"}],onError:{actions:["sendUpdate","setRemoteError"],target:"idle"}}}}}}},confirmSignUp:{initial:"edit",entry:"sendUpdate",states:{edit:{on:{SUBMIT:{actions:"handleSubmit",target:"submit"},CHANGE:{actions:"handleInput"},BLUR:{actions:"handleBlur"},RESEND:"#signUpActor.resendSignUpCode"}},submit:{tags:"pending",entry:["clearError","sendUpdate"],invoke:{src:"confirmSignUp",onDone:[{cond:"shouldAutoSignIn",actions:["setNextSignUpStep","clearFormValues"],target:"#signUpActor.autoSignIn"},{actions:"setNextSignUpStep",target:"#signUpActor.init"}],onError:{actions:["setRemoteError","sendUpdate"],target:"edit"}}}}},resolved:{type:"final",data:e=>({challengeName:e.challengeName,missingAttributes:e.missingAttributes,remoteError:e.remoteError,step:e.step,totpSecretCode:e.totpSecretCode,username:e.username,unverifiedUserAttributes:e.unverifiedUserAttributes})}}},{actions:{...r$,sendUpdate:rd()},guards:r1,services:{autoSignIn:()=>oE(),fetchUserAttributes:async()=>ok(),confirmSignUp(e){let{formValues:n,username:r}=e,{confirmation_code:i}=n;return t.handleConfirmSignUp({username:r,confirmationCode:i})},resendSignUpCode(e){let{username:t}=e;return oO({username:t})},signInWithRedirect(e,t){let{data:n}=t;return al(n)},handleSignUp(e){let{formValues:n,loginMechanisms:r,username:i}=e,o=rS(i,n,r[0]);return t.handleSignUp(o)},validateSignUp:async e=>r4(e.formValues,e.touched,e.passwordSettings,[t.validateFormPassword,t.validateConfirmPassword,t.validatePreferredUsername,t.validateCustomSignUp])}})})({services:n}).withContext(aT(e,"SIGN_UP")),{name:"signUpActor"})}}),spawnForgotPasswordActor:nF({actorRef:(e,t)=>{let{services:n}=e;return n2((function(e){let{services:t}=e;return ru({id:"forgotPasswordActor",initial:"init",predictableActionArguments:!0,states:{init:{always:[{cond:"shouldResetPassword",target:"confirmResetPassword"},{cond:"shouldConfirmResetPassword",target:"confirmResetPassword"},{target:"forgotPassword"}]},forgotPassword:{initial:"edit",entry:"sendUpdate",exit:["clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},CHANGE:{actions:"handleInput"},BLUR:{actions:"handleBlur"}}},submit:{tags:"pending",entry:["sendUpdate","clearError","setUsernameForgotPassword"],invoke:{src:"handleResetPassword",onDone:{actions:["setCodeDeliveryDetails","setNextResetPasswordStep"],target:"#forgotPasswordActor.confirmResetPassword"},onError:{actions:"setRemoteError",target:"edit"}}}}},confirmResetPassword:{type:"parallel",exit:["clearFormValues","clearError","clearTouched"],states:{validation:{initial:"pending",states:{pending:{invoke:{src:"validateFields",onDone:{target:"valid",actions:"clearValidationError"},onError:{target:"invalid",actions:"setFieldErrors"}}},valid:{entry:"sendUpdate"},invalid:{entry:"sendUpdate"}},on:{CHANGE:{actions:"handleInput",target:".pending"},BLUR:{actions:"handleBlur",target:".pending"}}},submission:{initial:"idle",states:{idle:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"validate"},RESEND:"resendCode",CHANGE:{actions:"handleInput"},BLUR:{actions:"handleBlur"}}},validate:{entry:"sendUpdate",invoke:{src:"validateFields",onDone:{target:"pending",actions:"clearValidationError"},onError:{target:"idle",actions:"setFieldErrors"}}},resendCode:{tags:"pending",entry:["clearError","sendUpdate"],invoke:{src:"handleResetPassword",onDone:{target:"idle"},onError:{actions:"setRemoteError",target:"idle"}}},pending:{tags:"pending",entry:["clearError","sendUpdate"],invoke:{src:"handleConfirmResetPassword",onDone:[{cond:"hasCompletedResetPassword",actions:"setNextResetPasswordStep",target:"#forgotPasswordActor.resolved"},{actions:"setSignInStep",target:"#forgotPasswordActor.resolved"}],onError:{actions:"setRemoteError",target:"idle"}}}}}}},resolved:{type:"final",data:e=>{let{step:t}=e;return{step:t}}}}},{actions:{...r$,sendUpdate:rd()},guards:r1,services:{handleResetPassword(e){let{username:n}=e;return t.handleForgotPassword({username:n})},handleConfirmResetPassword(e){let{formValues:n,username:r}=e,{confirmation_code:i,password:o}=n;return t.handleForgotPasswordSubmit({confirmationCode:i,newPassword:o,username:r})},validateFields:e=>r4(e.formValues,e.touched,e.passwordSettings,[oU.validateFormPassword,oU.validateConfirmPassword])}})})({services:n}).withContext(aT(e,"FORGOT_PASSWORD")),{name:"forgotPasswordActor"})}}),spawnVerifyUserAttributesActor:nF({actorRef:e=>n2(ru({id:"verifyUserAttributesActor",initial:"selectUserAttributes",predictableActionArguments:!0,states:{selectUserAttributes:{initial:"edit",exit:["clearError","clearTouched","sendUpdate"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SKIP:{target:"#verifyUserAttributesActor.resolved"},CHANGE:{actions:"handleInput"}}},submit:{tags:"pending",entry:["clearError","sendUpdate"],invoke:{src:"sendUserAttributeVerificationCode",onDone:{actions:["setSelectedUserAttribute","setCodeDeliveryDetails"],target:"#verifyUserAttributesActor.confirmVerifyUserAttribute"},onError:{actions:"setRemoteError",target:"edit"}}}}},confirmVerifyUserAttribute:{initial:"edit",exit:["clearError","clearFormValues","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SKIP:"#verifyUserAttributesActor.resolved",CHANGE:{actions:"handleInput"}}},submit:{tags:"pending",entry:["clearError","sendUpdate"],invoke:{src:"confirmVerifyUserAttribute",onDone:{actions:["setConfirmAttributeCompleteStep","clearSelectedUserAttribute"],target:"#verifyUserAttributesActor.resolved"},onError:{actions:"setRemoteError",target:"edit"}}}}},resolved:{type:"final",data:e=>{let{step:t}=e;return{step:t}}}}},{actions:{...r$,sendUpdate:rd()},services:{sendUserAttributeVerificationCode(e){let{formValues:{unverifiedAttr:t}}=e;return a_({userAttributeKey:t})},async confirmVerifyUserAttribute(e){let{formValues:{confirmation_code:t},selectedUserAttribute:n}=e;return aR({confirmationCode:t,userAttributeKey:n})},validateFields:async e=>r4(e.formValues,e.touched,e.passwordSettings,[oU.validateFormPassword,oU.validateConfirmPassword])}}).withContext(aT(e)),{name:"verifyUserAttributesActor"})}),spawnSignOutActor:nF({actorRef:e=>n2(aI().withContext({user:null==e?void 0:e.user}),{name:"signOutActor"})}),configure:nF((e,t)=>{var r;let{services:i,...o}=(0,eR.Qr)(n)?null!==(r=t.data)&&void 0!==r?r:{}:n;return{services:{...oU,...i},config:o}}),setHasSetup:nF({hasSetup:!0})},guards:{...r1,hasActor:e=>{let{actorRef:t}=e;return!!t},isInitialStateSignUp:e=>{let{config:t}=e;return"signUp"===t.initialState},isInitialStateResetPassword:e=>{let{config:t}=e;return"forgotPassword"===t.initialState},shouldSetup:e=>{let{hasSetup:t}=e;return!t},hasUser:e=>{let{user:t}=e;return!!t}},services:{getAmplifyConfig:e=>{let{services:t}=e;return t.getAmplifyConfig()},handleGetCurrentUser:e=>{let{services:t}=e;return t.getCurrentUser()}}})}let aO=e=>(t,n)=>{ri(t,n,e)};function aD(e){let{children:t}=e,[n,r]=eA.useState("configuring");eA.useEffect(()=>{rn().then(()=>{r("authenticated")}).catch(()=>{r("unauthenticated")})},[]);let i=(0,eA.useContext)(eB),o=function(e){for(var t,n,r,i,o,a,s,l,c,u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];var f=n8(u,2),h=f[0],p=void 0===h?{}:h,g=f[1],m=(t=n3(function(){return"function"==typeof e?e():e}),n=p.context,r=p.guards,i=p.actions,o=p.activities,a=p.services,s=p.delays,p.state,l=n6(p,["context","guards","actions","activities","services","delays","state"]),c=n3(function(){return n4(t.withConfig({context:n,guards:r,actions:i,activities:o,services:a,delays:s},function(){return n5(n5({},t.context),n)}),l)}),eN(function(){Object.assign(c.machine.options.actions,i),Object.assign(c.machine.options.guards,r),Object.assign(c.machine.options.activities,o),Object.assign(c.machine.options.services,a),Object.assign(c.machine.options.delays,s)},[i,r,o,a,s]),c);return(0,eA.useEffect)(function(){if(g){var e=m.subscribe(nf(g));return function(){e.unsubscribe()}}},[g]),(0,eA.useEffect)(function(){var e=p.state;return m.start(e?nz.create(e):void 0),function(){m.stop(),m.status=K.NotStarted}},[]),m}(ak),a=(0,eA.useMemo)(()=>i||{authStatus:n,service:o},[n,i,o]),{service:s}=a;return(0,eA.useEffect)(()=>ro(s,aO({onSignIn:()=>{r("authenticated")},onSignOut:()=>{r("unauthenticated")}})),[s]),eA.createElement(eB.Provider,{value:a},t)}let aL=e=>{let{shouldWarn:t,message:n}=e;eA.useEffect(()=>{t&&console.warn(n)},[t,n])};var aB=n(9079);let aV=e=>{let{message:t,shouldWarn:n}=e;aL({message:t,shouldWarn:n&&(void 0===aB||aB&&!1)})},aj=eA.createContext(null),aG=()=>{let e=eA.useContext(aj);if(!e)throw Error("`useCustomComponents` cannot be used outside of a `CustomComponentsContext.Provider`");return e},az={amazon:"Amazon",apple:"Apple",facebook:"Facebook",google:"Google"},aH={getBackToSignInText:()=>e5(e3.BACK_SIGN_IN),getChangePasswordText:()=>e5(e3.CHANGE_PASSWORD),getChangingText:()=>e5(e3.CHANGING_PASSWORD),getConfirmText:()=>e5(e3.CONFIRM),getConfirmingText:()=>e5(e3.CONFIRMING),getCopyText:()=>e5(e3.UPPERCASE_COPY),getHidePasswordText:()=>e5(e3.HIDE_PASSWORD),getLoadingText:()=>e5(e3.LOADING),getOrText:()=>e5(e3.OR),getResendCodeText:()=>e5(e3.RESEND_CODE),getSendCodeText:()=>e5(e3.SEND_CODE),getSendingText:()=>e5(e3.SENDING),getShowPasswordText:()=>e5(e3.SHOW_PASSWORD),getSubmitText:()=>e5(e3.SUBMIT),getSubmittingText:()=>e5(e3.SUBMITTING),getSignInTabText:()=>e5(e3.SIGN_IN_TAB),getSignUpTabText:()=>e5(e3.CREATE_ACCOUNT),getForgotPasswordText:e=>e5(e?e3.FORGOT_PASSWORD:e3.FORGOT_YOUR_PASSWORD),getSigningInText:()=>e5(e3.SIGNING_IN_BUTTON),getSignInText:()=>e5(e3.SIGN_IN_BUTTON),getCreatingAccountText:()=>e5(e3.CREATING_ACCOUNT),getCreateAccountText:()=>e5(e3.CREATE_ACCOUNT),getDeliveryMessageText:e=>{let{DeliveryMedium:t,Destination:n}=null!=e?e:{},r="EMAIL"===t,i=e5(e3.CODE_ARRIVAL);if(!(r||"SMS"===t))return"".concat(e5(e3.CODE_SENT),". ").concat(i,".");let o=r?e5(e3.CODE_EMAILED):e5(e3.CODE_TEXTED);return"".concat(o," ").concat(n,". ").concat(i,".")},getDeliveryMethodText:e=>{let{DeliveryMedium:t}=null!=e?e:{},n="EMAIL"===t;return n||"SMS"!==t?n?e5(e3.WE_EMAILED):e5(e3.WE_TEXTED):e5(e3.WE_SENT_CODE)},getChallengeText:e=>{switch(e){case"SMS_MFA":return e5(e3.CONFIRM_SMS);case"SOFTWARE_TOKEN_MFA":return e5(e3.CONFIRM_TOTP);default:throw Error("".concat(e5("Unexpected challengeName encountered in ConfirmSignIn:")," ").concat(e))}},getResetYourPasswordText:()=>e5(e3.RESET_PASSWORD),getSetupTotpText:()=>e5(e3.SETUP_TOTP),getSetupTotpInstructionsText:()=>e5("Copy and paste the secret key below into an authenticator app and then enter the code in the text field below."),getCopiedText:()=>e5("COPIED"),getSignInWithFederationText:(e,t)=>e5("Sign ".concat("signIn"===e?"In":"Up"," with ").concat(az[t])),getSkipText:()=>e5(e3.SKIP),getVerifyText:()=>e5(e3.VERIFY),getVerifyContactText:()=>e5(e3.VERIFY_CONTACT),getAccountRecoveryInfoText:()=>e5(e3.VERIFY_HEADING),getInvalidEmailText:()=>e5("Please enter a valid email"),getRequiredFieldText:()=>e5("This field is required")};var aW=n(9965),aq=n(4010),aK=n(2112);let aY=eA.createContext({isFieldsetDisabled:!1}),aQ=()=>eA.useContext(aY);var aZ=n(7693);let aJ=(0,aK.R)((e,t)=>{let{className:n,children:r,...i}=e;return eA.createElement(aZ.G,{className:(0,aW.A)(aq.M.Flex,n),ref:t,...i},r)});aJ.displayName="Flex";let aX=84*Math.PI,a$=(0,aK.R)((e,t)=>{let{className:n,filledColor:r,emptyColor:i,size:o,variation:a,isDeterminate:s=!1,isPercentageTextHidden:l=!1,percentage:c=0,...u}=e;c=Math.max(c=Math.min(c,100),0);let d="".concat(c,"%"),f=(0,aW.A)(aq.M.Loader,(0,eR.wq)(aq.M.Loader,o),(0,eR.wq)(aq.M.Loader,a),(0,eR.T2)(aq.M.Loader,"determinate",s),n),h=eA.createElement("g",null,eA.createElement("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%",style:{stroke:String(i)},"data-testid":"linear-empty"}),eA.createElement("line",{x1:"0",x2:s?d:"100%",y1:"50%",y2:"50%",style:{stroke:s&&0===c?"none":r?String(r):void 0},"data-testid":"linear-filled"}),s?eA.createElement("text",{"aria-live":"polite",className:(0,aW.A)(aq.M.LoaderLabel,l?aq.M.VisuallyHidden:null),x:"".concat(-1+c,"%"),y:"200%"},d):null),p=eA.createElement("g",null,eA.createElement("circle",{cx:"50%",cy:"50%",r:"".concat(42,"%"),strokeWidth:"".concat(8,"%"),style:{stroke:String(i)},"data-testid":"circular-empty"}),eA.createElement("circle",{cx:"50%",cy:"50%",r:"".concat(42,"%"),strokeWidth:"".concat(8,"%"),style:{stroke:String(r),strokeDasharray:s?"".concat(aX,"% ").concat(aX,"%"):void 0,strokeDashoffset:s?"".concat(aX-aX*c/100,"%"):void 0},"data-testid":"circular-filled"}),s?eA.createElement("text",{"aria-live":"polite",className:(0,aW.A)(aq.M.LoaderLabel,l?aq.M.VisuallyHidden:null),x:"130%",y:"80%"},d):null);return eA.createElement(aZ.G,{as:"svg",className:f,ref:t,role:"img",...u},"linear"===a?h:p)});a$.displayName="Loader";let a0=["link","primary",void 0],a1=(0,aK.R)((e,t)=>{var n;let{className:r,children:i,colorTheme:o,isFullWidth:a=!1,isDisabled:s,isLoading:l,loadingText:c="",size:u,type:d="button",variation:f,...h}=e,p=a0.includes(f)&&o?"".concat(null!=f?f:"outlined","--").concat(o):void 0,{isFieldsetDisabled:g}=aQ(),m=g||(null!==(n=null!=s?s:l)&&void 0!==n?n:h.disabled),v=(0,aW.A)(aq.M.Button,aq.M.FieldGroupControl,(0,eR.wq)(aq.M.Button,f),(0,eR.wq)(aq.M.Button,p),(0,eR.wq)(aq.M.Button,u),(0,eR.T2)(aq.M.Button,"disabled",m),(0,eR.T2)(aq.M.Button,"loading",l),(0,eR.T2)(aq.M.Button,"fullwidth",a),r);return eA.createElement(aZ.G,{ref:t,as:"button",className:v,isDisabled:m,type:d,...h},l?eA.createElement(aJ,{as:"span",className:aq.M.ButtonLoaderWrapper},eA.createElement(a$,{size:u}),c||null):i)});a1.displayName="Button";let a2={1:"h1",2:"h2",3:"h3",4:"h4",5:"h5",6:"h6"},a4=(0,aK.R)((e,t)=>{let{className:n,children:r,isTruncated:i,level:o=6,...a}=e;return eA.createElement(aZ.G,{as:a2[o],className:(0,aW.A)(aq.M.Heading,(0,eR.wq)(aq.M.Heading,o),(0,eR.T2)(aq.M.Heading,"truncated",i),n),ref:t,...a},r)});a4.displayName="Heading";let a3=(0,aK.R)((e,t)=>{let{as:n="p",className:r,children:i,isTruncated:o,variation:a,...s}=e,l=(0,aW.A)(aq.M.Text,(0,eR.wq)(aq.M.Text,a),(0,eR.T2)(aq.M.Text,"truncated",o),r);return eA.createElement(aZ.G,{as:n,className:l,ref:t,...s},i)});a3.displayName="Text";let a5=e=>Object.fromEntries(new FormData(e.target));function a6(){let{submitForm:e,updateBlur:t,updateForm:n}=tm(e=>[e.submitForm,e.updateBlur,e.updateForm]);return{handleBlur:(0,eA.useCallback)(e=>{let{target:{name:n}}=e;t({name:n})},[t]),handleChange:(0,eA.useCallback)(e=>{let{target:{checked:t,name:r,type:i,value:o}}=e;n({name:r,value:"checkbox"!==i||t?o:void 0})},[n]),handleSubmit:(0,eA.useCallback)(t=>{t.preventDefault(),e(a5(t))},[e])}}var a8=n(435);let a9=eA.createContext({});function a7(e){let t=eA.useContext(a9);if(e&&t)return t[e]}let se=e=>{let{className:t,...n}=e;return eA.createElement(aZ.G,{as:"span",width:"1em",height:"1em",className:(0,aW.A)(aq.M.Icon,t),...n},eA.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eA.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"currentColor"})))},st=e=>{let{className:t,...n}=e;return eA.createElement(aZ.G,{as:"span",width:"1em",height:"1em",className:(0,aW.A)(aq.M.Icon,t),...n},eA.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eA.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})))},sn=e=>{let{className:t,...n}=e;return eA.createElement(aZ.G,{as:"span",width:"1em",height:"1em",className:(0,aW.A)(aq.M.Icon,t),...n},eA.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eA.createElement("path",{d:"M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})))},sr=e=>{let{className:t,...n}=e;return eA.createElement(aZ.G,{as:"span",width:"1em",height:"1em",className:(0,aW.A)(aq.M.Icon,t),...n},eA.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eA.createElement("path",{d:"M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",fill:"currentColor"})))},si=e=>{var t,n,r,i;let o,{variation:a,ariaHidden:s,ariaLabel:l,role:c}=e,u=a7("alert");switch(a){case"info":o=null!==(t=null==u?void 0:u.info)&&void 0!==t?t:eA.createElement(sn,{"aria-hidden":s,"aria-label":l,role:c});break;case"error":o=null!==(n=null==u?void 0:u.error)&&void 0!==n?n:eA.createElement(st,{"aria-hidden":s,"aria-label":l,role:c});break;case"warning":o=null!==(r=null==u?void 0:u.warning)&&void 0!==r?r:eA.createElement(sr,{"aria-hidden":s,"aria-label":l,role:c});break;case"success":o=null!==(i=null==u?void 0:u.success)&&void 0!==i?i:eA.createElement(se,{"aria-hidden":s,"aria-label":l,role:c})}return o?eA.createElement("span",{className:aq.M.AlertIcon},o):null};si.displayName="AlertIcon";let so=e=>{let{className:t,size:n,...r}=e;return eA.createElement(aZ.G,{as:"span",width:null!=n?n:"1em",height:null!=n?n:"1em",className:(0,aW.A)(aq.M.Icon,t),...r},eA.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n?{width:n,height:n}:void 0},eA.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})))},sa=(0,aK.R)((e,t)=>{var n;let{buttonRef:r,children:i,className:o,dismissButtonLabel:a=a8.ComponentText.Alert.dismissButtonLabel,hasIcon:s=!0,heading:l,isDismissible:c=!1,onDismiss:u,variation:d,...f}=e,[h,p]=eA.useState(!1),g=a7("alert"),m=eA.useCallback(()=>{p(!h),(0,eR.mf)(u)&&u()},[p,u,h]);return h?null:eA.createElement(aJ,{className:(0,aW.A)(aq.M.Alert,o,(0,eR.wq)(aq.M.Alert,d)),ref:t,role:"alert",...f},s&&eA.createElement(si,{variation:d,ariaHidden:!0}),eA.createElement(aZ.G,{flex:"1"},l&&eA.createElement(aZ.G,{className:aq.M.AlertHeading},l),eA.createElement(aZ.G,{className:aq.M.AlertBody},i)),c&&eA.createElement(a1,{ariaLabel:a,variation:"link",className:aq.M.AlertDismiss,onClick:m,ref:r},null!==(n=null==g?void 0:g.close)&&void 0!==n?n:eA.createElement(so,{"aria-hidden":"true"})))});sa.displayName="Alert";let ss=()=>{let{error:e}=tm(e=>[e.error]);return eA.createElement(eA.Fragment,null,e?eA.createElement(sa,{variation:"error",isDismissible:!0},e5(e)):null)},sl=(0,aK.R)((e,t)=>{let{as:n="span",children:r,className:i,...o}=e;return eA.createElement(aZ.G,{as:n,className:(0,aW.A)(aq.M.VisuallyHidden,i),ref:t,...o},r)});sl.displayName="VisuallyHidden";let sc=e=>{let{className:t,...n}=e;return eA.createElement(aZ.G,{as:"span",width:"1em",height:"1em",className:(0,aW.A)(aq.M.Icon,t),...n},eA.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eA.createElement("path",{d:"M12 6.0002C15.79 6.0002 19.17 8.1302 20.82 11.5002C20.23 12.7202 19.4 13.7702 18.41 14.6202L19.82 16.0302C21.21 14.8002 22.31 13.2602 23 11.5002C21.27 7.1102 17 4.0002 12 4.0002C10.73 4.0002 9.51 4.2002 8.36 4.5702L10.01 6.2202C10.66 6.0902 11.32 6.0002 12 6.0002ZM10.93 7.14019L13 9.2102C13.57 9.4602 14.03 9.9202 14.28 10.4902L16.35 12.5602C16.43 12.2202 16.49 11.8602 16.49 11.4902C16.5 9.0102 14.48 7.0002 12 7.0002C11.63 7.0002 11.28 7.05019 10.93 7.14019ZM2.01 3.8702L4.69 6.5502C3.06 7.8302 1.77 9.5302 1 11.5002C2.73 15.8902 7 19.0002 12 19.0002C13.52 19.0002 14.98 18.7102 16.32 18.1802L19.74 21.6002L21.15 20.1902L3.42 2.4502L2.01 3.8702ZM9.51 11.3702L12.12 13.9802C12.08 13.9902 12.04 14.0002 12 14.0002C10.62 14.0002 9.5 12.8802 9.5 11.5002C9.5 11.4502 9.51 11.4202 9.51 11.3702V11.3702ZM6.11 7.97019L7.86 9.7202C7.63 10.2702 7.5 10.8702 7.5 11.5002C7.5 13.9802 9.52 16.0002 12 16.0002C12.63 16.0002 13.23 15.8702 13.77 15.6402L14.75 16.6202C13.87 16.8602 12.95 17.0002 12 17.0002C8.21 17.0002 4.83 14.8702 3.18 11.5002C3.88 10.0702 4.9 8.89019 6.11 7.97019Z",fill:"currentColor"})))},su=e=>{let{className:t,...n}=e;return eA.createElement(aZ.G,{as:"span",width:"1em",height:"1em",className:(0,aW.A)(aq.M.Icon,t),...n},eA.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eA.createElement("path",{d:"M12 6C15.79 6 19.17 8.13 20.82 11.5C19.17 14.87 15.79 17 12 17C8.21 17 4.83 14.87 3.18 11.5C4.83 8.13 8.21 6 12 6ZM12 4C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19C17 19 21.27 15.89 23 11.5C21.27 7.11 17 4 12 4ZM12 9C13.38 9 14.5 10.12 14.5 11.5C14.5 12.88 13.38 14 12 14C10.62 14 9.5 12.88 9.5 11.5C9.5 10.12 10.62 9 12 9ZM12 7C9.52 7 7.5 9.02 7.5 11.5C7.5 13.98 9.52 16 12 16C14.48 16 16.5 13.98 16.5 11.5C16.5 9.02 14.48 7 12 7Z",fill:"currentColor"})))},{passwordIsHidden:sd,passwordIsShown:sf,showPassword:sh}=a8.ComponentText.PasswordField,sp=(0,aK.R)((e,t)=>{var n,r;let{fieldType:i,passwordIsHiddenLabel:o=sd,passwordIsShownLabel:a=sf,showPasswordButtonLabel:s=sh,size:l,hasError:c,...u}=e,d=a7("passwordField"),f=(0,aW.A)(aq.M.FieldShowPassword,(0,eR.T2)(aq.M.FieldShowPassword,"error",c)),h="password"===i?null!==(n=null==d?void 0:d.visibility)&&void 0!==n?n:eA.createElement(su,{"aria-hidden":"true"}):null!==(r=null==d?void 0:d.visibilityOff)&&void 0!==r?r:eA.createElement(sc,{"aria-hidden":"true"});return eA.createElement(a1,{"aria-checked":"password"!==i,ariaLabel:s,className:f,colorTheme:c?"error":void 0,ref:t,role:"switch",size:l,...u},eA.createElement(sl,{"aria-live":"polite"},"password"===i?o:a),h)});sp.displayName="ShowPasswordButton";let sg=e=>{let{descriptiveText:t,labelHidden:n,...r}=e;return t?eA.createElement(a3,{"data-testid":"qa-field-description",className:(0,aW.A)(aq.M.FieldDescription,{[aq.M.VisuallyHidden]:n}),...r},t):null};sg.displayName="FieldDescription";let sm=e=>{let{errorMessage:t,hasError:n,...r}=e;return n&&t?eA.createElement(a3,{className:aq.M.FieldErrorMessage,...r},t):null};sm.displayName="FieldErrorMessage";let sv=(0,aK.R)((e,t)=>{let{children:n,className:r,innerEndComponent:i,innerStartComponent:o,orientation:a="horizontal",outerEndComponent:s,outerStartComponent:l,variation:c,...u}=e,d=null!=i,f=null!=o?aq.M.FieldGroupHasInnerStart:null,h=d?aq.M.FieldGroupHasInnerEnd:null,p=(0,aW.A)(aq.M.FieldGroup,f,h,(0,eR.wq)(aq.M.FieldGroup,a),r);return eA.createElement(aJ,{className:p,ref:t,...u},l&&eA.createElement(aZ.G,{className:(0,aW.A)(aq.M.FieldGroupOuterStart,(0,eR.wq)(aq.M.FieldGroupOuterStart,c))},l),eA.createElement(aZ.G,{className:(0,aW.A)(aq.M.FieldGroupFieldWrapper,(0,eR.wq)(aq.M.FieldGroupFieldWrapper,a))},o&&eA.createElement(aZ.G,{className:aq.M.FieldGroupInnerStart},o),n,i&&eA.createElement(aZ.G,{className:aq.M.FieldGroupInnerEnd},i)),s&&eA.createElement(aZ.G,{className:(0,aW.A)(aq.M.FieldGroupOuterEnd,(0,eR.wq)(aq.M.FieldGroupOuterEnd,c))},s))});sv.displayName="FieldGroup";let sy=(0,aK.R)((e,t)=>{let{autoComplete:n,checked:r,className:i,defaultChecked:o,defaultValue:a,id:s,isDisabled:l,isReadOnly:c,isRequired:u,size:d,type:f="text",hasError:h=!1,value:p,variation:g,...m}=e,v=(0,aW.A)(aq.M.Input,aq.M.FieldGroupControl,(0,eR.wq)(aq.M.Input,g),(0,eR.T2)(aq.M.Input,"error",h),(0,eR.wq)(aq.M.Input,d),i),{isFieldsetDisabled:y}=aQ();return eA.createElement(aZ.G,{"aria-invalid":h,as:"input",autoComplete:n,checked:r,className:v,defaultChecked:o,defaultValue:a,isDisabled:y||l,id:s,readOnly:c,ref:t,required:u,type:f,value:p,...m})});sy.displayName="Input";let sE=(0,aK.R)((e,t)=>{let{children:n,className:r,visuallyHidden:i,...o}=e;return eA.createElement(aZ.G,{as:"label",className:(0,aW.A)(aq.M.Label,r,{[aq.M.VisuallyHidden]:i}),ref:t,...o},n)});sE.displayName="Label";var sS=n(7374);let sw=e=>e in sS.Q,sx=e=>{let t={styleProps:{},rest:{}};return Object.keys(e).forEach(n=>{sw(n)?t.styleProps={...t.styleProps,[n]:e[n]}:t.rest={...t.rest,[n]:e[n]}}),t},sb=(null===(ex=globalThis)||void 0===ex?void 0:ex.document)?eA.useLayoutEffect:()=>{},sC=e_["useId".toString()]||(()=>void 0),sI=0,sA=e=>{let[t,n]=eA.useState(sC());return sb(()=>{e||n(e=>null!=e?e:String(sI++))},[e]),null!=e?e:t?"".concat("amplify-id","-").concat(t):""},s_=(0,aK.R)((e,t)=>{let{className:n,descriptiveText:r,errorMessage:i,hasError:o=!1,id:a,innerEndComponent:s,innerStartComponent:l,label:c,labelHidden:u=!1,outerEndComponent:d,outerStartComponent:f,size:h,testId:p,variation:g,inputStyles:m,...v}=e,y=sA(a),E=sA(),S=r?E:void 0,{styleProps:w,rest:x}=sx(v);return eA.createElement(aJ,{className:(0,aW.A)(aq.M.Field,(0,eR.wq)(aq.M.Field,h),aq.M.TextField,n),testId:p,...w},eA.createElement(sE,{htmlFor:y,visuallyHidden:u},c),eA.createElement(sg,{id:E,labelHidden:u,descriptiveText:r}),eA.createElement(sv,{outerStartComponent:f,outerEndComponent:d,innerStartComponent:l,innerEndComponent:s,variation:g},eA.createElement(sy,{"aria-describedby":S,hasError:o,id:y,ref:t,size:h,variation:g,...m,...x})),eA.createElement(sm,{hasError:o,errorMessage:i}))});s_.displayName="TextField";let sR=(0,aK.R)((e,t)=>{let{autoComplete:n="current-password",label:r,className:i,hideShowPassword:o=!1,passwordIsHiddenLabel:a,passwordIsShownLabel:s,showPasswordButtonLabel:l,showPasswordButtonRef:c,size:u,hasError:d,...f}=e,[h,p]=eA.useState("password"),g=eA.useCallback(()=>{"password"===h?p("text"):p("password")},[p,h]);return eA.createElement(s_,{autoComplete:n,outerEndComponent:o?null:eA.createElement(sp,{fieldType:h,onClick:g,passwordIsHiddenLabel:a,passwordIsShownLabel:s,ref:c,size:u,showPasswordButtonLabel:l,hasError:d}),size:u,type:h,label:r,className:(0,aW.A)(aq.M.PasswordField,i),ref:t,hasError:d,...f})});sR.displayName="PasswordField";let sT=e=>{let{className:t,...n}=e;return eA.createElement(aZ.G,{as:"span",width:"1em",height:"1em",className:(0,aW.A)(aq.M.Icon,t),...n},eA.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eA.createElement("path",{d:"M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",fill:"currentColor"})))},sN=(0,aK.R)((e,t)=>{var n;let{autoComplete:r,className:i,size:o,variation:a,value:s,defaultValue:l,hasError:c,icon:u,iconColor:d,children:f,placeholder:h,isDisabled:p,isRequired:g,isMultiple:m=!1,selectSize:v=1,...y}=e,E=void 0===s&&void 0===l&&h,S=m||v>1,w=(0,aW.A)(aq.M.Select,aq.M.FieldGroupControl,(0,eR.wq)(aq.M.Select,o),(0,eR.wq)(aq.M.Select,a),(0,eR.T2)(aq.M.Select,"error",c),(0,eR.T2)(aq.M.Select,"expanded",S),i),x=a7("select"),{isFieldsetDisabled:b}=aQ();return eA.createElement(aZ.G,{className:aq.M.SelectWrapper},eA.createElement(aZ.G,{"aria-invalid":c,as:"select",autoComplete:r,value:s,defaultValue:E?"":l,isDisabled:b||p,multiple:m,size:v,required:g,className:w,ref:t,...y},h&&eA.createElement("option",{value:""},h),f),S?null:eA.createElement(aJ,{className:(0,aW.A)(aq.M.SelectIcon,(0,eR.wq)(aq.M.SelectIcon,o)),color:d},null!==(n=null!=u?u:null==x?void 0:x.expand)&&void 0!==n?n:eA.createElement(sT,null)))});sN.displayName="Select";let sP=e=>{let{children:t,options:n}=e;return t?((null==n?void 0:n.length)&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),t):null==n?void 0:n.map((e,t)=>eA.createElement("option",{label:e,value:e,key:"".concat(e,"-").concat(t)},e))},sU=(0,aK.R)((e,t)=>{let{children:n,className:r,descriptiveText:i,errorMessage:o,hasError:a=!1,id:s,label:l,labelHidden:c=!1,options:u,size:d,testId:f,inputStyles:h,...p}=e,g=sA(s),m=sA(),v=i?m:void 0,{styleProps:y,rest:E}=sx(p);return eA.createElement(aJ,{className:(0,aW.A)(aq.M.Field,(0,eR.wq)(aq.M.Field,d),aq.M.SelectField,r),testId:f,...y},eA.createElement(sE,{htmlFor:g,visuallyHidden:c},l),eA.createElement(sg,{id:m,labelHidden:c,descriptiveText:i}),eA.createElement(sN,{"aria-describedby":v,hasError:a,id:g,ref:t,size:d,...E,...h},sP({children:n,options:u})),eA.createElement(sm,{hasError:a,errorMessage:o}))});sU.displayName="SelectField";let sM=(0,aK.R)((e,t)=>{let{className:n,dialCodeList:r,isReadOnly:i,...o}=e,a=null!=r?r:eG,s=eA.useMemo(()=>a.map(e=>eA.createElement("option",{key:e,value:e,disabled:i},e)),[a,i]);return eA.createElement(sU,{"aria-disabled":i,autoComplete:"tel-country-code",className:(0,aW.A)(aq.M.CountryCodeSelect,aq.M.DialCodeSelect,n),labelHidden:!0,ref:t,...o},s)});sM.displayName="DialCodeSelect";let sF=(0,aK.R)((e,t)=>{let{autoComplete:n="tel-national",className:r,defaultDialCode:i,dialCodeLabel:o=a8.ComponentText.PhoneNumberField.countryCodeLabel,dialCodeList:a,dialCodeName:s,dialCodeRef:l,hasError:c,isDisabled:u,isReadOnly:d,onDialCodeChange:f,onInput:h,size:p,variation:g,...m}=e;return eA.createElement(s_,{outerStartComponent:eA.createElement(sM,{defaultValue:i,dialCodeList:a,className:r,hasError:c,isDisabled:u,isReadOnly:d,label:o,name:s,onChange:f,ref:l,size:p,variation:g}),autoComplete:n,className:(0,aW.A)(aq.M.PhoneNumberField,r),hasError:c,isDisabled:u,isReadOnly:d,onInput:h,ref:t,size:p,type:"tel",variation:g,...m})});sF.displayName="PhoneNumberField";let sk=e=>{let{errors:t,id:n,dataAttr:r}=e;return(null==t?void 0:t.length)>0?eA.createElement(aZ.G,{...r?{[r]:!0}:{},id:n},t.map(e=>eA.createElement(a3,{key:e,role:"alert",variation:"error"},e5(e)))):null};function sO(e){let{autocomplete:t,dialCode:n,name:r,type:i,...o}=e,{validationErrors:a}=tm(e=>{let{validationErrors:t}=e;return[t]}),s=eA.useMemo(()=>eK(a[r]),[r,a]),l=(null==s?void 0:s.length)>0,c=sA(),u=l?c:void 0;return"tel"===i?eA.createElement(eA.Fragment,null,eA.createElement(sF,{...o,name:r,defaultDialCode:n,dialCodeName:"country_code",autoComplete:t,hasError:l,"aria-describedby":u}),eA.createElement(sk,{dataAttr:"data-amplify-sign-up-errors",errors:s,id:c})):"password"===i?eA.createElement(eA.Fragment,null,eA.createElement(sR,{...o,name:r,autoComplete:t,hasError:l,"aria-describedby":u}),eA.createElement(sk,{dataAttr:"data-amplify-sign-up-errors",errors:s,id:c})):eA.createElement(eA.Fragment,null,eA.createElement(s_,{...o,name:r,autoComplete:t,hasError:l,type:i,"aria-describedby":u}),eA.createElement(sk,{dataAttr:"data-amplify-sign-up-errors",errors:s,id:c}))}function sD(){let{fields:e}=tm(e=>{let{route:t}=e;return[t]}),t=eA.useRef(e.map((e,t)=>eA.createElement(sO,{key:t,...e}))).current;return eA.createElement(eA.Fragment,null,t)}let sL=e=>"signIn"===e||"signUp";function sB(e){let{children:t,className:n,variation:r="default"}=e,{route:i}=tm(e=>{let{route:t}=e;return[t]}),{components:{Header:o,Footer:a}}=aG();return eA.createElement(aZ.G,{className:n,"data-amplify-authenticator":"","data-variation":r},eA.createElement(aZ.G,{"data-amplify-container":""},eA.createElement(o,null),eA.createElement(aZ.G,{"data-amplify-router":"","data-amplify-router-content":sL(i)?void 0:""},t),eA.createElement(a,null)))}let{getDeliveryMessageText:sV,getDeliveryMethodText:sj,getConfirmingText:sG,getConfirmText:sz,getResendCodeText:sH}=aH;function sW(e){let{className:t,variation:n}=e,{isPending:r,resendCode:i,codeDeliveryDetails:o}=tm(e=>[e.isPending,e.resendCode,e.codeDeliveryDetails]),{handleChange:a,handleSubmit:s}=a6(),{components:{ConfirmSignUp:{Header:l=sW.Header,Footer:c=sW.Footer}}}=aG();return eA.createElement(sB,{className:t,variation:n},eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-confirmsignup":"",method:"post",onChange:a,onSubmit:s},eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:r},eA.createElement(l,null),eA.createElement(aJ,{direction:"column"},eA.createElement(a3,{className:"amplify-authenticator__subtitle"},sV(o)),eA.createElement(sD,null),eA.createElement(ss,null),eA.createElement(a1,{variation:"primary",isDisabled:r,type:"submit",loadingText:sG(),isLoading:r,fontWeight:"normal"},sz()),eA.createElement(a1,{onClick:i,type:"button",fontWeight:"normal"},sH())),eA.createElement(c,null))))}sW.Header=()=>{let{codeDeliveryDetails:e}=tm(e=>[e.codeDeliveryDetails]);return eA.createElement(a4,{level:4},sj(e))},sW.Footer=function(){return null};let{getChangePasswordText:sq,getChangingText:sK,getBackToSignInText:sY}=aH,sQ=e=>{let{className:t,variation:n}=e,{isPending:r,toSignIn:i}=tm(e=>[e.isPending,e.toSignIn]),{handleBlur:o,handleChange:a,handleSubmit:s}=a6(),{components:{ForceNewPassword:{FormFields:l=sQ.FormFields,Header:c=sQ.Header,Footer:u=sQ.Footer}}}=aG();return eA.createElement(sB,{className:t,variation:n},eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-forcenewpassword":"",method:"post",onChange:a,onSubmit:s,onBlur:o},eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:r},eA.createElement(c,null),eA.createElement(l,null),eA.createElement(ss,null),eA.createElement(a1,{isDisabled:r,type:"submit",variation:"primary",isLoading:r,loadingText:sK(),fontWeight:"normal"},sq()),eA.createElement(a1,{onClick:i,type:"button",fontWeight:"normal",variation:"link",size:"small"},sY()),eA.createElement(u,null))))};sQ.FormFields=function(){return eA.createElement(sD,null)},sQ.Header=function(){return eA.createElement(a4,{level:4},sq())},sQ.Footer=function(){return null};var sZ=n(2644);let{getConfirmText:sJ,getConfirmingText:sX,getBackToSignInText:s$}=aH,s0=()=>{let{isPending:e,toSignIn:t}=tm(e=>[e.isPending,e.toSignIn]);return eA.createElement(aJ,{direction:"column"},eA.createElement(a1,{isDisabled:e,type:"submit",variation:"primary",fontWeight:"normal",isLoading:e,loadingText:sX()},sJ()),eA.createElement(a1,{onClick:t,type:"button",variation:"link",fontWeight:"normal",size:"small"},s$()))},s1=new eY.k("SetupTotp-logger"),{getSetupTotpText:s2,getCopiedText:s4,getLoadingText:s3}=aH,s5=e=>{let{className:t,variation:n}=e,{totpSecretCode:r,isPending:i,username:o,QRFields:a}=tm(e=>[e.isPending,e.totpSecretCode,e.username]),{handleChange:s,handleSubmit:l}=a6(),{components:{SetupTotp:{Header:c=s5.Header,Footer:u=s5.Footer}}}=aG(),[d,f]=eA.useState(!0),[h,p]=eA.useState(),[g,m]=eA.useState("COPY"),{totpIssuer:v="AWSCognito",totpUsername:y=o}=null!=a?a:{},E=eA.useCallback(async()=>{try{let e=rg(v,y,r),t=await sZ.toDataURL(e);p(t)}catch(e){s1.error(e)}finally{f(!1)}},[v,y,r]);return eA.useEffect(()=>{h||E()},[E,h]),eA.createElement(sB,{className:t,variation:n},eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-setup-totp":"",method:"post",onChange:s,onSubmit:l},eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:i},eA.createElement(c,null),eA.createElement(aJ,{direction:"column"},d?eA.createElement("p",null,s3(),"…"):eA.createElement("img",{"data-amplify-qrcode":!0,src:h,alt:"qr code",width:"228",height:"228"}),eA.createElement(aJ,{"data-amplify-copy":!0},eA.createElement("div",null,r),eA.createElement(aJ,{"data-amplify-copy-svg":!0,onClick:()=>{navigator.clipboard.writeText(r),m(s4())}},eA.createElement("div",{"data-amplify-copy-tooltip":!0},g),eA.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},eA.createElement("path",{d:"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM15 5H8C6.9 5 6.01 5.9 6.01 7L6 21C6 22.1 6.89 23 7.99 23H19C20.1 23 21 22.1 21 21V11L15 5ZM8 21V7H14V12H19V21H8Z"})))),eA.createElement(sD,null),eA.createElement(ss,null)),eA.createElement(s0,null),eA.createElement(u,null))))};s5.Header=function(){return eA.createElement(a4,{level:3},s2())},s5.Footer=function(){return null};let s6=eA.createContext({activeTab:"",setActiveTab:()=>{}}),s8=(0,aK.R)((e,t)=>{let{className:n,value:r,children:i,onClick:o,as:a="button",role:s="tab",...l}=e,{activeTab:c,setActiveTab:u}=eA.useContext(s6),d=c===r;return eA.createElement(aZ.G,{...l,role:s,as:a,id:"".concat(r,"-tab"),"aria-selected":d,"aria-controls":"".concat(r,"-panel"),tabIndex:d?void 0:-1,className:(0,aW.A)(aq.M.TabsItem,(0,eR.T2)(aq.M.TabsItem,"active",c===r),n),ref:t,onClick:e=>{(0,eR.YX)(o)&&(null==o||o(e)),u(r)}},i)});s8.displayName="Tabs.Item";let s9=e=>eA.isValidElement(e),s7=(0,aK.R)((e,t)=>{let{className:n,children:r,indicatorPosition:i,spacing:o,role:a="tablist",...s}=e,l=eA.useRef(null),{activeTab:c,setActiveTab:u}=eA.useContext(s6);eA.useImperativeHandle(t,()=>l.current);let d=eA.useMemo(()=>eA.Children.toArray(r).map(e=>{if(e&&s9(e))return e.props.value}).filter(e=>!!e),[r]),f=d.indexOf(c),h=eA.useCallback(()=>{var e,t;let n=f===d.length-1?0:f+1,r=null!==(t=null===(e=l.current)||void 0===e?void 0:e.querySelectorAll("button"))&&void 0!==t?t:[];for(;r[n].disabled;)n===d.length-1?n=0:n++;let i=d[n];if(i){u(i);let e=r[n];null==e||e.focus(),null==e||e.click()}},[f,u,d]),p=eA.useCallback(()=>{var e,t;let n=0===f?d.length-1:f-1,r=null!==(t=null===(e=l.current)||void 0===e?void 0:e.querySelectorAll("button"))&&void 0!==t?t:[];for(;r[n].disabled;)0===n?n=d.length-1:n--;let i=d[n];if(i){u(i);let e=r[n];null==e||e.focus(),null==e||e.click()}},[f,u,d]),g=eA.useCallback(e=>{switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),p();break;case"ArrowUp":case"ArrowRight":e.preventDefault(),e.stopPropagation(),h()}},[p,h]);return eA.createElement(aZ.G,{...s,role:a,onKeyDown:g,className:(0,aW.A)(aq.M.TabsList,i?(0,eR.wq)(aq.M.TabsList,i):null,o?(0,eR.wq)(aq.M.TabsList,o):null,n),ref:l},r)});s7.displayName="Tabs.List";let le=(0,aK.R)((e,t)=>{let{className:n,value:r,children:i,role:o="tabpanel",...a}=e,{activeTab:s,isLazy:l}=eA.useContext(s6);return l&&s!==r?null:eA.createElement(aZ.G,{...a,role:o,id:"".concat(r,"-panel"),"aria-labelledby":"".concat(r,"-tab"),className:(0,aW.A)(aq.M.TabsPanel,(0,eR.T2)(aq.M.TabsPanel,"active",s===r),n),ref:t},i)});le.displayName="Tabs.Panel";let lt=(0,aK.R)((e,t)=>{let{children:n,defaultValue:r,className:i,value:o,onValueChange:a,isLazy:s,...l}=e,c=void 0!==o,[u,d]=eA.useState(()=>c?o:r),f=c?o:null!=u?u:"",h=eA.useCallback(e=>{(0,eR.mf)(a)&&a(e),c||d(e)},[a,c]),p=eA.useMemo(()=>({activeTab:f,isLazy:s,setActiveTab:h}),[f,h,s]);return eA.createElement(s6.Provider,{value:p},eA.createElement(aZ.G,{...l,ref:t,className:(0,aW.A)(i,aq.M.Tabs)},n))});lt.displayName="Tabs.Container";let ln=Object.assign((0,aK.R)((e,t)=>{let{items:n,indicatorPosition:r,justifyContent:i,spacing:o,...a}=e;return eA.createElement(lt,{...a,ref:t},eA.createElement(s7,{indicatorPosition:r,justifyContent:i,spacing:o},null==n?void 0:n.map(e=>{let{value:t,label:n,content:r,...i}=e;return eA.createElement(s8,{...i,key:t,value:t},n)})),null==n?void 0:n.map(e=>{let{value:t,content:n,isDisabled:r}=e;return eA.createElement(le,{key:t,value:t,isDisabled:r},n)}))}),{Item:s8,List:s7,Panel:le,Container:lt});ln.displayName="Tabs",(j=eb||(eb={})).Apple="Apple",j.Amazon="Amazon",j.Facebook="Facebook",j.Google="Google",(G=eC||(eC={})).Email="email",G.PhoneNumber="phone_number";let lr=(0,aK.R)((e,t)=>{let{className:n,orientation:r="horizontal",size:i,label:o,...a}=e,s=(0,aW.A)(aq.M.Divider,(0,eR.wq)(aq.M.Divider,r),(0,eR.wq)(aq.M.Divider,i),n);return eA.createElement(aZ.G,{"aria-orientation":r,as:"hr",className:s,"data-label":o,ref:t,...a})});lr.displayName="Divider";let li={minX:0,minY:0,width:24,height:24},lo=(0,aK.R)((e,t)=>{let n,{className:r,as:i="svg",fill:o="currentColor",pathData:a,viewBox:s=li,children:l,paths:c,...u}=e,d=s.minX?s.minX:li.minX,f=s.minY?s.minY:li.minY,h=s.width?s.width:li.width,p=s.height?s.height:li.height;return l&&(n=l),c&&(n=c.map((e,t)=>eA.createElement("path",{...e,key:t}))),a&&(n=eA.createElement("path",{d:a,fill:o})),eA.createElement(aZ.G,{as:i,className:(0,aW.A)(aq.M.Icon,r),ref:t,viewBox:"".concat(d," ").concat(f," ").concat(h," ").concat(p),...u},n)});lo.displayName="Icon";let la=()=>eA.createElement("svg",{"aria-label":"Apple icon",className:"amplify-icon federated-sign-in-icon",fill:"#000",preserveAspectRatio:"xMidYMid",stroke:"#000",strokeWidth:"0",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eA.createElement("path",{d:"M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5-34.9-50-87.7-77.5-157.3-82.8-65.9-5.2-138 38.4-164.4 38.4-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8 23.8 68.2 109.6 235.3 199.1 232.6 46.8-1.1 79.9-33.2 140.8-33.2 59.1 0 89.7 33.2 141.9 33.2 90.3-1.3 167.9-153.2 190.5-221.6-121.1-57.1-114.6-167.2-114.6-170.7zm-105.1-305c50.7-60.2 46.1-115 44.6-134.7-44.8 2.6-96.6 30.5-126.1 64.8-32.5 36.8-51.6 82.3-47.5 133.6 48.4 3.7 92.6-21.2 129-63.7z"})),ls=()=>eA.createElement("svg",{"aria-label":"Google icon",className:"amplify-icon federated-sign-in-icon",viewBox:"0 0 256 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},eA.createElement("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),eA.createElement("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),eA.createElement("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),eA.createElement("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"})),ll=()=>eA.createElement(lo,{className:"federated-sign-in-icon",ariaLabel:"Facebook icon",viewBox:{minX:0,minY:0,width:279,height:538},pathData:"M82.3409742,538 L82.3409742,292.936652 L0,292.936652 L0,196.990154 L82.2410458,196.990154 L82.2410458,126.4295 C82.2410458,44.575144 132.205229,0 205.252865,0 C240.227794,0 270.306232,2.59855099 279,3.79788222 L279,89.2502322 L228.536175,89.2502322 C188.964542,89.2502322 181.270057,108.139699 181.270057,135.824262 L181.270057,196.89021 L276.202006,196.89021 L263.810888,292.836708 L181.16913,292.836708 L181.16913,538 L82.3409742,538 Z",fill:"#1877F2"}),lc=()=>eA.createElement("svg",{"aria-label":"Amazon icon",className:"amplify-icon federated-sign-in-icon",viewBox:"0 0 243 264",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},eA.createElement("path",{d:"M230.826 208.039C227.468 203.683 208.551 205.982 200.056 206.998C197.471 207.321 197.076 205.042 199.407 203.405C214.475 192.665 239.201 195.766 242.082 199.364C244.966 202.982 241.337 228.071 227.173 240.049C225.001 241.888 222.93 240.904 223.898 238.468C227.077 230.431 234.205 212.419 230.826 208.039ZM123.769 264C71.0234 264 39.0764 241.955 14.7853 217.542C9.97339 212.706 3.71799 206.296 0.311513 200.691C-1.09773 198.372 2.59096 195.022 5.04421 196.844C35.239 219.268 79.1012 239.538 122.53 239.538C151.82 239.538 188.046 227.47 217.669 214.868C222.147 212.966 222.147 219.18 221.512 221.061C221.183 222.032 206.515 236.221 186.247 247.047C167.304 257.166 143.397 264 123.769 264Z",fill:"#F2541B"}),eA.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M142.943 111.185C142.943 124.756 143.268 136.054 136.406 148.123C130.856 157.913 122.027 163.95 112.222 163.95C98.8288 163.95 90.9806 153.772 90.9806 138.693C90.9806 109.036 117.677 103.647 142.943 103.647V111.185ZM178.166 196.081C175.858 198.15 171.635 198.22 169.914 196.894C157.974 187.684 149.89 173.688 149.89 173.688C130.706 193.156 117.127 199 92.2879 199C62.8772 199 40 180.905 40 144.729C40 116.461 55.3552 97.2408 77.2563 87.823C96.2094 79.5256 122.684 78.0173 142.943 75.7517C142.943 75.7517 144.633 53.933 138.699 45.9806C134.098 39.8163 126.272 36.9329 119.089 36.9329C106.127 36.8829 93.61 43.9051 91.1262 57.4188C90.4136 61.2829 87.5533 64.5261 84.54 64.206L51.0823 60.5922C48.5156 60.2951 45.0381 57.6639 45.8636 53.3081C53.644 12.3684 90.7373 0 123.989 0C140.983 0 163.21 4.51651 176.608 17.3349C193.597 33.1648 191.969 54.2755 191.969 77.2722V131.51C191.969 147.835 198.768 154.987 205.151 163.775C207.376 166.953 207.886 170.714 205.04 173.032C197.902 178.999 178.166 196.081 178.166 196.081Z",fill:"#F2541B"})),lu=e=>{let t;let{icon:n,provider:r,text:i}=e,{toFederatedSignIn:o}=tm();return"facebook"===n?t=eA.createElement(ll,null):"google"===n?t=eA.createElement(ls,null):"amazon"===n?t=eA.createElement(lc,null):"apple"===n&&(t=eA.createElement(la,null)),eA.createElement(a1,{onClick:e=>{e.preventDefault(),o({provider:r})},className:"federated-sign-in-button",fontWeight:"normal",gap:"1rem"},t,eA.createElement(a3,{as:"span"},i))},{getSignInWithFederationText:ld,getOrText:lf}=aH;function lh(){let{route:e,socialProviders:t}=tm(e=>{let{route:t,socialProviders:n}=e;return[t,n]});return 0===t.length?null:eA.createElement(aJ,{direction:"column",padding:"0 0 1rem 0",className:"federated-sign-in-container"},t.map(t=>{switch(t){case"amazon":return eA.createElement(lu,{icon:"amazon",key:t,provider:eb.Amazon,text:ld(e,t)});case"apple":return eA.createElement(lu,{icon:"apple",key:t,provider:eb.Apple,text:ld(e,t)});case"facebook":return eA.createElement(lu,{icon:"facebook",key:t,provider:eb.Facebook,text:ld(e,t)});case"google":return eA.createElement(lu,{icon:"google",key:t,provider:eb.Google,text:ld(e,t)});default:console.error("Authenticator does not support ".concat(t,". Please open an issue: https://github.com/aws-amplify/amplify-ui/issues/choose"))}}),eA.createElement(lr,{size:"small",label:lf()}))}let{getSignInText:lp,getSigningInText:lg,getForgotPasswordText:lm}=aH;function lv(){let{isPending:e}=tm(e=>[e.isPending]),{handleChange:t,handleSubmit:n}=a6(),{components:{SignIn:{Header:r=lv.Header,Footer:i=lv.Footer}}}=aG();return eA.createElement(aZ.G,null,eA.createElement(r,null),eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-signin":"",method:"post",onSubmit:n,onChange:t},eA.createElement(lh,null),eA.createElement(aJ,{direction:"column"},eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:e},eA.createElement(sl,null,eA.createElement("legend",null,lp())),eA.createElement(sD,null)),eA.createElement(ss,null),eA.createElement(a1,{isDisabled:e,isFullWidth:!0,type:"submit",variation:"primary",isLoading:e,loadingText:lg()},lp()))),eA.createElement(i,null))}lv.Footer=()=>{let{toForgotPassword:e}=tm(e=>[e.toForgotPassword]);return eA.createElement(aZ.G,{"data-amplify-footer":""},eA.createElement(a1,{fontWeight:"normal",onClick:e,size:"small",variation:"link"},lm()))},lv.Header=function(){return null};let{getCreateAccountText:ly,getCreatingAccountText:lE}=aH;function lS(){let{hasValidationErrors:e,isPending:t}=tm(e=>[e.hasValidationErrors,e.isPending]),{handleChange:n,handleBlur:r,handleSubmit:i}=a6(),{components:{SignUp:{Header:o=lS.Header,FormFields:a=lS.FormFields,Footer:s=lS.Footer}}}=aG();return eA.createElement(aZ.G,null,eA.createElement(o,null),eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-signup":"",method:"post",onChange:n,onSubmit:i,onBlur:r},eA.createElement(lh,null),eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:t},eA.createElement(aJ,{direction:"column"},eA.createElement(a,null),eA.createElement(ss,null)),eA.createElement(a1,{isDisabled:e||t,isFullWidth:!0,type:"submit",variation:"primary",isLoading:t,loadingText:lE()},ly()))),eA.createElement(s,null))}lS.Header=function(){return null},lS.FormFields=function(){return eA.createElement(sD,null)},lS.Footer=function(){return null};let{getSignInTabText:lw,getSignUpTabText:lx}=aH,lb=e=>{let{className:t,hideSignUp:n,variation:r}=e,{route:i,toSignIn:o,toSignUp:a}=tm(e=>[e.route,e.toSignIn,e.toSignUp]);return eA.createElement(sB,{className:t,variation:r},n?eA.createElement(aZ.G,{"data-amplify-router-content":""},"signIn"===i&&eA.createElement(lv,null)):eA.createElement(ln.Container,{value:i,isLazy:!0,onValueChange:()=>"signIn"===i?a():o()},eA.createElement(ln.List,{spacing:"equal",indicatorPosition:"top"},eA.createElement(ln.Item,{value:"signIn"},lw()),eA.createElement(ln.Item,{value:"signUp"},lx())),eA.createElement(ln.Panel,{value:"signIn","data-amplify-router-content":""},eA.createElement(lv,null)),eA.createElement(ln.Panel,{value:"signUp","data-amplify-router-content":""},eA.createElement(lS,null))))},{getSubmitText:lC,getSubmittingText:lI}=aH,lA=e=>{let{cancelButtonSendType:t,cancelButtonText:n,submitButtonText:r}=e,{isPending:i,resendCode:o,skipVerification:a,toSignIn:s}=tm(e=>[e.isPending]),l=i?eA.createElement(eA.Fragment,null,lI(),"…"):eA.createElement(eA.Fragment,null,lC());return eA.createElement(aJ,{direction:"column"},eA.createElement(a1,{fontWeight:"normal",variation:"primary",isDisabled:i,type:"submit"},null!=r?r:l),eA.createElement(a1,{onClick:()=>{switch(t){case"SKIP":a();break;case"RESEND":o();break;case"SIGN_IN":s();break;default:return}},type:"button",variation:"link",fontWeight:"normal",size:"small"},n))},{getAccountRecoveryInfoText:l_,getSkipText:lR}=aH,lT=e=>{let{className:t,variation:n}=e,{isPending:r}=tm(e=>[e.isPending]),{handleChange:i,handleSubmit:o}=a6(),{components:{ConfirmVerifyUser:{Header:a=lT.Header,Footer:s=lT.Footer}}}=aG();return eA.createElement(sB,{className:t,variation:n},eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-confirmverifyuser":"",method:"post",onChange:i,onSubmit:o},eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:r},eA.createElement(a,null),eA.createElement(aJ,{direction:"column"},eA.createElement(sD,null)),eA.createElement(ss,null),eA.createElement(lA,{cancelButtonText:lR(),cancelButtonSendType:"SKIP"}),eA.createElement(s,null))))};lT.Header=function(){return eA.createElement(a4,{level:3},l_())},lT.Footer=function(){return null};let lN=eA.createContext({name:"default"}),lP=()=>(0,eA.useContext)(lN),lU=(0,aK.R)((e,t)=>{let{children:n,className:r,id:i,isDisabled:o=!1,testId:a,value:s,labelPosition:l,...c}=e,{currentValue:u,defaultValue:d,name:f,hasError:h,isGroupDisabled:p=!1,isRequired:g,isReadOnly:m,onChange:v,size:y,labelPosition:E}=lP(),{isFieldsetDisabled:S}=aQ(),w=S||p||o||m&&d!==s,x=l||E;return eA.createElement(aJ,{as:"label",className:(0,aW.A)(aq.M.Radio,(0,eR.T2)(aq.M.Radio,"disabled",w),x?"amplify-label-".concat(x):null,r)},n&&eA.createElement(a3,{as:"span",className:(0,aW.A)(aq.M.RadioLabel,(0,eR.T2)(aq.M.RadioLabel,"disabled",w))},n),eA.createElement(sy,{checked:void 0!==u?s===u:void 0,className:(0,aW.A)(aq.M.VisuallyHidden,aq.M.RadioInput),defaultChecked:void 0!==d?s===d:void 0,hasError:h,id:i,isDisabled:w,isReadOnly:m,isRequired:g,onChange:v,ref:t,type:"radio",name:f,value:s,...c}),eA.createElement(aJ,{"aria-hidden":"true",as:"span",className:(0,aW.A)(aq.M.RadioButton,(0,eR.wq)(aq.M.RadioButton,y)),testId:a}))});lU.displayName="Radio";let lM=(0,aK.R)((e,t)=>{let{children:n,className:r,isDisabled:i,legend:o,legendHidden:a,size:s,testId:l,variation:c="plain",...u}=e,{isFieldsetDisabled:d}=aQ(),f=d||i,h=eA.useMemo(()=>({isFieldsetDisabled:f}),[f]),p=(0,aW.A)(aq.M.Fieldset,(0,eR.wq)(aq.M.Fieldset,c),(0,eR.wq)(aq.M.Fieldset,s),r),g=(0,aW.A)(aq.M.FieldsetLegend,(0,eR.wq)(aq.M.FieldsetLegend,s),{[aq.M.VisuallyHidden]:a});return eA.createElement(aY.Provider,{value:h},eA.createElement(aJ,{as:"fieldset",className:p,ref:t,disabled:f,testId:l,...u},eA.createElement(sl,{as:"legend"},o),eA.createElement(aZ.G,{as:"div","aria-hidden":"true",className:g},o),n))});lM.displayName="Fieldset";let lF=(e,t)=>e&&t?"".concat(e,"-").concat(t):void 0,lk=(0,aK.R)((e,t)=>{let{children:n,className:r,defaultValue:i,descriptiveText:o,errorMessage:a,hasError:s=!1,id:l,isDisabled:c,isRequired:u,isReadOnly:d,legend:f,legendHidden:h=!1,labelPosition:p,onChange:g,name:m,size:v,testId:y,value:E,variation:S,...w}=e,x=sA(l),b=sA(),C=o?b:void 0,I=lF(y,aq.M.RadioGroup),A=eA.useMemo(()=>({currentValue:E,defaultValue:i,hasError:s,isRequired:u,isReadOnly:d,isGroupDisabled:c,onChange:g,size:v,name:m,labelPosition:p}),[i,s,c,u,d,g,v,m,E,p]);return eA.createElement(lM,{className:(0,aW.A)(aq.M.Field,(0,eR.wq)(aq.M.Field,v),aq.M.RadioGroupField,r),isDisabled:c,legend:f,legendHidden:h,ref:t,role:"radiogroup",size:v,testId:y,variation:S,...w},eA.createElement(sg,{id:b,labelHidden:h,descriptiveText:o}),eA.createElement(aJ,{"aria-describedby":C,className:aq.M.RadioGroup,id:x,testId:I},eA.createElement(lN.Provider,{value:A},n)),eA.createElement(sm,{hasError:s,errorMessage:a}))});lk.displayName="RadioGroupField";let{getSkipText:lO,getVerifyText:lD,getVerifyContactText:lL,getAccountRecoveryInfoText:lB}=aH,lV=(e,t)=>{let n=e5(e),r=t;if("Phone Number"===e)r=rh(t);else if("Email"===e){let e=t.split("@"),n=rf(e[0]);r="".concat(n,"@").concat(e[1])}return"".concat(n,": ").concat(r)},lj=e=>Object.entries(e).map(e=>{let[t,n]=e;return eA.createElement(lU,{name:"unverifiedAttr",value:t,key:t},lV(ez[t].label,n))}),lG=e=>{let{className:t,variation:n}=e,{components:{VerifyUser:{Header:r=lG.Header,Footer:i=lG.Footer}}}=aG(),{isPending:o,unverifiedUserAttributes:a}=tm(e=>{let{isPending:t,unverifiedUserAttributes:n}=e;return[t,n]}),{handleChange:s,handleSubmit:l}=a6(),c=o?eA.createElement(eA.Fragment,null,"Verifying…"):eA.createElement(eA.Fragment,null,lD()),u=eA.createElement(lk,{legend:lL(),name:"verify_context",isDisabled:o,legendHidden:!0},lj(a));return eA.createElement(sB,{className:t,variation:n},eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-verifyuser":"",method:"post",onChange:s,onSubmit:l},eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:o},eA.createElement(r,null),u,eA.createElement(ss,null),eA.createElement(lA,{cancelButtonText:lO(),cancelButtonSendType:"SKIP",submitButtonText:c}),eA.createElement(i,null))))};lG.Header=function(){return eA.createElement(a4,{level:3},lB())},lG.Footer=function(){return null};let{getChallengeText:lz}=aH,lH=e=>{let{className:t,variation:n}=e,{isPending:r}=tm(e=>[e.isPending]),{handleChange:i,handleSubmit:o}=a6(),{components:{ConfirmSignIn:{Header:a=lH.Header,Footer:s=lH.Footer}}}=aG();return eA.createElement(sB,{className:t,variation:n},eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-confirmsignin":"",method:"post",onChange:i,onSubmit:o},eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:r},eA.createElement(a,null),eA.createElement(aJ,{direction:"column"},eA.createElement(sD,null),eA.createElement(ss,null)),eA.createElement(s0,null),eA.createElement(s,null))))};lH.Header=function(){let{challengeName:e}=tm(e=>{let{challengeName:t}=e;return[t]});return eA.createElement(a4,{level:3},lz(e))},lH.Footer=function(){return null};let{getResendCodeText:lW,getResetYourPasswordText:lq}=aH,lK=e=>{let{className:t,variation:n}=e,{isPending:r}=tm(e=>[e.isPending]),{handleBlur:i,handleChange:o,handleSubmit:a}=a6(),{components:{ConfirmResetPassword:{Header:s=lK.Header,Footer:l=lK.Footer}}}=aG();return eA.createElement(sB,{className:t,variation:n},eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-confirmresetpassword":"",method:"post",onSubmit:a,onChange:o,onBlur:i},eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:r},eA.createElement(s,null),eA.createElement(aJ,{direction:"column"},eA.createElement(sD,null)),eA.createElement(ss,null),eA.createElement(lA,{cancelButtonSendType:"RESEND",cancelButtonText:lW()}),eA.createElement(l,null))))};lK.Header=function(){let e=lq();return eA.createElement(a4,{level:3},e)},lK.Footer=function(){return null};let{getBackToSignInText:lY,getSendingText:lQ,getSendCodeText:lZ,getResetYourPasswordText:lJ}=aH,lX=e=>{let{className:t,variation:n}=e,{isPending:r}=tm(e=>[e.isPending]),{handleChange:i,handleSubmit:o}=a6(),{components:{ForgotPassword:{Header:a=lX.Header,Footer:s=lX.Footer}}}=aG();return eA.createElement(sB,{className:t,variation:n},eA.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-forgotpassword":"",method:"post",onChange:i,onSubmit:o},eA.createElement(aJ,{as:"fieldset",direction:"column",isDisabled:r},eA.createElement(a,null),eA.createElement(aJ,{direction:"column"},eA.createElement(sD,null)),eA.createElement(ss,null),eA.createElement(lA,{cancelButtonText:lY(),cancelButtonSendType:"SIGN_IN",submitButtonText:r?eA.createElement(eA.Fragment,null,lQ(),"…"):eA.createElement(eA.Fragment,null,lZ())}),eA.createElement(s,null))))};lX.Header=function(){return eA.createElement(a4,{level:3},lJ())},lX.Footer=function(){return null};let l$=e=>"signIn"===e||"signUp"===e;function l0(){return null}let l1=e=>{switch(e){case"authenticated":case"idle":case"setup":case"transition":return l0;case"confirmSignUp":return sW;case"confirmSignIn":return lH;case"setupTotp":return s5;case"signIn":case"signUp":return lb;case"forceNewPassword":return sQ;case"forgotPassword":return lX;case"confirmResetPassword":return lK;case"verifyUser":return lG;case"confirmVerifyUser":return lT;default:return console.warn("Unhandled Authenticator route - please open an issue: ".concat(e)),l0}};function l2(e){let{className:t,hideSignUp:n,variation:r}=e,{route:i}=tm(e=>{let{route:t}=e;return[t]}),o=(0,eA.useMemo)(()=>l1(i),[i]);return eA.createElement(o,{className:t,hideSignUp:l$(i)?n:void 0,variation:r})}let l4={Header:()=>null,SignIn:{Header:lv.Header,Footer:lv.Footer},SignUp:{Header:lS.Header,FormFields:lS.FormFields,Footer:lS.Footer},ConfirmSignUp:{Header:sW.Header,Footer:sW.Footer},SetupTotp:{Header:s5.Header,Footer:s5.Footer},ConfirmResetPassword:{Header:lK.Header,Footer:lK.Footer},ConfirmSignIn:{Header:lH.Header,Footer:lH.Footer},VerifyUser:{Header:lG.Header,Footer:lG.Footer},ConfirmVerifyUser:{Header:lT.Header,Footer:lT.Footer},ForceNewPassword:{Header:sQ.Header,Footer:sQ.Footer,FormFields:sQ.FormFields},ForgotPassword:{Header:lX.Header,Footer:lX.Footer},Footer:()=>null};function l3(e){let{children:t,className:n,components:r,formFields:i,hideSignUp:o,initialState:a,loginMechanisms:s,passwordSettings:l,signUpAttributes:c,services:u,socialProviders:d,variation:f}=e;aV({message:"The `passwordSettings` prop has been deprecated and will be removed in a future major version of Amplify UI.",shouldWarn:!1});let{route:h,signOut:p,user:g}=tm(e=>{let{route:t,signOut:n,user:r}=e;return[t,n,r]});!function(e){let{route:t,initializeMachine:n}=tm(tv),r=eA.useRef(!1);eA.useEffect(()=>{r.current||"setup"!==t||(n(e),r.current=!0)},[n,t,e])}({initialState:a,loginMechanisms:s,passwordSettings:l,services:u,signUpAttributes:c,socialProviders:d,formFields:i});let m=eA.useMemo(()=>({components:{...l4,...r}}),[r]);return"authenticated"===h||"signOut"===h?t?eA.createElement(eA.Fragment,null,(0,eR.mf)(t)?t({signOut:p,user:g}):t):null:eA.createElement(aj.Provider,{value:m},eA.createElement(l2,{className:n,hideSignUp:o,variation:f}))}function l5(e){return!function(e){let{componentName:t,packageName:n,version:r}=e;(0,eA.useEffect)(()=>tA({componentName:t,packageName:n,version:r}),[t,n,r])}({componentName:"Authenticator",packageName:"react",version:"6.1.3"}),eA.createElement(aD,null,eA.createElement(l3,{...e}))}l5.Provider=aD,l5.ForgotPassword=lX,l5.SetupTotp=s5,l5.SignIn=lv,l5.SignUp=lS,l5.ForceNewPassword=sQ},163:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(4090),i=n(3604);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{variation:n="modal"}=t;return function(o){return r.createElement(i._,{variation:n,...t},t=>r.createElement(e,{...o,...t}))}}},3118:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(4090),i=n(9965),o=n(4010),a=n(7693);let s=(0,n(2112).R)((e,t)=>{let{className:n,...s}=e;return r.createElement(a.G,{as:"img",ref:t,className:(0,i.A)(o.M.Image,n),...s})});s.displayName="Image"},7693:function(e,t,n){"use strict";n.d(t,{G:function(){return U}});var r=n(4090),i=n(2247),o=n(7374),a=n(8531),s=n(435);let l=e=>e in s.e5,c=e=>"string"==typeof e&&0===e.length,u=e=>null==e||c(e),d=e=>Object.keys(e),f=(e,t,n)=>{if("string"!=typeof t)return t;if(t.includes(" "))return t.split(" ").map(t=>f(e,t,n)).join(" ");if(l(e)){let r=t.split("."),o=n[s.e5[e]];for(let e=0;e<r.length;e++){if(o){o=o[r[e]];continue}break}return(0,i.Dr)(o)?"var(--".concat((0,i.Sn)({path:[s.e5[e],...r]}),")"):t}return t},h=e=>{let{breakpoint:t,breakpoints:n,values:r}=e,i=r[t];if(void 0!==i)return i;let o=d(n).sort((e,t)=>n[t]-n[e]);for(let e of o.slice(o.indexOf(t))){let t=r[e];if(void 0!==t)return t}return null},p=e=>d(e).reduce((t,n)=>n in a.u.breakpoints.values?{...t,[n]:e[n]}:t,{}),g=e=>{let{breakpoint:t,breakpoints:n,values:r}=e,i={},o=d(n).sort((e,t)=>n[e]-n[t]);return Array.isArray(r)?r.forEach((e,t)=>{i[o[t]]=e}):"object"==typeof r&&(i=p(r)),h({breakpoint:t,breakpoints:n,values:i})},m=e=>{let{breakpoints:t}=e,n=d(t).sort((e,n)=>t[n]-t[e]);return n.map((e,r)=>{let i="",o=t[e],a=n[r-1],s=a?t[a]-1:null;return o>=0&&(i="(min-width: ".concat(o,"px)")),null!==s&&(i&&(i+=" and "),i+="(max-width: ".concat(s,"px)")),{breakpoint:e,query:i,maxWidth:s,minWidth:o}})},v=r.useLayoutEffect,y=e=>{let{breakpoints:t,defaultBreakpoint:n}=e,i=void 0!==window.matchMedia?window.matchMedia:null,o=r.useMemo(()=>m({breakpoints:t}),[t]),[a,s]=r.useState(n),l=r.useCallback((e,t)=>{e&&s(t)},[s]);return v(()=>{if(!i)return;let e=o.map(e=>{let{query:t,breakpoint:n}=e,r=i(t);l(r.matches,n);let o=e=>{e.matches&&s(n)};return r.addEventListener("change",o),()=>r.removeEventListener("change",o)});return()=>{e.forEach(e=>e())}},[t,s,i,o]),r.useDebugValue(a,e=>e),a};var E=n(9868),S=n(4209);let w=e=>void 0===e||void 0===e.theme?(0,E.j)():e.theme,x=()=>w(r.useContext(S.N));var b=n(6373);let C=e=>{let{value:t,propKey:n,tokens:r}=e;return(0,i.Dr)(t)?t.toString():(0,b.HD)(t)?(0,b.HD)(n)?f(n,t,r):t:null},I=e=>"auto"===e||"number"==typeof e&&!isNaN(e)||"string"==typeof e&&!isNaN(parseFloat(e)),A=e=>"auto"===e?"auto":"span ".concat(e),_=e=>I(e)?A(e):Array.isArray(e)?e.map(e=>A(e)):"object"==typeof e&&null!=e?Object.entries(e).reduce((e,t)=>{let[n,r]=t;return{...e,[n]:A(r)}},{}):null,R=e=>{let{rowSpan:t,columnSpan:n,row:i,column:o,...a}=e,{rowFromSpanValue:s,columnFromSpanValue:l}=r.useMemo(()=>({rowFromSpanValue:_(t),columnFromSpanValue:_(n)}),[t,n]);return{row:u(i)?s:i,column:u(o)?l:o,...a}},T=e=>e in o.Q,N=e=>{let{props:t={},style:n={},breakpoint:r,breakpoints:a,tokens:s}=e,l={};return Object.keys(t).filter(e=>null!==t[e]).forEach(e=>{if(T(e)){let l=t[e];if(!l||c(l))return;let u=o.Q[e],d="";(0,i.Dr)(l)?d=l.toString():"string"==typeof l?d=f(e,l,s):"number"==typeof l?d=l:"object"==typeof l&&(d=C({propKey:e,tokens:s,value:g({values:l,breakpoint:r,breakpoints:a})})),n={...n,[u]:d}}else void 0!==t[e]&&(l[e]=t[e])}),{propStyles:n,nonStyleProps:l}},P=(e,t)=>{let{breakpoints:{values:n,defaultBreakpoint:i},tokens:o}=x(),a=y({breakpoints:n,defaultBreakpoint:i}),s=R(e);return r.useMemo(()=>N({props:s,style:t,breakpoint:a,breakpoints:n,tokens:o}),[s,t,n,a,o])},U=(0,n(2112).R)((e,t)=>{let{as:n="div",children:i,testId:o,ariaLabel:a,isDisabled:s,style:l,inert:c,...u}=e,{propStyles:d,nonStyleProps:f}=P(u,l);return r.createElement(n,{"aria-label":a,"data-testid":o,disabled:s,ref:t,inert:c?"":null,style:d,...f},i)});U.displayName="View"},435:function(e,t,n){"use strict";n.d(t,{ComponentText:function(){return r},e5:function(){return i}});let r={Alert:{dismissButtonLabel:"Dismiss alert"},Autocomplete:{emptyText:"No options found",loadingText:"Loading options..."},Collection:{searchButtonLabel:"Search",searchNoResultsFound:"No results found"},Fields:{clearButtonLabel:"Clear input"},Message:{dismissLabel:"Dismiss message"},PaginationItem:{currentPageLabel:"Page",nextLabel:"Go to next page",pageLabel:"Go to page",previousLabel:"Go to previous page"},PhoneNumberField:{countryCodeLabel:"Country code"},SearchField:{searchButtonLabel:"Search"},PasswordField:{passwordIsHidden:"Password is hidden",passwordIsShown:"Password is shown",showPassword:"Show password"},StepperField:{increaseButtonLabel:"Increase to",decreaseButtonLabel:"Decrease to"}},i={backgroundColor:"colors",borderColor:"colors",borderWidth:"borderWidths",color:"colors",borderRadius:"radii",fontSize:"fontSizes",fontWeight:"fontWeights",fontFamily:"fonts",lineHeight:"lineHeights",opacity:"opacities",boxShadow:"shadows",transform:"transforms",left:"space",right:"space",top:"space",bottom:"space",height:"space",width:"space",letterSpacing:"space",margin:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",marginLeft:"space",marginRight:"space",marginTop:"space",marginBottom:"space",maxHeight:"space",maxWidth:"space",minHeight:"space",minWidth:"space",padding:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",paddingLeft:"space",paddingRight:"space",paddingTop:"space",paddingBottom:"space",gap:"space",columnGap:"space",rowGap:"space"}},7374:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});let r={alignContent:"alignContent",alignItems:"alignItems",alignSelf:"alignSelf",area:"gridArea",aspectRatio:"aspectRatio",autoColumns:"gridAutoColumns",autoFlow:"gridAutoFlow",autoRows:"gridAutoRows",backgroundColor:"backgroundColor",backgroundImage:"backgroundImage",basis:"flexBasis",border:"border",borderRadius:"borderRadius",borderColor:"borderColor",borderWidth:"borderWidth",borderStyle:"borderStyle",bottom:"bottom",boxShadow:"boxShadow",color:"color",column:"gridColumn",columnEnd:"gridColumnEnd",columnGap:"columnGap",columnSpan:"gridColumn",columnStart:"gridColumnStart",direction:"flexDirection",display:"display",flex:"flex",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",gap:"gap",grow:"flexGrow",height:"height",justifyContent:"justifyContent",left:"left",letterSpacing:"letterSpacing",lineHeight:"lineHeight",margin:"margin",marginBlock:"marginBlock",marginBlockEnd:"marginBlockEnd",marginBlockStart:"marginBlockStart",marginBottom:"marginBlockEnd",marginInline:"marginInline",marginInlineEnd:"marginInlineEnd",marginInlineStart:"marginInlineStart",marginLeft:"marginInlineStart",marginRight:"marginInlineEnd",marginTop:"marginBlockStart",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",objectFit:"objectFit",objectPosition:"objectPosition",opacity:"opacity",order:"order",overflow:"overflow",padding:"padding",paddingBlock:"paddingBlock",paddingBlockEnd:"paddingBlockEnd",paddingBlockStart:"paddingBlockStart",paddingBottom:"paddingBlockEnd",paddingInline:"paddingInline",paddingInlineEnd:"paddingInlineEnd",paddingInlineStart:"paddingInlineStart",paddingLeft:"paddingInlineStart",paddingRight:"paddingInlineEnd",paddingTop:"paddingBlockStart",position:"position",resize:"resize",right:"right",row:"gridRow",rowEnd:"gridRowEnd",rowGap:"rowGap",rowSpan:"gridRow",rowStart:"gridRowStart",shrink:"flexShrink",templateAreas:"gridTemplateAreas",templateColumns:"gridTemplateColumns",templateRows:"gridTemplateRows",textAlign:"textAlign",textDecoration:"textDecoration",textTransform:"textTransform",top:"top",transform:"transform",transformOrigin:"transformOrigin",width:"width",whiteSpace:"whiteSpace",wrap:"flexWrap"};Object.keys(r)},2112:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(4090);let i=e=>r.forwardRef(e)},4010:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});let r={Accordion:"amplify-accordion",AccordionItem:"amplify-accordion__item",AccordionItemTrigger:"amplify-accordion__item__trigger",AccordionItemContent:"amplify-accordion__item__content",AccordionItemIcon:"amplify-accordion__item__icon",Alert:"amplify-alert",AlertIcon:"amplify-alert__icon",AlertHeading:"amplify-alert__heading",AlertBody:"amplify-alert__body",AlertDismiss:"amplify-alert__dismiss",Autocomplete:"amplify-autocomplete",AutocompleteMenu:"amplify-autocomplete__menu",AutocompleteMenuEmpty:"amplify-autocomplete__menu--empty",AutocompleteMenuFooter:"amplify-autocomplete__menu__footer",AutocompleteMenuHeader:"amplify-autocomplete__menu__header",AutocompleteMenuLoading:"amplify-autocomplete__menu--loading",AutocompleteMenuOption:"amplify-autocomplete__menu__option",AutocompleteMenuOptions:"amplify-autocomplete__menu__options",Badge:"amplify-badge",Breadcrumbs:"amplify-breadcrumbs",BreadcrumbsList:"amplify-breadcrumbs__list",BreadcrumbsItem:"amplify-breadcrumbs__item",BreadcrumbsSeparator:"amplify-breadcrumbs__separator",BreadcrumbsLink:"amplify-breadcrumbs__link",Button:"amplify-button",ButtonGroup:"amplify-buttongroup",ButtonLoaderWrapper:"amplify-button__loader-wrapper",Card:"amplify-card",Checkbox:"amplify-checkbox",CheckboxButton:"amplify-checkbox__button",CheckboxIcon:"amplify-checkbox__icon",CheckboxInput:"amplify-checkbox__input",CheckboxLabel:"amplify-checkbox__label",CheckboxField:"amplify-checkboxfield",Collection:"amplify-collection",CollectionItems:"amplify-collection-items",CollectionSearch:"amplify-collection-search",CollectionPagination:"amplify-collection-pagination",CountryCodeSelect:"amplify-countrycodeselect",DialCodeSelect:"amplify-dialcodeselect",Divider:"amplify-divider",DividerLabel:"amplify-divider--label",DropZone:"amplify-dropzone",Field:"amplify-field",FieldDescription:"amplify-field__description",FieldErrorMessage:"amplify-field__error-message",FieldGroup:"amplify-field-group",FieldGroupControl:"amplify-field-group__control",FieldGroupOuterEnd:"amplify-field-group__outer-end",FieldGroupOuterStart:"amplify-field-group__outer-start",FieldGroupInnerEnd:"amplify-field-group__inner-end",FieldGroupInnerStart:"amplify-field-group__inner-start",FieldGroupIcon:"amplify-field-group__icon",FieldGroupIconButton:"amplify-field-group__icon-button",FieldGroupHasInnerEnd:"amplify-field-group--has-inner-end",FieldGroupHasInnerStart:"amplify-field-group--has-inner-start",FieldShowPassword:"amplify-field__show-password",FieldGroupFieldWrapper:"amplify-field-group__field-wrapper",Fieldset:"amplify-fieldset",FieldsetLegend:"amplify-fieldset__legend",Flex:"amplify-flex",Grid:"amplify-grid",Heading:"amplify-heading",HighlightMatch:"amplify-highlightmatch",HighlightMatchHighlighted:"amplify-highlightmatch__highlighted",Icon:"amplify-icon",Image:"amplify-image",Input:"amplify-input",Label:"amplify-label",Link:"amplify-link",Loader:"amplify-loader",LoaderLabel:"amplify-loader__label",MenuContent:"amplify-menu__content",MenuItem:"amplify-menu__content__item",MenuTrigger:"amplify-menu__trigger",MenuWrapper:"amplify-menu__wrapper",Message:"amplify-message",MessageIcon:"amplify-message__icon",MessageHeading:"amplify-message__heading",MessageBody:"amplify-message__body",MessageContent:"amplify-message__content",MessageDismiss:"amplify-message__dismiss",Pagination:"amplify-pagination",PaginationItem:"amplify-pagination__item",PasswordField:"amplify-passwordfield",PhoneNumberField:"amplify-phonenumberfield",Placeholder:"amplify-placeholder",Radio:"amplify-radio",RadioButton:"amplify-radio__button",RadioInput:"amplify-radio__input",RadioLabel:"amplify-radio__label",RadioGroupField:"amplify-radiogroupfield",RadioGroup:"amplify-radiogroup",Rating:"amplify-rating",RatingItem:"amplify-rating__item",RatingIcon:"amplify-rating__icon",RatingLabel:"amplify-rating__label",ScrollView:"amplify-scrollview",SearchField:"amplify-searchfield",SearchFieldClear:"amplify-searchfield__clear",SearchFieldSearch:"amplify-searchfield__search",Select:"amplify-select",SelectField:"amplify-selectfield",SelectWrapper:"amplify-select__wrapper",SelectIcon:"amplify-select__icon",SliderField:"amplify-sliderfield",SliderFieldGroup:"amplify-sliderfield__group",SliderFieldLabel:"amplify-sliderfield__label",SliderFieldRange:"amplify-sliderfield__range",SliderFieldRoot:"amplify-sliderfield__root",SliderFieldThumb:"amplify-sliderfield__thumb",SliderFieldTrack:"amplify-sliderfield__track",StepperField:"amplify-stepperfield",StepperFieldButtonDecrease:"amplify-stepperfield__button--decrease",StepperFieldButtonIncrease:"amplify-stepperfield__button--increase",StepperFieldInput:"amplify-stepperfield__input",StorageImage:"amplify-storageimage",StorageManager:"amplify-storagemanager",StorageManagerDropZone:"amplify-storagemanager__dropzone",StorageManagerDropZoneIcon:"amplify-storagemanager__dropzone__icon",StorageManagerDropZoneText:"amplify-storagemanager__dropzone__text",StorageManagerFilePicker:"amplify-storagemanager__file__picker",StorageManagerFile:"amplify-storagemanager__file",StorageManagerFileWrapper:"amplify-storagemanager__file__wrapper",StorageManagerFileList:"amplify-storagemanager__file__list",StorageManagerFileName:"amplify-storagemanager__file__name",StorageManagerFileSize:"amplify-storagemanager__file__size",StorageManagerFileInfo:"amplify-storagemanager__file__info",StorageManagerFileImage:"amplify-storagemanager__file__image",StorageManagerFileMain:"amplify-storagemanager__file__main",StorageManagerFileStatus:"amplify-storagemanager__file__status",StorageManagerLoader:"amplify-storagemanager__loader",StorageManagerPreviewer:"amplify-storagemanager__previewer",StorageManagerPreviewerText:"amplify-storagemanager__previewer__text",StorageManagerPreviewerActions:"amplify-storagemanager__previewer__actions",StorageManagerPreviewerFooter:"amplify-storagemanager__previewer__footer",SwitchField:"amplify-switchfield",SwitchLabel:"amplify-switch__label",SwitchThumb:"amplify-switch__thumb",SwitchTrack:"amplify-switch__track",SwitchWrapper:"amplify-switch__wrapper",Table:"amplify-table",TableCaption:"amplify-table__caption",TableBody:"amplify-table__body",TableTd:"amplify-table__td",TableTh:"amplify-table__th",TableFoot:"amplify-table__foot",TableHead:"amplify-table__head",TableRow:"amplify-table__row",Tabs:"amplify-tabs",TabsList:"amplify-tabs__list",TabsItem:"amplify-tabs__item",TabsPanel:"amplify-tabs__panel",Text:"amplify-text",Textarea:"amplify-textarea",TextAreaField:"amplify-textareafield",TextField:"amplify-textfield",ToggleButton:"amplify-togglebutton",ToggleButtonGroup:"amplify-togglebuttongroup",VisuallyHidden:"amplify-visually-hidden"}},9965:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(6373);let i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let o=[];for(let e of t)if(e){if((0,r.HD)(e)){o.push(e);continue}if("number"==typeof e){o.push(e.toString());continue}if(Array.isArray(e)){o.push(i(...e));continue}if((0,r.Kn)(e)){if(e.toString!==Object.prototype.toString&&"[object Object]"!==e.toString()){o.push(e.toString());continue}for(let t in e)(0,r.e$)(e,t)&&e[t]&&o.push(t)}}return o.join(" ")}},851:function(e,t,n){"use strict";n.d(t,{V:function(){return K}});var r=n(9826);/*! js-cookie v3.0.5 | MIT */function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var o=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=i({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in o)o[s]&&(a+="; "+s,!0!==o[s]&&(a+="="+o[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class a{async setItem(e,t){o.set(e,t,this.getData())}async getItem(e){let t=o.get(e);return null!=t?t:null}async removeItem(e){o.remove(e,this.getData())}async clear(){let e=Object.keys(o.get()).map(e=>this.removeItem(e));await Promise.all(e)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}constructor(e={}){let{path:t,domain:n,expires:r,sameSite:i,secure:o}=e;if(this.domain=n,this.path=t||"/",this.expires=e.hasOwnProperty("expires")?r:365,this.secure=!e.hasOwnProperty("secure")||o,e.hasOwnProperty("sameSite")){if(!i||!["strict","lax","none"].includes(i))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===i&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=i}}}var s=n(4145),l=n(3949),c=n(9723),u=n(709),d=n(3853);let f={identityId:"identityId"};var h=n(9486);let p=new u.k("DefaultIdentityIdStore");class g{setAuthConfig(e){(0,d.YE)(e.Cognito),this.authConfig=e,this._authKeys=m("Cognito",e.Cognito.identityPoolId)}async loadIdentityId(){var e;(0,d.YE)(null===(e=this.authConfig)||void 0===e?void 0:e.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);if(e)return{id:e,type:"guest"};return null}}catch(e){return p.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){var t;(0,d.YE)(null===(t=this.authConfig)||void 0===t?void 0:t.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0):(this._primaryIdentityId=e.id,this.keyValueStorage.removeItem(this._authKeys.identityId))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}constructor(e){this._authKeys={},this.keyValueStorage=e}}let m=(e,t)=>(0,h._X)(f)("com.amplify.".concat(e),t);var v=n(6046),y=n(9356),E=n(6759),S=n(17);n(146),n(2004);var w=n(6070),x=n(9464),b=n(7728),C=n(3279),I=n(2188);let A=(0,x.V)(y.y,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),_={service:"cognito-identity",endpointResolver:e=>{let{region:t}=e;return{url:new w.a("https://cognito-identity.".concat(t,".").concat((0,v.b)(t)))}},retryDecider:(0,S.j)(b.f),computeDelay:E.k,userAgentValue:(0,C.Zm)(),cache:"no-store"};(0,I.QW)(()=>{_.userAgentValue=(0,C.Zm)()});let R=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}),T=(e,t,n)=>{let{url:r}=e;return{headers:t,url:r,body:n,method:"POST"}};var N=n(5610),P=n(7579);let U=async e=>{if(!(e.statusCode>=300))return{IdentityId:(await (0,b.e)(e)).IdentityId,$metadata:(0,N.B)(e)};throw await (0,b.f)(e)},M=(0,P.z)(A,(e,t)=>T(t,R("GetId"),JSON.stringify(e)),U,_);var F=n(7753),k=n(9467);function O(e){let t=(0,d.xp)(e).payload.iss,n={};if(!t)throw new F.l({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}let D=new u.k("CognitoIdentityIdProvider");async function L(e){let{tokens:t,authConfig:n,identityIdStore:r}=e;r.setAuthConfig({Cognito:n});let i=await r.loadIdentityId();if(t){if(i&&"primary"===i.type)return i.id;{let e=t.idToken?O(t.idToken.toString()):{},r=await B(e,n);i&&i.id===r&&D.debug("The guest identity ".concat(i.id," has become the primary identity.")),i={id:r,type:"primary"}}}else{if(i&&"guest"===i.type)return i.id;i={id:await B({},n),type:"guest"}}return r.storeIdentityId(i),i.id}async function B(e,t){let n=null==t?void 0:t.identityPoolId,r=(0,k.N)(n),i=(await M({region:r},{IdentityPoolId:n,Logins:e})).IdentityId;if(!i)throw new F.l({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}let V=async e=>{if(e.statusCode>=300)throw await (0,b.f)(e);{let t=await (0,b.e)(e);return{IdentityId:t.IdentityId,Credentials:j(t.Credentials),$metadata:(0,N.B)(e)}}},j=function(){let{AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r&&new Date(1e3*r)}},G=(0,P.z)(A,(e,t)=>T(t,R("GetCredentialsForIdentity"),JSON.stringify(e)),V,_);var z=n(3822);let H=new u.k("CognitoCredentialsProvider");class W{async clearCredentialsAndIdentityId(){H.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){H.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let t=e.authenticated,n=e.tokens,r=e.authConfig;try{(0,d.YE)(null==r?void 0:r.Cognito)}catch(e){return}if(!t&&!r.Cognito.allowGuestAccess)return;let i=e.forceRefresh,o=this.hasTokenChanged(n),a=await L({tokens:n,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return((i||o)&&this.clearCredentials(),t)?((0,z.Cg)(n),this.credsForOIDCTokens(r.Cognito,n,a)):this.getGuestCredentials(a,r.Cognito)}async getGuestCredentials(e,t){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return H.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let n=(0,k.N)(t.identityPoolId),r=await G({region:n},{IdentityId:e});if(r.Credentials&&r.Credentials.AccessKeyId&&r.Credentials.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let t={credentials:{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration},identityId:e},n=r.IdentityId;return n&&(t.identityId=n,this._identityIdStore.storeIdentityId({id:n,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new F.l({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return H.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let r=t.idToken?O(t.idToken.toString()):{},i=(0,k.N)(e.identityPoolId),o=await G({region:i},{IdentityId:n,Logins:r});if(o.Credentials&&o.Credentials.AccessKeyId&&o.Credentials.SecretKey){var a;let e={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:n};this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:null===(a=t.idToken)||void 0===a?void 0:a.toString()},this._nextCredentialsRefresh=new Date().getTime()+3e6;let r=o.IdentityId;return r&&(e.identityId=r,this._identityIdStore.storeIdentityId({id:r,type:"primary"})),e}throw new F.l({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){var t,n;return!!e&&!!(null===(t=this._credentialsAndIdentityId)||void 0===t?void 0:t.associatedIdToken)&&(null===(n=e.idToken)||void 0===n?void 0:n.toString())!==this._credentialsAndIdentityId.associatedIdToken}constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}}let q=new W(new g(s.Fm)),K={configure(e,t){let n;return!(n=Object.keys(e).some(e=>e.startsWith("aws_"))?(0,l.h)(e):e).Auth||(null==t?void 0:t.Auth)?r.d.configure(n,t):r.d.libraryOptions.Auth?t?(void 0!==t.ssr&&c.D.setKeyValueStorage(t.ssr?new a({sameSite:"lax"}):s.Fm),r.d.configure(n,{Auth:r.d.libraryOptions.Auth,...t})):void r.d.configure(n):(c.D.setAuthConfig(n.Auth),c.D.setKeyValueStorage((null==t?void 0:t.ssr)?new a({sameSite:"lax"}):s.Fm),r.d.configure(n,{...t,Auth:{tokenProvider:c.D,credentialsProvider:q}}))},getConfig:()=>r.d.getConfig()}}}]);